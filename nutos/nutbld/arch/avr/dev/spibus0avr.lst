GAS LISTING /tmp/ccqTZxXM.s 			page 1


   1               		.file	"spibus0avr.c"
   2               	__SP_H__ = 0x3e
   3               	__SP_L__ = 0x3d
   4               	__SREG__ = 0x3f
   5               	__RAMPZ__ = 0x3b
   6               	__tmp_reg__ = 0
   7               	__zero_reg__ = 1
   8               		.section	.text.AvrSpiBus0NodeInit,"ax",@progbits
   9               	.global	AvrSpiBus0NodeInit
  10               		.type	AvrSpiBus0NodeInit, @function
  11               	AvrSpiBus0NodeInit:
  12               	/* prologue: function */
  13               	/* frame size = 0 */
  14               	/* stack size = 0 */
  15               	.L__stack_usage = 0
  16 0000 85E0      		ldi r24,lo8(5)
  17 0002 90E0      		ldi r25,0
  18 0004 9093 0000 		sts errno+1,r25
  19 0008 8093 0000 		sts errno,r24
  20 000c 8FEF      		ldi r24,lo8(-1)
  21 000e 9FEF      		ldi r25,lo8(-1)
  22 0010 0895      		ret
  23               		.size	AvrSpiBus0NodeInit, .-AvrSpiBus0NodeInit
  24               		.section	.text.AvrSpiBus0Deselect,"ax",@progbits
  25               	.global	AvrSpiBus0Deselect
  26               		.type	AvrSpiBus0Deselect, @function
  27               	AvrSpiBus0Deselect:
  28               	/* prologue: function */
  29               	/* frame size = 0 */
  30               	/* stack size = 0 */
  31               	.L__stack_usage = 0
  32 0000 25E0      		ldi r18,lo8(5)
  33 0002 30E0      		ldi r19,0
  34 0004 3093 0000 		sts errno+1,r19
  35 0008 2093 0000 		sts errno,r18
  36 000c FC01      		movw r30,r24
  37 000e 8081      		ld r24,Z
  38 0010 9181      		ldd r25,Z+1
  39 0012 0E94 0000 		call NutEventPost
  40 0016 80E0      		ldi r24,0
  41 0018 90E0      		ldi r25,0
  42 001a 0895      		ret
  43               		.size	AvrSpiBus0Deselect, .-AvrSpiBus0Deselect
  44               		.section	.text.AvrSpiBus0Transfer,"ax",@progbits
  45               	.global	AvrSpiBus0Transfer
  46               		.type	AvrSpiBus0Transfer, @function
  47               	AvrSpiBus0Transfer:
  48               	/* prologue: function */
  49               	/* frame size = 0 */
  50               	/* stack size = 0 */
  51               	.L__stack_usage = 0
  52 0000 2115      		cp r18,__zero_reg__
  53 0002 3105      		cpc r19,__zero_reg__
  54 0004 01F0      		breq .L4
  55 0006 7093 0000 		sts spi0_txp+1,r23
  56 000a 6093 0000 		sts spi0_txp,r22
  57 000e 5093 0000 		sts spi0_rxp+1,r21
GAS LISTING /tmp/ccqTZxXM.s 			page 2


  58 0012 4093 0000 		sts spi0_rxp,r20
  59 0016 3093 0000 		sts spi0_xc+1,r19
  60 001a 2093 0000 		sts spi0_xc,r18
  61 001e 8091 0000 		lds r24,spi0_txp
  62 0022 9091 0000 		lds r25,spi0_txp+1
  63 0026 892B      		or r24,r25
  64 0028 01F0      		breq .L6
  65 002a E091 0000 		lds r30,spi0_txp
  66 002e F091 0000 		lds r31,spi0_txp+1
  67 0032 CF01      		movw r24,r30
  68 0034 0196      		adiw r24,1
  69 0036 9093 0000 		sts spi0_txp+1,r25
  70 003a 8093 0000 		sts spi0_txp,r24
  71 003e 9081      		ld r25,Z
  72 0040 00C0      		rjmp .L5
  73               	.L6:
  74 0042 9FEF      		ldi r25,lo8(-1)
  75               	.L5:
  76 0044 8CB5      		in r24,0x2c
  77 0046 8068      		ori r24,lo8(-128)
  78 0048 8CBD      		out 0x2c,r24
  79 004a 9EBD      		out 0x2e,r25
  80 004c 40E0      		ldi r20,0
  81 004e 50E0      		ldi r21,0
  82 0050 BA01      		movw r22,r20
  83 0052 80E0      		ldi r24,lo8(spi0_que)
  84 0054 90E0      		ldi r25,hi8(spi0_que)
  85 0056 0E94 0000 		call NutEventWait
  86 005a 8CB5      		in r24,0x2c
  87 005c 8F77      		andi r24,lo8(127)
  88 005e 8CBD      		out 0x2c,r24
  89               	.L4:
  90 0060 80E0      		ldi r24,0
  91 0062 90E0      		ldi r25,0
  92 0064 0895      		ret
  93               		.size	AvrSpiBus0Transfer, .-AvrSpiBus0Transfer
  94               		.section	.text.AvrSpiBus0Select,"ax",@progbits
  95               	.global	AvrSpiBus0Select
  96               		.type	AvrSpiBus0Select, @function
  97               	AvrSpiBus0Select:
  98 0000 0F93      		push r16
  99 0002 1F93      		push r17
 100 0004 CF93      		push r28
 101 0006 DF93      		push r29
 102               	/* prologue: function */
 103               	/* frame size = 0 */
 104               	/* stack size = 4 */
 105               	.L__stack_usage = 4
 106 0008 EC01      		movw r28,r24
 107 000a 8881      		ld r24,Y
 108 000c 9981      		ldd r25,Y+1
 109 000e 0E94 0000 		call NutEventWait
 110 0012 0097      		sbiw r24,0
 111 0014 01F0      		breq .L12
 112 0016 25E0      		ldi r18,lo8(5)
 113 0018 30E0      		ldi r19,0
 114 001a 3093 0000 		sts errno+1,r19
GAS LISTING /tmp/ccqTZxXM.s 			page 3


 115 001e 2093 0000 		sts errno,r18
 116 0022 00C0      		rjmp .L13
 117               	.L12:
 118 0024 0A81      		ldd r16,Y+2
 119 0026 1B81      		ldd r17,Y+3
 120 0028 8885      		ldd r24,Y+8
 121 002a 9985      		ldd r25,Y+9
 122 002c 97FF      		sbrs r25,7
 123 002e 00C0      		rjmp .L14
 124 0030 CE01      		movw r24,r28
 125 0032 0E94 0000 		call AvrSpiSetup
 126               	.L14:
 127 0036 F801      		movw r30,r16
 128 0038 8081      		ld r24,Z
 129 003a 83FF      		sbrs r24,3
 130 003c 00C0      		rjmp .L15
 131 003e 2998      		cbi 0x5,1
 132 0040 00C0      		rjmp .L16
 133               	.L15:
 134 0042 299A      		sbi 0x5,1
 135               	.L16:
 136 0044 219A      		sbi 0x4,1
 137 0046 2A98      		cbi 0x5,2
 138 0048 229A      		sbi 0x4,2
 139 004a 209B      		sbis 0x4,0
 140 004c 289A      		sbi 0x5,0
 141               	.L17:
 142 004e 2B9A      		sbi 0x5,3
 143 0050 F801      		movw r30,r16
 144 0052 8081      		ld r24,Z
 145 0054 8CBD      		out 0x2c,r24
 146 0056 8181      		ldd r24,Z+1
 147 0058 8DBD      		out 0x2d,r24
 148 005a 8DB5      		in r24,0x2d
 149 005c 8EB5      		in r24,0x2e
 150 005e 85E0      		ldi r24,lo8(5)
 151 0060 90E0      		ldi r25,0
 152 0062 9093 0000 		sts errno+1,r25
 153 0066 8093 0000 		sts errno,r24
 154 006a 8881      		ld r24,Y
 155 006c 9981      		ldd r25,Y+1
 156 006e 0E94 0000 		call NutEventPost
 157 0072 8FEF      		ldi r24,lo8(-1)
 158 0074 9FEF      		ldi r25,lo8(-1)
 159               	.L13:
 160               	/* epilogue start */
 161 0076 DF91      		pop r29
 162 0078 CF91      		pop r28
 163 007a 1F91      		pop r17
 164 007c 0F91      		pop r16
 165 007e 0895      		ret
 166               		.size	AvrSpiBus0Select, .-AvrSpiBus0Select
 167               	.global	spiBus0Avr
 168               		.data
 169               		.type	spiBus0Avr, @object
 170               		.size	spiBus0Avr, 24
 171               	spiBus0Avr:
GAS LISTING /tmp/ccqTZxXM.s 			page 4


 172 0000 0000      		.word	0
 173 0002 0000      		.word	0
 174 0004 0000      		.word	0
 175 0006 0000      		.word	sig_SPI
 176 0008 0000      		.word	gs(AvrSpiBus0NodeInit)
 177 000a 0000      		.word	gs(AvrSpiBus0Select)
 178 000c 0000      		.word	gs(AvrSpiBus0Deselect)
 179 000e 0000      		.word	gs(AvrSpiBus0Transfer)
 180 0010 0000      		.word	gs(NutSpiBusWait)
 181 0012 0000      		.word	gs(NutSpiBusSetMode)
 182 0014 0000      		.word	gs(NutSpiBusSetRate)
 183 0016 0000      		.word	gs(NutSpiBusSetBits)
 184               		.local	spi0_xc
 185               		.comm	spi0_xc,2,1
 186               		.local	spi0_que
 187               		.comm	spi0_que,2,1
 188               		.local	spi0_rxp
 189               		.comm	spi0_rxp,2,1
 190               		.local	spi0_txp
 191               		.comm	spi0_txp,2,1
 192               		.ident	"GCC: (GNU) 5.3.0"
 193               	.global __do_copy_data
 194               	.global __do_clear_bss
GAS LISTING /tmp/ccqTZxXM.s 			page 5


DEFINED SYMBOLS
                            *ABS*:0000000000000000 spibus0avr.c
     /tmp/ccqTZxXM.s:2      *ABS*:000000000000003e __SP_H__
     /tmp/ccqTZxXM.s:3      *ABS*:000000000000003d __SP_L__
     /tmp/ccqTZxXM.s:4      *ABS*:000000000000003f __SREG__
     /tmp/ccqTZxXM.s:5      *ABS*:000000000000003b __RAMPZ__
     /tmp/ccqTZxXM.s:6      *ABS*:0000000000000000 __tmp_reg__
     /tmp/ccqTZxXM.s:7      *ABS*:0000000000000001 __zero_reg__
     /tmp/ccqTZxXM.s:11     .text.AvrSpiBus0NodeInit:0000000000000000 AvrSpiBus0NodeInit
     /tmp/ccqTZxXM.s:27     .text.AvrSpiBus0Deselect:0000000000000000 AvrSpiBus0Deselect
     /tmp/ccqTZxXM.s:47     .text.AvrSpiBus0Transfer:0000000000000000 AvrSpiBus0Transfer
     /tmp/ccqTZxXM.s:189    .bss:0000000000000006 spi0_txp
     /tmp/ccqTZxXM.s:187    .bss:0000000000000004 spi0_rxp
                             .bss:0000000000000000 spi0_xc
     /tmp/ccqTZxXM.s:185    .bss:0000000000000002 spi0_que
     /tmp/ccqTZxXM.s:97     .text.AvrSpiBus0Select:0000000000000000 AvrSpiBus0Select
     /tmp/ccqTZxXM.s:171    .data:0000000000000000 spiBus0Avr

UNDEFINED SYMBOLS
errno
NutEventPost
NutEventWait
AvrSpiSetup
sig_SPI
NutSpiBusWait
NutSpiBusSetMode
NutSpiBusSetRate
NutSpiBusSetBits
__do_copy_data
__do_clear_bss
