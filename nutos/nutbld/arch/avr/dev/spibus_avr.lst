GAS LISTING /tmp/ccN1MvGK.s 			page 1


   1               		.file	"spibus_avr.c"
   2               	__SP_H__ = 0x3e
   3               	__SP_L__ = 0x3d
   4               	__SREG__ = 0x3f
   5               	__RAMPZ__ = 0x3b
   6               	__tmp_reg__ = 0
   7               	__zero_reg__ = 1
   8               		.section	.text.AvrSpiSetup,"ax",@progbits
   9               	.global	AvrSpiSetup
  10               		.type	AvrSpiSetup, @function
  11               	AvrSpiSetup:
  12 0000 CF92      		push r12
  13 0002 DF92      		push r13
  14 0004 EF92      		push r14
  15 0006 FF92      		push r15
  16 0008 0F93      		push r16
  17 000a 1F93      		push r17
  18 000c CF93      		push r28
  19 000e DF93      		push r29
  20               	/* prologue: function */
  21               	/* frame size = 0 */
  22               	/* stack size = 8 */
  23               	.L__stack_usage = 8
  24 0010 8C01      		movw r16,r24
  25 0012 FC01      		movw r30,r24
  26 0014 C281      		ldd r28,Z+2
  27 0016 D381      		ldd r29,Z+3
  28 0018 8085      		ldd r24,Z+8
  29 001a 9185      		ldd r25,Z+9
  30 001c 8370      		andi r24,3
  31 001e 9927      		clr r25
  32 0020 880F      		lsl r24
  33 0022 991F      		rol r25
  34 0024 880F      		lsl r24
  35 0026 991F      		rol r25
  36 0028 8065      		ori r24,lo8(80)
  37 002a 8883      		st Y,r24
  38 002c 0E94 0000 		call NutGetCpuClock
  39 0030 F801      		movw r30,r16
  40 0032 C480      		ldd r12,Z+4
  41 0034 D580      		ldd r13,Z+5
  42 0036 E680      		ldd r14,Z+6
  43 0038 F780      		ldd r15,Z+7
  44 003a 30E0      		ldi r19,0
  45               	.L3:
  46 003c 9695      		lsr r25
  47 003e 8795      		ror r24
  48 0040 7795      		ror r23
  49 0042 6795      		ror r22
  50 0044 C616      		cp r12,r22
  51 0046 D706      		cpc r13,r23
  52 0048 E806      		cpc r14,r24
  53 004a F906      		cpc r15,r25
  54 004c 00F4      		brsh .L2
  55 004e 3F5F      		subi r19,lo8(-(1))
  56 0050 3730      		cpi r19,lo8(7)
  57 0052 01F4      		brne .L3
GAS LISTING /tmp/ccN1MvGK.s 			page 2


  58               	.L2:
  59 0054 2881      		ld r18,Y
  60 0056 432F      		mov r20,r19
  61 0058 4695      		lsr r20
  62 005a 242B      		or r18,r20
  63 005c 2883      		st Y,r18
  64 005e 3630      		cpi r19,lo8(6)
  65 0060 00F4      		brsh .L4
  66 0062 232F      		mov r18,r19
  67 0064 2095      		com r18
  68 0066 2170      		andi r18,lo8(1)
  69 0068 2983      		std Y+1,r18
  70               	.L4:
  71 006a F801      		movw r30,r16
  72 006c 6483      		std Z+4,r22
  73 006e 7583      		std Z+5,r23
  74 0070 8683      		std Z+6,r24
  75 0072 9783      		std Z+7,r25
  76 0074 8085      		ldd r24,Z+8
  77 0076 9185      		ldd r25,Z+9
  78 0078 9F77      		andi r25,127
  79 007a 9187      		std Z+9,r25
  80 007c 8087      		std Z+8,r24
  81 007e 80E0      		ldi r24,0
  82 0080 90E0      		ldi r25,0
  83               	/* epilogue start */
  84 0082 DF91      		pop r29
  85 0084 CF91      		pop r28
  86 0086 1F91      		pop r17
  87 0088 0F91      		pop r16
  88 008a FF90      		pop r15
  89 008c EF90      		pop r14
  90 008e DF90      		pop r13
  91 0090 CF90      		pop r12
  92 0092 0895      		ret
  93               		.size	AvrSpiSetup, .-AvrSpiSetup
  94               		.ident	"GCC: (GNU) 5.3.0"
GAS LISTING /tmp/ccN1MvGK.s 			page 3


DEFINED SYMBOLS
                            *ABS*:0000000000000000 spibus_avr.c
     /tmp/ccN1MvGK.s:2      *ABS*:000000000000003e __SP_H__
     /tmp/ccN1MvGK.s:3      *ABS*:000000000000003d __SP_L__
     /tmp/ccN1MvGK.s:4      *ABS*:000000000000003f __SREG__
     /tmp/ccN1MvGK.s:5      *ABS*:000000000000003b __RAMPZ__
     /tmp/ccN1MvGK.s:6      *ABS*:0000000000000000 __tmp_reg__
     /tmp/ccN1MvGK.s:7      *ABS*:0000000000000001 __zero_reg__
     /tmp/ccN1MvGK.s:11     .text.AvrSpiSetup:0000000000000000 AvrSpiSetup

UNDEFINED SYMBOLS
NutGetCpuClock
