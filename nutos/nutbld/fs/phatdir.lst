GAS LISTING /tmp/ccQJ5axY.s 			page 1


   1               		.file	"phatdir.c"
   2               	__SP_H__ = 0x3e
   3               	__SP_L__ = 0x3d
   4               	__SREG__ = 0x3f
   5               	__RAMPZ__ = 0x3b
   6               	__tmp_reg__ = 0
   7               	__zero_reg__ = 1
   8               		.section	.text.PhatDirEntryRelease,"ax",@progbits
   9               		.type	PhatDirEntryRelease, @function
  10               	PhatDirEntryRelease:
  11 0000 4F92      		push r4
  12 0002 5F92      		push r5
  13 0004 6F92      		push r6
  14 0006 7F92      		push r7
  15 0008 AF92      		push r10
  16 000a BF92      		push r11
  17 000c CF92      		push r12
  18 000e DF92      		push r13
  19 0010 EF92      		push r14
  20 0012 FF92      		push r15
  21 0014 0F93      		push r16
  22 0016 1F93      		push r17
  23 0018 CF93      		push r28
  24 001a DF93      		push r29
  25 001c 1F92      		push __zero_reg__
  26 001e CDB7      		in r28,__SP_L__
  27 0020 DEB7      		in r29,__SP_H__
  28               	/* prologue: function */
  29               	/* frame size = 1 */
  30               	/* stack size = 15 */
  31               	.L__stack_usage = 15
  32 0022 8C01      		movw r16,r24
  33 0024 2A01      		movw r4,r20
  34 0026 3B01      		movw r6,r22
  35 0028 7901      		movw r14,r18
  36 002a 85EE      		ldi r24,lo8(-27)
  37 002c 8983      		std Y+1,r24
  38 002e 5901      		movw r10,r18
  39 0030 85E0      		ldi r24,5
  40               		1:
  41 0032 AA0C      		lsl r10
  42 0034 BB1C      		rol r11
  43 0036 8A95      		dec r24
  44 0038 01F4      		brne 1b
  45 003a C12C      		mov r12,__zero_reg__
  46 003c D12C      		mov r13,__zero_reg__
  47               	.L2:
  48 003e E114      		cp r14,__zero_reg__
  49 0040 F104      		cpc r15,__zero_reg__
  50 0042 01F0      		breq .L7
  51 0044 C601      		movw r24,r12
  52 0046 8A0D      		add r24,r10
  53 0048 9B1D      		adc r25,r11
  54 004a B301      		movw r22,r6
  55 004c A201      		movw r20,r4
  56 004e 481B      		sub r20,r24
  57 0050 590B      		sbc r21,r25
GAS LISTING /tmp/ccQJ5axY.s 			page 2


  58 0052 6109      		sbc r22,__zero_reg__
  59 0054 7109      		sbc r23,__zero_reg__
  60 0056 C801      		movw r24,r16
  61 0058 0E94 0000 		call PhatFilePosSet
  62 005c 41E0      		ldi r20,lo8(1)
  63 005e 50E0      		ldi r21,0
  64 0060 BE01      		movw r22,r28
  65 0062 6F5F      		subi r22,-1
  66 0064 7F4F      		sbci r23,-1
  67 0066 C801      		movw r24,r16
  68 0068 0E94 0000 		call PhatFileWrite
  69 006c 20E2      		ldi r18,32
  70 006e C21A      		sub r12,r18
  71 0070 D108      		sbc r13,__zero_reg__
  72 0072 97FD      		sbrc r25,7
  73 0074 00C0      		rjmp .L5
  74 0076 81E0      		ldi r24,1
  75 0078 E81A      		sub r14,r24
  76 007a F108      		sbc r15,__zero_reg__
  77 007c 00C0      		rjmp .L2
  78               	.L7:
  79 007e B301      		movw r22,r6
  80 0080 A201      		movw r20,r4
  81 0082 C801      		movw r24,r16
  82 0084 0E94 0000 		call PhatFilePosSet
  83 0088 41E0      		ldi r20,lo8(1)
  84 008a 50E0      		ldi r21,0
  85 008c BE01      		movw r22,r28
  86 008e 6F5F      		subi r22,-1
  87 0090 7F4F      		sbci r23,-1
  88 0092 C801      		movw r24,r16
  89 0094 0E94 0000 		call PhatFileWrite
  90 0098 990F      		lsl r25
  91 009a 990B      		sbc r25,r25
  92 009c 892F      		mov r24,r25
  93 009e 990F      		lsl r25
  94 00a0 990B      		sbc r25,r25
  95 00a2 00C0      		rjmp .L3
  96               	.L5:
  97 00a4 8FEF      		ldi r24,lo8(-1)
  98 00a6 9FEF      		ldi r25,lo8(-1)
  99               	.L3:
 100               	/* epilogue start */
 101 00a8 0F90      		pop __tmp_reg__
 102 00aa DF91      		pop r29
 103 00ac CF91      		pop r28
 104 00ae 1F91      		pop r17
 105 00b0 0F91      		pop r16
 106 00b2 FF90      		pop r15
 107 00b4 EF90      		pop r14
 108 00b6 DF90      		pop r13
 109 00b8 CF90      		pop r12
 110 00ba BF90      		pop r11
 111 00bc AF90      		pop r10
 112 00be 7F90      		pop r7
 113 00c0 6F90      		pop r6
 114 00c2 5F90      		pop r5
GAS LISTING /tmp/ccQJ5axY.s 			page 3


 115 00c4 4F90      		pop r4
 116 00c6 0895      		ret
 117               		.size	PhatDirEntryRelease, .-PhatDirEntryRelease
 118               		.section	.rodata.str1.1,"aMS",@progbits,1
 119               	.LC0:
 120 0000 2B2C 3B3D 		.string	"+,;=[]"
 120      5B5D 00
 121               		.section	.text.PhatDirEntryAlloc,"ax",@progbits
 122               		.type	PhatDirEntryAlloc, @function
 123               	PhatDirEntryAlloc:
 124 0000 2F92      		push r2
 125 0002 3F92      		push r3
 126 0004 4F92      		push r4
 127 0006 5F92      		push r5
 128 0008 6F92      		push r6
 129 000a 7F92      		push r7
 130 000c 8F92      		push r8
 131 000e 9F92      		push r9
 132 0010 AF92      		push r10
 133 0012 BF92      		push r11
 134 0014 CF92      		push r12
 135 0016 DF92      		push r13
 136 0018 EF92      		push r14
 137 001a FF92      		push r15
 138 001c 0F93      		push r16
 139 001e 1F93      		push r17
 140 0020 CF93      		push r28
 141 0022 DF93      		push r29
 142 0024 CDB7      		in r28,__SP_L__
 143 0026 DEB7      		in r29,__SP_H__
 144 0028 6A97      		sbiw r28,26
 145 002a 0FB6      		in __tmp_reg__,__SREG__
 146 002c F894      		cli
 147 002e DEBF      		out __SP_H__,r29
 148 0030 0FBE      		out __SREG__,__tmp_reg__
 149 0032 CDBF      		out __SP_L__,r28
 150               	/* prologue: function */
 151               	/* frame size = 26 */
 152               	/* stack size = 44 */
 153               	.L__stack_usage = 44
 154 0034 5C01      		movw r10,r24
 155 0036 4B01      		movw r8,r22
 156 0038 8A01      		movw r16,r20
 157 003a DC01      		movw r26,r24
 158 003c 1296      		adiw r26,2
 159 003e 0D90      		ld __tmp_reg__,X+
 160 0040 BC91      		ld r27,X
 161 0042 A02D      		mov r26,__tmp_reg__
 162 0044 BA8B      		std Y+18,r27
 163 0046 A98B      		std Y+17,r26
 164 0048 DC01      		movw r26,r24
 165 004a ED91      		ld r30,X+
 166 004c FC91      		ld r31,X
 167 004e 6189      		ldd r22,Z+17
 168 0050 7289      		ldd r23,Z+18
 169 0052 7D8B      		std Y+21,r23
 170 0054 6C8B      		std Y+20,r22
GAS LISTING /tmp/ccQJ5axY.s 			page 4


 171 0056 BA01      		movw r22,r20
 172 0058 C401      		movw r24,r8
 173 005a 0E94 0000 		call MakePhatName
 174 005e 8130      		cpi r24,1
 175 0060 9105      		cpc r25,__zero_reg__
 176 0062 01F4      		brne .L9
 177               	.L24:
 178 0064 86E1      		ldi r24,lo8(22)
 179 0066 90E0      		ldi r25,0
 180 0068 9093 0000 		sts errno+1,r25
 181 006c 8093 0000 		sts errno,r24
 182 0070 00C0      		rjmp .L50
 183               	.L9:
 184 0072 892B      		or r24,r25
 185 0074 01F0      		breq .L11
 186               	.L13:
 187 0076 4BE0      		ldi r20,lo8(11)
 188 0078 50E0      		ldi r21,0
 189 007a 60E2      		ldi r22,lo8(32)
 190 007c 70E0      		ldi r23,0
 191 007e C801      		movw r24,r16
 192 0080 0E94 0000 		call memset
 193 0084 6EE2      		ldi r22,lo8(46)
 194 0086 70E0      		ldi r23,0
 195 0088 C401      		movw r24,r8
 196 008a 0E94 0000 		call strrchr
 197 008e 7C01      		movw r14,r24
 198 0090 6401      		movw r12,r8
 199 0092 20E0      		ldi r18,0
 200 0094 30E0      		ldi r19,0
 201 0096 1C01      		movw r2,r24
 202 0098 7FEF      		ldi r23,-1
 203 009a 271A      		sub r2,r23
 204 009c 370A      		sbc r3,r23
 205 009e 00C0      		rjmp .L12
 206               	.L11:
 207 00a0 BE01      		movw r22,r28
 208 00a2 6F5F      		subi r22,-1
 209 00a4 7F4F      		sbci r23,-1
 210 00a6 C801      		movw r24,r16
 211 00a8 0E94 0000 		call MakeVisibleName
 212 00ac BE01      		movw r22,r28
 213 00ae 6F5F      		subi r22,-1
 214 00b0 7F4F      		sbci r23,-1
 215 00b2 C401      		movw r24,r8
 216 00b4 0E94 0000 		call strcmp
 217 00b8 892B      		or r24,r25
 218 00ba 01F4      		brne .L13
 219 00bc 1B8A      		std Y+19,__zero_reg__
 220 00be 4424      		clr r4
 221 00c0 4394      		inc r4
 222 00c2 512C      		mov r5,__zero_reg__
 223 00c4 00C0      		rjmp .L14
 224               	.L23:
 225 00c6 4E32      		cpi r20,lo8(46)
 226 00c8 01F4      		brne .L15
 227 00ca EC14      		cp r14,r12
GAS LISTING /tmp/ccQJ5axY.s 			page 5


 228 00cc FD04      		cpc r15,r13
 229 00ce 01F0      		breq .L98
 230               	.L16:
 231 00d0 BFEF      		ldi r27,-1
 232 00d2 CB1A      		sub r12,r27
 233 00d4 DB0A      		sbc r13,r27
 234 00d6 2B30      		cpi r18,11
 235 00d8 3105      		cpc r19,__zero_reg__
 236 00da 01F0      		breq .L22
 237               	.L12:
 238 00dc F601      		movw r30,r12
 239 00de 4081      		ld r20,Z
 240 00e0 4111      		cpse r20,__zero_reg__
 241 00e2 00C0      		rjmp .L23
 242 00e4 00C0      		rjmp .L22
 243               	.L98:
 244 00e6 D701      		movw r26,r14
 245 00e8 1196      		adiw r26,1
 246 00ea 8C91      		ld r24,X
 247 00ec 8823      		tst r24
 248 00ee 01F4      		brne .+2
 249 00f0 00C0      		rjmp .L60
 250 00f2 90E0      		ldi r25,0
 251 00f4 0E94 0000 		call toupper
 252 00f8 F801      		movw r30,r16
 253 00fa 8087      		std Z+8,r24
 254 00fc 00C0      		rjmp .L60
 255               	.L15:
 256 00fe 2830      		cpi r18,8
 257 0100 3105      		cpc r19,__zero_reg__
 258 0102 01F4      		brne .L17
 259 0104 E114      		cp r14,__zero_reg__
 260 0106 F104      		cpc r15,__zero_reg__
 261 0108 01F4      		brne .L18
 262               	.L22:
 263 010a 80E2      		ldi r24,lo8(32)
 264 010c 90E0      		ldi r25,0
 265 010e 0E94 0000 		call malloc
 266 0112 3C01      		movw r6,r24
 267 0114 892B      		or r24,r25
 268 0116 01F4      		brne .+2
 269 0118 00C0      		rjmp .L24
 270 011a 1801      		movw r2,r16
 271 011c A801      		movw r20,r16
 272 011e 4A5F      		subi r20,-6
 273 0120 5F4F      		sbci r21,-1
 274 0122 C801      		movw r24,r16
 275 0124 00C0      		rjmp .L25
 276               	.L18:
 277 0126 6701      		movw r12,r14
 278 0128 FFEF      		ldi r31,-1
 279 012a CF1A      		sub r12,r31
 280 012c DF0A      		sbc r13,r31
 281 012e D701      		movw r26,r14
 282 0130 1196      		adiw r26,1
 283 0132 8C91      		ld r24,X
 284 0134 8823      		tst r24
GAS LISTING /tmp/ccQJ5axY.s 			page 6


 285 0136 01F0      		breq .L16
 286 0138 90E0      		ldi r25,0
 287 013a 0E94 0000 		call toupper
 288 013e F801      		movw r30,r16
 289 0140 8087      		std Z+8,r24
 290 0142 00C0      		rjmp .L94
 291               	.L17:
 292 0144 4032      		cpi r20,lo8(32)
 293 0146 01F0      		breq .L16
 294 0148 642F      		mov r22,r20
 295 014a 042E      		mov __tmp_reg__,r20
 296 014c 000C      		lsl r0
 297 014e 770B      		sbc r23,r23
 298 0150 80E0      		ldi r24,lo8(.LC0)
 299 0152 90E0      		ldi r25,hi8(.LC0)
 300 0154 2A8F      		std Y+26,r18
 301 0156 388F      		std Y+24,r19
 302 0158 498F      		std Y+25,r20
 303 015a 0E94 0000 		call strrchr
 304 015e 2A8D      		ldd r18,Y+26
 305 0160 388D      		ldd r19,Y+24
 306 0162 B901      		movw r22,r18
 307 0164 6F5F      		subi r22,-1
 308 0166 7F4F      		sbci r23,-1
 309 0168 2B01      		movw r4,r22
 310 016a 3801      		movw r6,r16
 311 016c 620E      		add r6,r18
 312 016e 731E      		adc r7,r19
 313 0170 498D      		ldd r20,Y+25
 314 0172 892B      		or r24,r25
 315 0174 01F0      		breq .L21
 316 0176 EFE5      		ldi r30,lo8(95)
 317 0178 D301      		movw r26,r6
 318 017a EC93      		st X,r30
 319 017c 00C0      		rjmp .L93
 320               	.L21:
 321 017e 842F      		mov r24,r20
 322 0180 90E0      		ldi r25,0
 323 0182 0E94 0000 		call toupper
 324 0186 D301      		movw r26,r6
 325 0188 8C93      		st X,r24
 326               	.L93:
 327 018a 9201      		movw r18,r4
 328 018c 00C0      		rjmp .L16
 329               	.L60:
 330 018e 6101      		movw r12,r2
 331               	.L94:
 332 0190 29E0      		ldi r18,lo8(9)
 333 0192 30E0      		ldi r19,0
 334 0194 00C0      		rjmp .L16
 335               	.L27:
 336 0196 7C01      		movw r14,r24
 337 0198 8417      		cp r24,r20
 338 019a 9507      		cpc r25,r21
 339 019c 01F0      		breq .L28
 340               	.L25:
 341 019e 7C01      		movw r14,r24
GAS LISTING /tmp/ccQJ5axY.s 			page 7


 342 01a0 0196      		adiw r24,1
 343 01a2 D701      		movw r26,r14
 344 01a4 2C91      		ld r18,X
 345 01a6 2032      		cpi r18,lo8(32)
 346 01a8 01F4      		brne .L27
 347               	.L28:
 348 01aa CC24      		clr r12
 349 01ac C394      		inc r12
 350 01ae D12C      		mov r13,__zero_reg__
 351 01b0 6AE0      		ldi r22,lo8(10)
 352 01b2 462E      		mov r4,r22
 353 01b4 512C      		mov r5,__zero_reg__
 354               	.L26:
 355 01b6 EEE7      		ldi r30,lo8(126)
 356 01b8 D701      		movw r26,r14
 357 01ba EC93      		st X,r30
 358 01bc FAE0      		ldi r31,10
 359 01be CF16      		cp r12,r31
 360 01c0 D104      		cpc r13,__zero_reg__
 361 01c2 04F0      		brlt .L30
 362 01c4 C601      		movw r24,r12
 363 01c6 B201      		movw r22,r4
 364 01c8 0E94 0000 		call __divmodhi4
 365 01cc 605D      		subi r22,lo8(-(48))
 366 01ce D701      		movw r26,r14
 367 01d0 1196      		adiw r26,1
 368 01d2 6C93      		st X,r22
 369 01d4 1197      		sbiw r26,1
 370 01d6 805D      		subi r24,lo8(-(48))
 371 01d8 1296      		adiw r26,2
 372 01da 8C93      		st X,r24
 373 01dc 00C0      		rjmp .L31
 374               	.L30:
 375 01de 80E3      		ldi r24,lo8(48)
 376 01e0 8C0D      		add r24,r12
 377 01e2 F701      		movw r30,r14
 378 01e4 8183      		std Z+1,r24
 379               	.L31:
 380 01e6 D501      		movw r26,r10
 381 01e8 1296      		adiw r26,2
 382 01ea 8D91      		ld r24,X+
 383 01ec 9C91      		ld r25,X
 384 01ee 1397      		sbiw r26,2+1
 385 01f0 0E94 0000 		call PhatFilePosRewind
 386               	.L86:
 387 01f4 40E2      		ldi r20,lo8(32)
 388 01f6 50E0      		ldi r21,0
 389 01f8 B301      		movw r22,r6
 390 01fa C501      		movw r24,r10
 391 01fc 0E94 0000 		call PhatFileRead
 392 0200 8032      		cpi r24,32
 393 0202 9105      		cpc r25,__zero_reg__
 394 0204 01F0      		breq .L32
 395 0206 892B      		or r24,r25
 396 0208 01F0      		breq .L62
 397 020a 43E6      		ldi r20,lo8(99)
 398 020c C42E      		mov r12,r20
GAS LISTING /tmp/ccQJ5axY.s 			page 8


 399 020e D12C      		mov r13,__zero_reg__
 400 0210 00C0      		rjmp .L95
 401               	.L32:
 402 0212 F301      		movw r30,r6
 403 0214 8385      		ldd r24,Z+11
 404 0216 83FD      		sbrc r24,3
 405 0218 00C0      		rjmp .L86
 406 021a 8081      		ld r24,Z
 407 021c 8823      		tst r24
 408 021e 01F0      		breq .L62
 409 0220 4BE0      		ldi r20,lo8(11)
 410 0222 50E0      		ldi r21,0
 411 0224 B301      		movw r22,r6
 412 0226 C801      		movw r24,r16
 413 0228 0E94 0000 		call memcmp
 414 022c 892B      		or r24,r25
 415 022e 01F4      		brne .L86
 416               	.L95:
 417 0230 2FEF      		ldi r18,lo8(-1)
 418 0232 3FEF      		ldi r19,lo8(-1)
 419 0234 00C0      		rjmp .L33
 420               	.L62:
 421 0236 20E0      		ldi r18,0
 422 0238 30E0      		ldi r19,0
 423               	.L33:
 424 023a FFEF      		ldi r31,-1
 425 023c CF1A      		sub r12,r31
 426 023e DF0A      		sbc r13,r31
 427 0240 64E6      		ldi r22,100
 428 0242 C616      		cp r12,r22
 429 0244 D104      		cpc r13,__zero_reg__
 430 0246 01F0      		breq .L35
 431 0248 2115      		cp r18,__zero_reg__
 432 024a 3105      		cpc r19,__zero_reg__
 433 024c 01F0      		breq .L35
 434 024e BAE0      		ldi r27,10
 435 0250 CB16      		cp r12,r27
 436 0252 D104      		cpc r13,__zero_reg__
 437 0254 01F0      		breq .+2
 438 0256 00C0      		rjmp .L26
 439 0258 E1E0      		ldi r30,1
 440 025a EE1A      		sub r14,r30
 441 025c F108      		sbc r15,__zero_reg__
 442 025e 00C0      		rjmp .L26
 443               	.L35:
 444 0260 C301      		movw r24,r6
 445 0262 2A8F      		std Y+26,r18
 446 0264 388F      		std Y+24,r19
 447 0266 0E94 0000 		call free
 448 026a 2A8D      		ldd r18,Y+26
 449 026c 388D      		ldd r19,Y+24
 450 026e 232B      		or r18,r19
 451 0270 01F0      		breq .+2
 452 0272 00C0      		rjmp .L24
 453 0274 F401      		movw r30,r8
 454               		0:
 455 0276 0190      		ld __tmp_reg__,Z+
GAS LISTING /tmp/ccQJ5axY.s 			page 9


 456 0278 0020      		tst __tmp_reg__
 457 027a 01F4      		brne 0b
 458 027c CF01      		movw r24,r30
 459 027e 8819      		sub r24,r8
 460 0280 9909      		sbc r25,r9
 461 0282 0B96      		adiw r24,11
 462 0284 6DE0      		ldi r22,lo8(13)
 463 0286 70E0      		ldi r23,0
 464 0288 0E94 0000 		call __udivmodhi4
 465 028c 2B01      		movw r4,r22
 466 028e 8FEF      		ldi r24,-1
 467 0290 481A      		sub r4,r24
 468 0292 580A      		sbc r5,r24
 469 0294 C801      		movw r24,r16
 470 0296 0B96      		adiw r24,11
 471 0298 1B8A      		std Y+19,__zero_reg__
 472               	.L37:
 473 029a 2B89      		ldd r18,Y+19
 474 029c 20FB      		bst r18,0
 475 029e 2795      		ror r18
 476 02a0 27F9      		bld r18,7
 477 02a2 D101      		movw r26,r2
 478 02a4 3D91      		ld r19,X+
 479 02a6 1D01      		movw r2,r26
 480 02a8 320F      		add r19,r18
 481 02aa 3B8B      		std Y+19,r19
 482 02ac 8A17      		cp r24,r26
 483 02ae 9B07      		cpc r25,r27
 484 02b0 01F4      		brne .L37
 485               	.L14:
 486 02b2 80E2      		ldi r24,lo8(32)
 487 02b4 90E0      		ldi r25,0
 488 02b6 0E94 0000 		call malloc
 489 02ba 6C01      		movw r12,r24
 490 02bc 892B      		or r24,r25
 491 02be 01F4      		brne .L38
 492               	.L50:
 493 02c0 8FEF      		ldi r24,lo8(-1)
 494 02c2 9FEF      		ldi r25,lo8(-1)
 495 02c4 00C0      		rjmp .L10
 496               	.L38:
 497 02c6 8989      		ldd r24,Y+17
 498 02c8 9A89      		ldd r25,Y+18
 499 02ca 0E94 0000 		call PhatFilePosRewind
 500 02ce E12C      		mov r14,__zero_reg__
 501 02d0 F12C      		mov r15,__zero_reg__
 502 02d2 212C      		mov r2,__zero_reg__
 503 02d4 312C      		mov r3,__zero_reg__
 504               	.L39:
 505 02d6 E989      		ldd r30,Y+17
 506 02d8 FA89      		ldd r31,Y+18
 507 02da F081      		ld r31,Z
 508 02dc FE8B      		std Y+22,r31
 509 02de A989      		ldd r26,Y+17
 510 02e0 BA89      		ldd r27,Y+18
 511 02e2 1196      		adiw r26,1
 512 02e4 BC91      		ld r27,X
GAS LISTING /tmp/ccQJ5axY.s 			page 10


 513 02e6 BF8B      		std Y+23,r27
 514 02e8 40E2      		ldi r20,lo8(32)
 515 02ea 50E0      		ldi r21,0
 516 02ec B601      		movw r22,r12
 517 02ee C501      		movw r24,r10
 518 02f0 0E94 0000 		call PhatFileRead
 519 02f4 97FD      		sbrc r25,7
 520 02f6 00C0      		rjmp .L65
 521 02f8 8097      		sbiw r24,32
 522 02fa 01F4      		brne .+2
 523 02fc 00C0      		rjmp .L41
 524 02fe C501      		movw r24,r10
 525 0300 0E94 0000 		call IsFixedRootDir
 526 0304 892B      		or r24,r25
 527 0306 01F4      		brne .L42
 528 0308 E989      		ldd r30,Y+17
 529 030a FA89      		ldd r31,Y+18
 530 030c 8081      		ld r24,Z
 531 030e 9181      		ldd r25,Z+1
 532 0310 A281      		ldd r26,Z+2
 533 0312 B381      		ldd r27,Z+3
 534 0314 0097      		sbiw r24,0
 535 0316 A042      		sbci r26,32
 536 0318 B105      		cpc r27,__zero_reg__
 537 031a 00F0      		brlo .L43
 538               	.L42:
 539 031c 8BE1      		ldi r24,lo8(27)
 540 031e 90E0      		ldi r25,0
 541 0320 9093 0000 		sts errno+1,r25
 542 0324 8093 0000 		sts errno,r24
 543 0328 00C0      		rjmp .L65
 544               	.L43:
 545 032a AC89      		ldd r26,Y+20
 546 032c BD89      		ldd r27,Y+21
 547 032e 5896      		adiw r26,24
 548 0330 4D91      		ld r20,X+
 549 0332 5C91      		ld r21,X
 550 0334 5997      		sbiw r26,24+1
 551 0336 CA01      		movw r24,r20
 552 0338 498F      		std Y+25,r20
 553 033a 588F      		std Y+24,r21
 554 033c 0E94 0000 		call malloc
 555 0340 3C01      		movw r6,r24
 556 0342 498D      		ldd r20,Y+25
 557 0344 588D      		ldd r21,Y+24
 558 0346 0097      		sbiw r24,0
 559 0348 01F0      		breq .L65
 560 034a 60E0      		ldi r22,0
 561 034c 70E0      		ldi r23,0
 562 034e 0E94 0000 		call memset
 563 0352 EC89      		ldd r30,Y+20
 564 0354 FD89      		ldd r31,Y+21
 565 0356 228D      		ldd r18,Z+26
 566               	.L44:
 567 0358 2223      		tst r18
 568 035a 01F0      		breq .L45
 569 035c AC89      		ldd r26,Y+20
GAS LISTING /tmp/ccQJ5axY.s 			page 11


 570 035e BD89      		ldd r27,Y+21
 571 0360 5896      		adiw r26,24
 572 0362 4D91      		ld r20,X+
 573 0364 5C91      		ld r21,X
 574 0366 5997      		sbiw r26,24+1
 575 0368 B301      		movw r22,r6
 576 036a C501      		movw r24,r10
 577 036c 2A8F      		std Y+26,r18
 578 036e 0E94 0000 		call PhatFileWrite
 579 0372 2A8D      		ldd r18,Y+26
 580 0374 97FD      		sbrc r25,7
 581 0376 00C0      		rjmp .L45
 582 0378 2150      		subi r18,lo8(-(-1))
 583 037a 00C0      		rjmp .L44
 584               	.L45:
 585 037c C301      		movw r24,r6
 586 037e 2A8F      		std Y+26,r18
 587 0380 0E94 0000 		call free
 588 0384 2A8D      		ldd r18,Y+26
 589 0386 2111      		cpse r18,__zero_reg__
 590 0388 00C0      		rjmp .L65
 591 038a EF28      		or r14,r15
 592 038c 01F4      		brne .L96
 593 038e 2E88      		ldd r2,Y+22
 594 0390 3F88      		ldd r3,Y+23
 595 0392 00C0      		rjmp .L96
 596               	.L41:
 597 0394 F601      		movw r30,r12
 598 0396 8081      		ld r24,Z
 599 0398 853E      		cpi r24,lo8(-27)
 600 039a 01F0      		breq .L47
 601 039c 8823      		tst r24
 602 039e 01F0      		breq .L47
 603 03a0 E12C      		mov r14,__zero_reg__
 604 03a2 F12C      		mov r15,__zero_reg__
 605 03a4 00C0      		rjmp .L39
 606               	.L47:
 607 03a6 E114      		cp r14,__zero_reg__
 608 03a8 F104      		cpc r15,__zero_reg__
 609 03aa 01F4      		brne .L49
 610 03ac 2E88      		ldd r2,Y+22
 611 03ae 3F88      		ldd r3,Y+23
 612               	.L49:
 613 03b0 FFEF      		ldi r31,-1
 614 03b2 EF1A      		sub r14,r31
 615 03b4 FF0A      		sbc r15,r31
 616 03b6 E414      		cp r14,r4
 617 03b8 F504      		cpc r15,r5
 618 03ba 04F4      		brge .+2
 619 03bc 00C0      		rjmp .L39
 620 03be 00C0      		rjmp .L96
 621               	.L65:
 622 03c0 EE24      		clr r14
 623 03c2 EA94      		dec r14
 624 03c4 FE2C      		mov r15,r14
 625 03c6 00C0      		rjmp .L40
 626               	.L96:
GAS LISTING /tmp/ccQJ5axY.s 			page 12


 627 03c8 E12C      		mov r14,__zero_reg__
 628 03ca F12C      		mov r15,__zero_reg__
 629               	.L40:
 630 03cc C601      		movw r24,r12
 631 03ce 0E94 0000 		call free
 632 03d2 E114      		cp r14,__zero_reg__
 633 03d4 F104      		cpc r15,__zero_reg__
 634 03d6 01F0      		breq .+2
 635 03d8 00C0      		rjmp .L50
 636 03da A101      		movw r20,r2
 637 03dc 330C      		lsl r3
 638 03de 660B      		sbc r22,r22
 639 03e0 770B      		sbc r23,r23
 640 03e2 C501      		movw r24,r10
 641 03e4 0E94 0000 		call PhatFilePosSet
 642 03e8 80E2      		ldi r24,lo8(32)
 643 03ea 90E0      		ldi r25,0
 644 03ec 0E94 0000 		call malloc
 645 03f0 6C01      		movw r12,r24
 646 03f2 892B      		or r24,r25
 647 03f4 01F4      		brne .+2
 648 03f6 00C0      		rjmp .L50
 649 03f8 B201      		movw r22,r4
 650 03fa 6150      		subi r22,1
 651 03fc 7109      		sbc r23,__zero_reg__
 652 03fe 7A8B      		std Y+18,r23
 653 0400 698B      		std Y+17,r22
 654 0402 72E0      		ldi r23,2
 655 0404 471A      		sub r4,r23
 656 0406 5108      		sbc r5,__zero_reg__
 657 0408 8DE0      		ldi r24,lo8(13)
 658 040a 849D      		mul r24,r4
 659 040c 1001      		movw r2,r0
 660 040e 859D      		mul r24,r5
 661 0410 300C      		add r3,r0
 662 0412 1124      		clr __zero_reg__
 663 0414 6988      		ldd r6,Y+17
 664 0416 7A88      		ldd r7,Y+18
 665 0418 2FE0      		ldi r18,lo8(15)
 666 041a 522E      		mov r5,r18
 667               	.L51:
 668 041c 6114      		cp r6,__zero_reg__
 669 041e 7104      		cpc r7,__zero_reg__
 670 0420 01F4      		brne .+2
 671 0422 00C0      		rjmp .L57
 672 0424 40E2      		ldi r20,lo8(32)
 673 0426 50E0      		ldi r21,0
 674 0428 6FEF      		ldi r22,lo8(-1)
 675 042a 70E0      		ldi r23,0
 676 042c C601      		movw r24,r12
 677 042e 0E94 0000 		call memset
 678 0432 D601      		movw r26,r12
 679 0434 6C92      		st X,r6
 680 0436 E989      		ldd r30,Y+17
 681 0438 FA89      		ldd r31,Y+18
 682 043a 6E16      		cp r6,r30
 683 043c 7F06      		cpc r7,r31
GAS LISTING /tmp/ccQJ5axY.s 			page 13


 684 043e 01F4      		brne .L52
 685 0440 862D      		mov r24,r6
 686 0442 8064      		ori r24,lo8(64)
 687 0444 8C93      		st X,r24
 688               	.L52:
 689 0446 D601      		movw r26,r12
 690 0448 1B96      		adiw r26,11
 691 044a 5C92      		st X,r5
 692 044c 1B97      		sbiw r26,11
 693 044e 2B89      		ldd r18,Y+19
 694 0450 1D96      		adiw r26,13
 695 0452 2C93      		st X,r18
 696 0454 1D97      		sbiw r26,13
 697 0456 5B96      		adiw r26,26+1
 698 0458 1C92      		st X,__zero_reg__
 699 045a 1E92      		st -X,__zero_reg__
 700 045c 5A97      		sbiw r26,26
 701 045e 1C96      		adiw r26,12
 702 0460 1C92      		st X,__zero_reg__
 703 0462 1C97      		sbiw r26,12
 704 0464 61E0      		ldi r22,1
 705 0466 661A      		sub r6,r22
 706 0468 7108      		sbc r7,__zero_reg__
 707 046a B401      		movw r22,r8
 708 046c 620D      		add r22,r2
 709 046e 731D      		adc r23,r3
 710 0470 1696      		adiw r26,6
 711 0472 80E0      		ldi r24,0
 712 0474 90E0      		ldi r25,0
 713               	.L56:
 714 0476 F401      		movw r30,r8
 715               		0:
 716 0478 0190      		ld __tmp_reg__,Z+
 717 047a 0020      		tst __tmp_reg__
 718 047c 01F4      		brne 0b
 719 047e 9F01      		movw r18,r30
 720 0480 2150      		subi r18,1
 721 0482 3109      		sbc r19,__zero_reg__
 722 0484 2819      		sub r18,r8
 723 0486 3909      		sbc r19,r9
 724 0488 AC01      		movw r20,r24
 725 048a 420D      		add r20,r2
 726 048c 531D      		adc r21,r3
 727 048e 2417      		cp r18,r20
 728 0490 3507      		cpc r19,r21
 729 0492 00F0      		brlo .L53
 730 0494 8530      		cpi r24,5
 731 0496 9105      		cpc r25,__zero_reg__
 732 0498 04F4      		brge .L54
 733 049a AD01      		movw r20,r26
 734 049c 4550      		subi r20,5
 735 049e 5109      		sbc r21,__zero_reg__
 736 04a0 00C0      		rjmp .L97
 737               	.L54:
 738 04a2 8B30      		cpi r24,11
 739 04a4 9105      		cpc r25,__zero_reg__
 740 04a6 04F4      		brge .L55
GAS LISTING /tmp/ccQJ5axY.s 			page 14


 741 04a8 AD01      		movw r20,r26
 742 04aa 4250      		subi r20,2
 743 04ac 5109      		sbc r21,__zero_reg__
 744               	.L97:
 745 04ae FB01      		movw r30,r22
 746 04b0 2081      		ld r18,Z
 747 04b2 022E      		mov __tmp_reg__,r18
 748 04b4 000C      		lsl r0
 749 04b6 330B      		sbc r19,r19
 750 04b8 FA01      		movw r30,r20
 751 04ba 3183      		std Z+1,r19
 752 04bc 2083      		st Z,r18
 753 04be 00C0      		rjmp .L53
 754               	.L55:
 755 04c0 FB01      		movw r30,r22
 756 04c2 2081      		ld r18,Z
 757 04c4 022E      		mov __tmp_reg__,r18
 758 04c6 000C      		lsl r0
 759 04c8 330B      		sbc r19,r19
 760 04ca 1196      		adiw r26,1
 761 04cc 3C93      		st X,r19
 762 04ce 2E93      		st -X,r18
 763               	.L53:
 764 04d0 0196      		adiw r24,1
 765 04d2 6F5F      		subi r22,-1
 766 04d4 7F4F      		sbci r23,-1
 767 04d6 1296      		adiw r26,2
 768 04d8 8D30      		cpi r24,13
 769 04da 9105      		cpc r25,__zero_reg__
 770 04dc 01F4      		brne .L56
 771 04de 40E2      		ldi r20,lo8(32)
 772 04e0 50E0      		ldi r21,0
 773 04e2 B601      		movw r22,r12
 774 04e4 C501      		movw r24,r10
 775 04e6 0E94 0000 		call PhatFileWrite
 776 04ea FDE0      		ldi r31,13
 777 04ec 2F1A      		sub r2,r31
 778 04ee 3108      		sbc r3,__zero_reg__
 779 04f0 97FF      		sbrs r25,7
 780 04f2 00C0      		rjmp .L51
 781 04f4 EE24      		clr r14
 782 04f6 EA94      		dec r14
 783 04f8 FE2C      		mov r15,r14
 784               	.L57:
 785 04fa 40E2      		ldi r20,lo8(32)
 786 04fc 50E0      		ldi r21,0
 787 04fe B801      		movw r22,r16
 788 0500 C501      		movw r24,r10
 789 0502 0E94 0000 		call PhatFileWrite
 790 0506 97FF      		sbrs r25,7
 791 0508 00C0      		rjmp .L59
 792 050a EE24      		clr r14
 793 050c EA94      		dec r14
 794 050e FE2C      		mov r15,r14
 795               	.L59:
 796 0510 C601      		movw r24,r12
 797 0512 0E94 0000 		call free
GAS LISTING /tmp/ccQJ5axY.s 			page 15


 798 0516 C701      		movw r24,r14
 799               	.L10:
 800               	/* epilogue start */
 801 0518 6A96      		adiw r28,26
 802 051a 0FB6      		in __tmp_reg__,__SREG__
 803 051c F894      		cli
 804 051e DEBF      		out __SP_H__,r29
 805 0520 0FBE      		out __SREG__,__tmp_reg__
 806 0522 CDBF      		out __SP_L__,r28
 807 0524 DF91      		pop r29
 808 0526 CF91      		pop r28
 809 0528 1F91      		pop r17
 810 052a 0F91      		pop r16
 811 052c FF90      		pop r15
 812 052e EF90      		pop r14
 813 0530 DF90      		pop r13
 814 0532 CF90      		pop r12
 815 0534 BF90      		pop r11
 816 0536 AF90      		pop r10
 817 0538 9F90      		pop r9
 818 053a 8F90      		pop r8
 819 053c 7F90      		pop r7
 820 053e 6F90      		pop r6
 821 0540 5F90      		pop r5
 822 0542 4F90      		pop r4
 823 0544 3F90      		pop r3
 824 0546 2F90      		pop r2
 825 0548 0895      		ret
 826               		.size	PhatDirEntryAlloc, .-PhatDirEntryAlloc
 827               		.section	.text.PhatDirEntryRead,"ax",@progbits
 828               		.type	PhatDirEntryRead, @function
 829               	PhatDirEntryRead:
 830 0000 2F92      		push r2
 831 0002 3F92      		push r3
 832 0004 4F92      		push r4
 833 0006 5F92      		push r5
 834 0008 6F92      		push r6
 835 000a 7F92      		push r7
 836 000c 8F92      		push r8
 837 000e 9F92      		push r9
 838 0010 AF92      		push r10
 839 0012 BF92      		push r11
 840 0014 CF92      		push r12
 841 0016 DF92      		push r13
 842 0018 EF92      		push r14
 843 001a FF92      		push r15
 844 001c 0F93      		push r16
 845 001e 1F93      		push r17
 846 0020 CF93      		push r28
 847 0022 DF93      		push r29
 848               	/* prologue: function */
 849               	/* frame size = 0 */
 850               	/* stack size = 18 */
 851               	.L__stack_usage = 18
 852 0024 5C01      		movw r10,r24
 853 0026 EB01      		movw r28,r22
 854 0028 FC01      		movw r30,r24
GAS LISTING /tmp/ccQJ5axY.s 			page 16


 855 002a 4280      		ldd r4,Z+2
 856 002c 5380      		ldd r5,Z+3
 857 002e C12C      		mov r12,__zero_reg__
 858 0030 D12C      		mov r13,__zero_reg__
 859 0032 E12C      		mov r14,__zero_reg__
 860 0034 F12C      		mov r15,__zero_reg__
 861 0036 00E0      		ldi r16,0
 862 0038 10E0      		ldi r17,0
 863 003a 212C      		mov r2,__zero_reg__
 864 003c 312C      		mov r3,__zero_reg__
 865 003e 3B01      		movw r6,r22
 866 0040 FBE0      		ldi r31,11
 867 0042 6F0E      		add r6,r31
 868 0044 711C      		adc r7,__zero_reg__
 869 0046 4B01      		movw r8,r22
 870 0048 8AE1      		ldi r24,26
 871 004a 880E      		add r8,r24
 872 004c 911C      		adc r9,__zero_reg__
 873               	.L100:
 874 004e 40E2      		ldi r20,lo8(32)
 875 0050 50E0      		ldi r21,0
 876 0052 BE01      		movw r22,r28
 877 0054 C501      		movw r24,r10
 878 0056 0E94 0000 		call PhatFileRead
 879 005a 8097      		sbiw r24,32
 880 005c 01F0      		breq .+2
 881 005e 00C0      		rjmp .L101
 882 0060 8881      		ld r24,Y
 883 0062 853E      		cpi r24,lo8(-27)
 884 0064 01F4      		brne .L102
 885 0066 2114      		cp r2,__zero_reg__
 886 0068 3104      		cpc r3,__zero_reg__
 887 006a 01F0      		breq .L100
 888 006c C101      		movw r24,r2
 889 006e 0E94 0000 		call free
 890 0072 00C0      		rjmp .L135
 891               	.L102:
 892 0074 9B85      		ldd r25,Y+11
 893 0076 9F30      		cpi r25,lo8(15)
 894 0078 01F0      		breq .+2
 895 007a 00C0      		rjmp .L104
 896 007c 082F      		mov r16,r24
 897 007e 0F73      		andi r16,lo8(63)
 898 0080 10E0      		ldi r17,0
 899 0082 E114      		cp r14,__zero_reg__
 900 0084 F104      		cpc r15,__zero_reg__
 901 0086 01F4      		brne .L105
 902 0088 86FD      		sbrc r24,6
 903 008a 00C0      		rjmp .L106
 904               	.L105:
 905 008c E016      		cp r14,r16
 906 008e F106      		cpc r15,r17
 907 0090 01F4      		brne .L100
 908               	.L106:
 909 0092 7801      		movw r14,r16
 910 0094 91E0      		ldi r25,1
 911 0096 E91A      		sub r14,r25
GAS LISTING /tmp/ccQJ5axY.s 			page 17


 912 0098 F108      		sbc r15,__zero_reg__
 913 009a EDE0      		ldi r30,lo8(13)
 914 009c EE9D      		mul r30,r14
 915 009e 8001      		movw r16,r0
 916 00a0 EF9D      		mul r30,r15
 917 00a2 100D      		add r17,r0
 918 00a4 1124      		clr __zero_reg__
 919 00a6 033F      		cpi r16,-13
 920 00a8 1105      		cpc r17,__zero_reg__
 921 00aa 04F0      		brlt .L107
 922 00ac 86E1      		ldi r24,lo8(22)
 923 00ae 90E0      		ldi r25,0
 924 00b0 9093 0000 		sts errno+1,r25
 925 00b4 8093 0000 		sts errno,r24
 926 00b8 00C0      		rjmp .L101
 927               	.L107:
 928 00ba 86FF      		sbrs r24,6
 929 00bc 00C0      		rjmp .L108
 930 00be 2114      		cp r2,__zero_reg__
 931 00c0 3104      		cpc r3,__zero_reg__
 932 00c2 01F4      		brne .L109
 933 00c4 80E0      		ldi r24,0
 934 00c6 91E0      		ldi r25,lo8(1)
 935 00c8 0E94 0000 		call malloc
 936 00cc 1C01      		movw r2,r24
 937               	.L109:
 938 00ce F101      		movw r30,r2
 939 00d0 E00F      		add r30,r16
 940 00d2 F11F      		adc r31,r17
 941 00d4 1586      		std Z+13,__zero_reg__
 942 00d6 C12C      		mov r12,__zero_reg__
 943 00d8 D12C      		mov r13,__zero_reg__
 944               	.L108:
 945 00da FFEF      		ldi r31,-1
 946 00dc CF1A      		sub r12,r31
 947 00de DF0A      		sbc r13,r31
 948 00e0 FE01      		movw r30,r28
 949 00e2 3196      		adiw r30,1
 950 00e4 D101      		movw r26,r2
 951 00e6 A00F      		add r26,r16
 952 00e8 B11F      		adc r27,r17
 953 00ea CD01      		movw r24,r26
 954               	.L110:
 955 00ec 2081      		ld r18,Z
 956 00ee 3296      		adiw r30,2
 957 00f0 2D93      		st X+,r18
 958 00f2 E615      		cp r30,r6
 959 00f4 F705      		cpc r31,r7
 960 00f6 01F4      		brne .L110
 961 00f8 FE01      		movw r30,r28
 962 00fa 3E96      		adiw r30,14
 963 00fc D801      		movw r26,r16
 964 00fe 1596      		adiw r26,5
 965 0100 A20D      		add r26,r2
 966 0102 B31D      		adc r27,r3
 967               	.L111:
 968 0104 2081      		ld r18,Z
GAS LISTING /tmp/ccQJ5axY.s 			page 18


 969 0106 3296      		adiw r30,2
 970 0108 2D93      		st X+,r18
 971 010a E815      		cp r30,r8
 972 010c F905      		cpc r31,r9
 973 010e 01F4      		brne .L111
 974 0110 2C8D      		ldd r18,Y+28
 975 0112 FC01      		movw r30,r24
 976 0114 2387      		std Z+11,r18
 977 0116 2E8D      		ldd r18,Y+30
 978 0118 2487      		std Z+12,r18
 979 011a 00C0      		rjmp .L100
 980               	.L104:
 981 011c 93FD      		sbrc r25,3
 982 011e 00C0      		rjmp .L112
 983 0120 8823      		tst r24
 984 0122 01F0      		breq .L101
 985 0124 F201      		movw r30,r4
 986 0126 8081      		ld r24,Z
 987 0128 9181      		ldd r25,Z+1
 988 012a A281      		ldd r26,Z+2
 989 012c B381      		ldd r27,Z+3
 990 012e 8097      		sbiw r24,32
 991 0130 A109      		sbc r26,__zero_reg__
 992 0132 B109      		sbc r27,__zero_reg__
 993 0134 88A3      		std Y+32,r24
 994 0136 99A3      		std Y+33,r25
 995 0138 AAA3      		std Y+34,r26
 996 013a BBA3      		std Y+35,r27
 997 013c CE01      		movw r24,r28
 998 013e 8696      		adiw r24,38
 999 0140 2114      		cp r2,__zero_reg__
 1000 0142 3104      		cpc r3,__zero_reg__
 1001 0144 01F0      		breq .L113
 1002 0146 012B      		or r16,r17
 1003 0148 01F4      		brne .L113
 1004 014a B101      		movw r22,r2
 1005 014c 0E94 0000 		call strcpy
 1006 0150 DDA2      		std Y+37,r13
 1007 0152 CCA2      		std Y+36,r12
 1008 0154 00C0      		rjmp .L114
 1009               	.L113:
 1010 0156 BC01      		movw r22,r24
 1011 0158 CE01      		movw r24,r28
 1012 015a 0E94 0000 		call MakeVisibleName
 1013 015e 1DA2      		std Y+37,__zero_reg__
 1014 0160 1CA2      		std Y+36,__zero_reg__
 1015 0162 2114      		cp r2,__zero_reg__
 1016 0164 3104      		cpc r3,__zero_reg__
 1017 0166 01F0      		breq .L116
 1018               	.L114:
 1019 0168 C101      		movw r24,r2
 1020 016a 0E94 0000 		call free
 1021 016e 00C0      		rjmp .L116
 1022               	.L112:
 1023 0170 2114      		cp r2,__zero_reg__
 1024 0172 3104      		cpc r3,__zero_reg__
 1025 0174 01F4      		brne .+2
GAS LISTING /tmp/ccQJ5axY.s 			page 19


 1026 0176 00C0      		rjmp .L100
 1027 0178 C101      		movw r24,r2
 1028 017a 0E94 0000 		call free
 1029 017e C12C      		mov r12,__zero_reg__
 1030 0180 D12C      		mov r13,__zero_reg__
 1031 0182 E12C      		mov r14,__zero_reg__
 1032 0184 F12C      		mov r15,__zero_reg__
 1033               	.L135:
 1034 0186 212C      		mov r2,__zero_reg__
 1035 0188 312C      		mov r3,__zero_reg__
 1036 018a 00C0      		rjmp .L100
 1037               	.L101:
 1038 018c 2114      		cp r2,__zero_reg__
 1039 018e 3104      		cpc r3,__zero_reg__
 1040 0190 01F0      		breq .L117
 1041 0192 C101      		movw r24,r2
 1042 0194 0E94 0000 		call free
 1043 0198 00C0      		rjmp .L117
 1044               	.L116:
 1045 019a 80E0      		ldi r24,0
 1046 019c 90E0      		ldi r25,0
 1047 019e 00C0      		rjmp .L115
 1048               	.L117:
 1049 01a0 8FEF      		ldi r24,lo8(-1)
 1050 01a2 9FEF      		ldi r25,lo8(-1)
 1051               	.L115:
 1052               	/* epilogue start */
 1053 01a4 DF91      		pop r29
 1054 01a6 CF91      		pop r28
 1055 01a8 1F91      		pop r17
 1056 01aa 0F91      		pop r16
 1057 01ac FF90      		pop r15
 1058 01ae EF90      		pop r14
 1059 01b0 DF90      		pop r13
 1060 01b2 CF90      		pop r12
 1061 01b4 BF90      		pop r11
 1062 01b6 AF90      		pop r10
 1063 01b8 9F90      		pop r9
 1064 01ba 8F90      		pop r8
 1065 01bc 7F90      		pop r7
 1066 01be 6F90      		pop r6
 1067 01c0 5F90      		pop r5
 1068 01c2 4F90      		pop r4
 1069 01c4 3F90      		pop r3
 1070 01c6 2F90      		pop r2
 1071 01c8 0895      		ret
 1072               		.size	PhatDirEntryRead, .-PhatDirEntryRead
 1073               		.section	.text.PhatDirEntryCreate,"ax",@progbits
 1074               	.global	PhatDirEntryCreate
 1075               		.type	PhatDirEntryCreate, @function
 1076               	PhatDirEntryCreate:
 1077 0000 EF92      		push r14
 1078 0002 FF92      		push r15
 1079 0004 0F93      		push r16
 1080 0006 1F93      		push r17
 1081 0008 CF93      		push r28
 1082 000a DF93      		push r29
GAS LISTING /tmp/ccQJ5axY.s 			page 20


 1083               	/* prologue: function */
 1084               	/* frame size = 0 */
 1085               	/* stack size = 6 */
 1086               	.L__stack_usage = 6
 1087 000c 8C01      		movw r16,r24
 1088 000e 7B01      		movw r14,r22
 1089 0010 E901      		movw r28,r18
 1090 0012 4B87      		std Y+11,r20
 1091 0014 B901      		movw r22,r18
 1092 0016 605F      		subi r22,-16
 1093 0018 7F4F      		sbci r23,-1
 1094 001a C901      		movw r24,r18
 1095 001c 0E96      		adiw r24,14
 1096 001e 0E94 0000 		call GetDosTimeStamp
 1097 0022 8889      		ldd r24,Y+16
 1098 0024 9989      		ldd r25,Y+17
 1099 0026 9B8B      		std Y+19,r25
 1100 0028 8A8B      		std Y+18,r24
 1101 002a 2E85      		ldd r18,Y+14
 1102 002c 3F85      		ldd r19,Y+15
 1103 002e 3F8B      		std Y+23,r19
 1104 0030 2E8B      		std Y+22,r18
 1105 0032 998F      		std Y+25,r25
 1106 0034 888F      		std Y+24,r24
 1107 0036 AE01      		movw r20,r28
 1108 0038 B701      		movw r22,r14
 1109 003a C801      		movw r24,r16
 1110 003c 0E94 0000 		call PhatDirEntryAlloc
 1111 0040 21E0      		ldi r18,lo8(1)
 1112 0042 30E0      		ldi r19,0
 1113 0044 892B      		or r24,r25
 1114 0046 01F4      		brne .L137
 1115 0048 20E0      		ldi r18,0
 1116 004a 30E0      		ldi r19,0
 1117               	.L137:
 1118 004c 8827      		clr r24
 1119 004e 9927      		clr r25
 1120 0050 821B      		sub r24,r18
 1121 0052 930B      		sbc r25,r19
 1122               	/* epilogue start */
 1123 0054 DF91      		pop r29
 1124 0056 CF91      		pop r28
 1125 0058 1F91      		pop r17
 1126 005a 0F91      		pop r16
 1127 005c FF90      		pop r15
 1128 005e EF90      		pop r14
 1129 0060 0895      		ret
 1130               		.size	PhatDirEntryCreate, .-PhatDirEntryCreate
 1131               		.section	.text.PhatDirEntryUpdate,"ax",@progbits
 1132               	.global	PhatDirEntryUpdate
 1133               		.type	PhatDirEntryUpdate, @function
 1134               	PhatDirEntryUpdate:
 1135 0000 CF92      		push r12
 1136 0002 DF92      		push r13
 1137 0004 EF92      		push r14
 1138 0006 FF92      		push r15
 1139 0008 0F93      		push r16
GAS LISTING /tmp/ccQJ5axY.s 			page 21


 1140 000a 1F93      		push r17
 1141 000c CF93      		push r28
 1142 000e DF93      		push r29
 1143               	/* prologue: function */
 1144               	/* frame size = 0 */
 1145               	/* stack size = 8 */
 1146               	.L__stack_usage = 8
 1147 0010 FC01      		movw r30,r24
 1148 0012 C281      		ldd r28,Z+2
 1149 0014 D381      		ldd r29,Z+3
 1150 0016 7E01      		movw r14,r28
 1151 0018 F0E4      		ldi r31,64
 1152 001a EF0E      		add r14,r31
 1153 001c F11C      		adc r15,__zero_reg__
 1154 001e F701      		movw r30,r14
 1155 0020 2081      		ld r18,Z
 1156 0022 3181      		ldd r19,Z+1
 1157 0024 232B      		or r18,r19
 1158 0026 01F0      		breq .L141
 1159 0028 48AD      		ldd r20,Y+56
 1160 002a 59AD      		ldd r21,Y+57
 1161 002c 6AAD      		ldd r22,Y+58
 1162 002e 7BAD      		ldd r23,Y+59
 1163 0030 4115      		cp r20,__zero_reg__
 1164 0032 5105      		cpc r21,__zero_reg__
 1165 0034 6105      		cpc r22,__zero_reg__
 1166 0036 7105      		cpc r23,__zero_reg__
 1167 0038 01F0      		breq .L140
 1168 003a FC01      		movw r30,r24
 1169 003c 0081      		ld r16,Z
 1170 003e 1181      		ldd r17,Z+1
 1171 0040 F801      		movw r30,r16
 1172 0042 C188      		ldd r12,Z+17
 1173 0044 D288      		ldd r13,Z+18
 1174 0046 C801      		movw r24,r16
 1175 0048 0E94 0000 		call PhatSectorLoad
 1176 004c 97FD      		sbrc r25,7
 1177 004e 00C0      		rjmp .L142
 1178 0050 9C01      		movw r18,r24
 1179 0052 2F5F      		subi r18,-1
 1180 0054 3F4F      		sbci r19,-1
 1181 0056 4AE0      		ldi r20,lo8(10)
 1182 0058 429F      		mul r20,r18
 1183 005a F001      		movw r30,r0
 1184 005c 439F      		mul r20,r19
 1185 005e F00D      		add r31,r0
 1186 0060 1124      		clr __zero_reg__
 1187 0062 EC0D      		add r30,r12
 1188 0064 FD1D      		adc r31,r13
 1189 0066 A081      		ld r26,Z
 1190 0068 B181      		ldd r27,Z+1
 1191 006a 2CAD      		ldd r18,Y+60
 1192 006c 3DAD      		ldd r19,Y+61
 1193 006e A20F      		add r26,r18
 1194 0070 B31F      		adc r27,r19
 1195 0072 FE01      		movw r30,r28
 1196 0074 7896      		adiw r30,24
GAS LISTING /tmp/ccQJ5axY.s 			page 22


 1197 0076 20E2      		ldi r18,lo8(32)
 1198               		0:
 1199 0078 0190      		ld r0,Z+
 1200 007a 0D92      		st X+,r0
 1201 007c 2A95      		dec r18
 1202 007e 01F4      		brne 0b
 1203 0080 489F      		mul r20,r24
 1204 0082 F001      		movw r30,r0
 1205 0084 499F      		mul r20,r25
 1206 0086 F00D      		add r31,r0
 1207 0088 1124      		clr __zero_reg__
 1208 008a EC0D      		add r30,r12
 1209 008c FD1D      		adc r31,r13
 1210 008e 21E0      		ldi r18,lo8(1)
 1211 0090 30E0      		ldi r19,0
 1212 0092 318B      		std Z+17,r19
 1213 0094 208B      		std Z+16,r18
 1214 0096 BC01      		movw r22,r24
 1215 0098 C801      		movw r24,r16
 1216 009a 0E94 0000 		call PhatSectorBufferRelease
 1217               	.L140:
 1218 009e F701      		movw r30,r14
 1219 00a0 1182      		std Z+1,__zero_reg__
 1220 00a2 1082      		st Z,__zero_reg__
 1221               	.L141:
 1222 00a4 80E0      		ldi r24,0
 1223 00a6 90E0      		ldi r25,0
 1224 00a8 00C0      		rjmp .L139
 1225               	.L142:
 1226 00aa 8FEF      		ldi r24,lo8(-1)
 1227 00ac 9FEF      		ldi r25,lo8(-1)
 1228               	.L139:
 1229               	/* epilogue start */
 1230 00ae DF91      		pop r29
 1231 00b0 CF91      		pop r28
 1232 00b2 1F91      		pop r17
 1233 00b4 0F91      		pop r16
 1234 00b6 FF90      		pop r15
 1235 00b8 EF90      		pop r14
 1236 00ba DF90      		pop r13
 1237 00bc CF90      		pop r12
 1238 00be 0895      		ret
 1239               		.size	PhatDirEntryUpdate, .-PhatDirEntryUpdate
 1240               		.section	.text.PhatDirEntryFind,"ax",@progbits
 1241               	.global	PhatDirEntryFind
 1242               		.type	PhatDirEntryFind, @function
 1243               	PhatDirEntryFind:
 1244 0000 4F92      		push r4
 1245 0002 5F92      		push r5
 1246 0004 6F92      		push r6
 1247 0006 7F92      		push r7
 1248 0008 8F92      		push r8
 1249 000a 9F92      		push r9
 1250 000c AF92      		push r10
 1251 000e BF92      		push r11
 1252 0010 CF92      		push r12
 1253 0012 DF92      		push r13
GAS LISTING /tmp/ccQJ5axY.s 			page 23


 1254 0014 EF92      		push r14
 1255 0016 FF92      		push r15
 1256 0018 0F93      		push r16
 1257 001a 1F93      		push r17
 1258 001c CF93      		push r28
 1259 001e DF93      		push r29
 1260               	/* prologue: function */
 1261               	/* frame size = 0 */
 1262               	/* stack size = 16 */
 1263               	.L__stack_usage = 16
 1264 0020 6C01      		movw r12,r24
 1265 0022 5B01      		movw r10,r22
 1266 0024 2901      		movw r4,r18
 1267 0026 3A01      		movw r6,r20
 1268 0028 85E2      		ldi r24,lo8(37)
 1269 002a 91E0      		ldi r25,lo8(1)
 1270 002c 0E94 0000 		call malloc
 1271 0030 EC01      		movw r28,r24
 1272 0032 892B      		or r24,r25
 1273 0034 01F0      		breq .L151
 1274 0036 F601      		movw r30,r12
 1275 0038 8281      		ldd r24,Z+2
 1276 003a 9381      		ldd r25,Z+3
 1277 003c 0E94 0000 		call PhatFilePosRewind
 1278 0040 4E01      		movw r8,r28
 1279 0042 F6E2      		ldi r31,38
 1280 0044 8F0E      		add r8,r31
 1281 0046 911C      		adc r9,__zero_reg__
 1282               	.L154:
 1283 0048 BE01      		movw r22,r28
 1284 004a C601      		movw r24,r12
 1285 004c 0E94 0000 		call PhatDirEntryRead
 1286 0050 7C01      		movw r14,r24
 1287 0052 892B      		or r24,r25
 1288 0054 01F4      		brne .L149
 1289 0056 8B85      		ldd r24,Y+11
 1290 0058 A301      		movw r20,r6
 1291 005a 9201      		movw r18,r4
 1292 005c 282B      		or r18,r24
 1293 005e DA01      		movw r26,r20
 1294 0060 C901      		movw r24,r18
 1295 0062 4816      		cp r4,r24
 1296 0064 5906      		cpc r5,r25
 1297 0066 6A06      		cpc r6,r26
 1298 0068 7B06      		cpc r7,r27
 1299 006a 01F4      		brne .L154
 1300 006c B501      		movw r22,r10
 1301 006e C401      		movw r24,r8
 1302 0070 0E94 0000 		call strcasecmp
 1303 0074 892B      		or r24,r25
 1304 0076 01F4      		brne .L154
 1305 0078 0115      		cp r16,__zero_reg__
 1306 007a 1105      		cpc r17,__zero_reg__
 1307 007c 01F0      		breq .L149
 1308 007e 85E2      		ldi r24,lo8(37)
 1309 0080 91E0      		ldi r25,lo8(1)
 1310 0082 FE01      		movw r30,r28
GAS LISTING /tmp/ccQJ5axY.s 			page 24


 1311 0084 D801      		movw r26,r16
 1312               		0:
 1313 0086 0190      		ld r0,Z+
 1314 0088 0D92      		st X+,r0
 1315 008a 0197      		sbiw r24,1
 1316 008c 01F4      		brne 0b
 1317               	.L149:
 1318 008e CE01      		movw r24,r28
 1319 0090 0E94 0000 		call free
 1320 0094 C701      		movw r24,r14
 1321 0096 00C0      		rjmp .L147
 1322               	.L151:
 1323 0098 8FEF      		ldi r24,lo8(-1)
 1324 009a 9FEF      		ldi r25,lo8(-1)
 1325               	.L147:
 1326               	/* epilogue start */
 1327 009c DF91      		pop r29
 1328 009e CF91      		pop r28
 1329 00a0 1F91      		pop r17
 1330 00a2 0F91      		pop r16
 1331 00a4 FF90      		pop r15
 1332 00a6 EF90      		pop r14
 1333 00a8 DF90      		pop r13
 1334 00aa CF90      		pop r12
 1335 00ac BF90      		pop r11
 1336 00ae AF90      		pop r10
 1337 00b0 9F90      		pop r9
 1338 00b2 8F90      		pop r8
 1339 00b4 7F90      		pop r7
 1340 00b6 6F90      		pop r6
 1341 00b8 5F90      		pop r5
 1342 00ba 4F90      		pop r4
 1343 00bc 0895      		ret
 1344               		.size	PhatDirEntryFind, .-PhatDirEntryFind
 1345               		.section	.text.PhatDirReleaseChain,"ax",@progbits
 1346               	.global	PhatDirReleaseChain
 1347               		.type	PhatDirReleaseChain, @function
 1348               	PhatDirReleaseChain:
 1349 0000 0F93      		push r16
 1350 0002 1F93      		push r17
 1351               	/* prologue: function */
 1352               	/* frame size = 0 */
 1353               	/* stack size = 2 */
 1354               	.L__stack_usage = 2
 1355 0004 FB01      		movw r30,r22
 1356 0006 2385      		ldd r18,Z+11
 1357 0008 20FF      		sbrs r18,0
 1358 000a 00C0      		rjmp .L157
 1359 000c 8DE0      		ldi r24,lo8(13)
 1360 000e 90E0      		ldi r25,0
 1361 0010 9093 0000 		sts errno+1,r25
 1362 0014 8093 0000 		sts errno,r24
 1363 0018 8FEF      		ldi r24,lo8(-1)
 1364 001a 9FEF      		ldi r25,lo8(-1)
 1365 001c 00C0      		rjmp .L158
 1366               	.L157:
 1367 001e 4489      		ldd r20,Z+20
GAS LISTING /tmp/ccQJ5axY.s 			page 25


 1368 0020 5589      		ldd r21,Z+21
 1369 0022 60E0      		ldi r22,0
 1370 0024 70E0      		ldi r23,0
 1371 0026 9A01      		movw r18,r20
 1372 0028 1127      		clr r17
 1373 002a 0027      		clr r16
 1374 002c 428D      		ldd r20,Z+26
 1375 002e 538D      		ldd r21,Z+27
 1376 0030 60E0      		ldi r22,0
 1377 0032 70E0      		ldi r23,0
 1378 0034 402B      		or r20,r16
 1379 0036 512B      		or r21,r17
 1380 0038 622B      		or r22,r18
 1381 003a 732B      		or r23,r19
 1382 003c 4230      		cpi r20,2
 1383 003e 5105      		cpc r21,__zero_reg__
 1384 0040 6105      		cpc r22,__zero_reg__
 1385 0042 7105      		cpc r23,__zero_reg__
 1386 0044 00F0      		brlo .L161
 1387 0046 DC01      		movw r26,r24
 1388 0048 5196      		adiw r26,17
 1389 004a ED91      		ld r30,X+
 1390 004c FC91      		ld r31,X
 1391 004e 5297      		sbiw r26,17+1
 1392 0050 2081      		ld r18,Z
 1393 0052 3181      		ldd r19,Z+1
 1394 0054 2032      		cpi r18,32
 1395 0056 3105      		cpc r19,__zero_reg__
 1396 0058 01F4      		brne .L159
 1397               	/* epilogue start */
 1398 005a 1F91      		pop r17
 1399 005c 0F91      		pop r16
 1400 005e 0C94 0000 		jmp Phat32ReleaseChain
 1401               	.L159:
 1402 0062 2031      		cpi r18,16
 1403 0064 3105      		cpc r19,__zero_reg__
 1404 0066 01F4      		brne .L160
 1405               	/* epilogue start */
 1406 0068 1F91      		pop r17
 1407 006a 0F91      		pop r16
 1408 006c 0C94 0000 		jmp Phat16ReleaseChain
 1409               	.L160:
 1410               	/* epilogue start */
 1411 0070 1F91      		pop r17
 1412 0072 0F91      		pop r16
 1413 0074 0C94 0000 		jmp Phat12ReleaseChain
 1414               	.L161:
 1415 0078 80E0      		ldi r24,0
 1416 007a 90E0      		ldi r25,0
 1417               	.L158:
 1418               	/* epilogue start */
 1419 007c 1F91      		pop r17
 1420 007e 0F91      		pop r16
 1421 0080 0895      		ret
 1422               		.size	PhatDirReleaseChain, .-PhatDirReleaseChain
 1423               		.section	.text.PhatDirOpen,"ax",@progbits
 1424               	.global	PhatDirOpen
GAS LISTING /tmp/ccQJ5axY.s 			page 26


 1425               		.type	PhatDirOpen, @function
 1426               	PhatDirOpen:
 1427 0000 2F92      		push r2
 1428 0002 3F92      		push r3
 1429 0004 4F92      		push r4
 1430 0006 5F92      		push r5
 1431 0008 6F92      		push r6
 1432 000a 7F92      		push r7
 1433 000c 8F92      		push r8
 1434 000e 9F92      		push r9
 1435 0010 AF92      		push r10
 1436 0012 BF92      		push r11
 1437 0014 CF92      		push r12
 1438 0016 DF92      		push r13
 1439 0018 EF92      		push r14
 1440 001a FF92      		push r15
 1441 001c 0F93      		push r16
 1442 001e 1F93      		push r17
 1443 0020 CF93      		push r28
 1444 0022 DF93      		push r29
 1445 0024 00D0      		rcall .
 1446 0026 1F92      		push __zero_reg__
 1447 0028 CDB7      		in r28,__SP_L__
 1448 002a DEB7      		in r29,__SP_H__
 1449               	/* prologue: function */
 1450               	/* frame size = 4 */
 1451               	/* stack size = 22 */
 1452               	.L__stack_usage = 22
 1453 002c 5C01      		movw r10,r24
 1454 002e 6B01      		movw r12,r22
 1455 0030 DC01      		movw r26,r24
 1456 0032 5196      		adiw r26,17
 1457 0034 6D90      		ld r6,X+
 1458 0036 7C90      		ld r7,X
 1459 0038 5297      		sbiw r26,17+1
 1460 003a 6114      		cp r6,__zero_reg__
 1461 003c 7104      		cpc r7,__zero_reg__
 1462 003e 01F4      		brne .L163
 1463 0040 83E1      		ldi r24,lo8(19)
 1464 0042 90E0      		ldi r25,0
 1465 0044 9093 0000 		sts errno+1,r25
 1466 0048 8093 0000 		sts errno,r24
 1467 004c 00C0      		rjmp .L179
 1468               	.L163:
 1469 004e 84E0      		ldi r24,lo8(4)
 1470 0050 90E0      		ldi r25,0
 1471 0052 0E94 0000 		call malloc
 1472 0056 7C01      		movw r14,r24
 1473 0058 892B      		or r24,r25
 1474 005a 01F4      		brne .+2
 1475 005c 00C0      		rjmp .L179
 1476 005e 86E4      		ldi r24,lo8(70)
 1477 0060 90E0      		ldi r25,0
 1478 0062 0E94 0000 		call malloc
 1479 0066 9C83      		std Y+4,r25
 1480 0068 8B83      		std Y+3,r24
 1481 006a F701      		movw r30,r14
GAS LISTING /tmp/ccQJ5axY.s 			page 27


 1482 006c 9383      		std Z+3,r25
 1483 006e 8283      		std Z+2,r24
 1484 0070 892B      		or r24,r25
 1485 0072 01F4      		brne .+2
 1486 0074 00C0      		rjmp .L194
 1487 0076 86E4      		ldi r24,lo8(70)
 1488 0078 AB81      		ldd r26,Y+3
 1489 007a BC81      		ldd r27,Y+4
 1490               		0:
 1491 007c 1D92      		st X+,__zero_reg__
 1492 007e 8A95      		dec r24
 1493 0080 01F4      		brne 0b
 1494 0082 F701      		movw r30,r14
 1495 0084 B182      		std Z+1,r11
 1496 0086 A082      		st Z,r10
 1497 0088 80E1      		ldi r24,lo8(16)
 1498 008a AB81      		ldd r26,Y+3
 1499 008c BC81      		ldd r27,Y+4
 1500 008e 9396      		adiw r26,35
 1501 0090 8C93      		st X,r24
 1502 0092 9397      		sbiw r26,35
 1503 0094 FD01      		movw r30,r26
 1504 0096 148A      		std Z+20,__zero_reg__
 1505 0098 158A      		std Z+21,__zero_reg__
 1506 009a 168A      		std Z+22,__zero_reg__
 1507 009c 178A      		std Z+23,__zero_reg__
 1508 009e F301      		movw r30,r6
 1509 00a0 86A5      		ldd r24,Z+46
 1510 00a2 97A5      		ldd r25,Z+47
 1511 00a4 A0A9      		ldd r26,Z+48
 1512 00a6 B1A9      		ldd r27,Z+49
 1513 00a8 EB81      		ldd r30,Y+3
 1514 00aa FC81      		ldd r31,Y+4
 1515 00ac 8483      		std Z+4,r24
 1516 00ae 9583      		std Z+5,r25
 1517 00b0 A683      		std Z+6,r26
 1518 00b2 B783      		std Z+7,r27
 1519 00b4 B5A7      		std Z+45,r27
 1520 00b6 A4A7      		std Z+44,r26
 1521 00b8 93AB      		std Z+51,r25
 1522 00ba 82AB      		std Z+50,r24
 1523 00bc D601      		movw r26,r12
 1524 00be 8C91      		ld r24,X
 1525 00c0 8F32      		cpi r24,lo8(47)
 1526 00c2 01F4      		brne .L166
 1527 00c4 BFEF      		ldi r27,-1
 1528 00c6 CB1A      		sub r12,r27
 1529 00c8 DB0A      		sbc r13,r27
 1530               	.L166:
 1531 00ca F601      		movw r30,r12
 1532 00cc 8081      		ld r24,Z
 1533 00ce 8823      		tst r24
 1534 00d0 01F4      		brne .+2
 1535 00d2 00C0      		rjmp .L180
 1536 00d4 80E0      		ldi r24,0
 1537 00d6 91E0      		ldi r25,lo8(1)
 1538 00d8 0E94 0000 		call malloc
GAS LISTING /tmp/ccQJ5axY.s 			page 28


 1539 00dc 5C01      		movw r10,r24
 1540 00de 892B      		or r24,r25
 1541 00e0 01F0      		breq .L193
 1542 00e2 85E2      		ldi r24,lo8(37)
 1543 00e4 91E0      		ldi r25,lo8(1)
 1544 00e6 0E94 0000 		call malloc
 1545 00ea 4C01      		movw r8,r24
 1546 00ec 892B      		or r24,r25
 1547 00ee 01F0      		breq .L168
 1548 00f0 8B81      		ldd r24,Y+3
 1549 00f2 9C81      		ldd r25,Y+4
 1550 00f4 8C5B      		subi r24,-68
 1551 00f6 9F4F      		sbci r25,-1
 1552 00f8 9A83      		std Y+2,r25
 1553 00fa 8983      		std Y+1,r24
 1554 00fc 2B80      		ldd r2,Y+3
 1555 00fe 3C80      		ldd r3,Y+4
 1556 0100 92E4      		ldi r25,66
 1557 0102 290E      		add r2,r25
 1558 0104 311C      		adc r3,__zero_reg__
 1559 0106 AB81      		ldd r26,Y+3
 1560 0108 BC81      		ldd r27,Y+4
 1561 010a 5896      		adiw r26,24
 1562 010c 2D01      		movw r4,r26
 1563 010e 00C0      		rjmp .L169
 1564               	.L168:
 1565 0110 C501      		movw r24,r10
 1566 0112 0E94 0000 		call free
 1567               	.L193:
 1568 0116 8B81      		ldd r24,Y+3
 1569 0118 9C81      		ldd r25,Y+4
 1570 011a 0E94 0000 		call free
 1571               	.L194:
 1572 011e C701      		movw r24,r14
 1573 0120 0E94 0000 		call free
 1574 0124 00C0      		rjmp .L179
 1575               	.L170:
 1576 0126 0196      		adiw r24,1
 1577 0128 8115      		cp r24,__zero_reg__
 1578 012a B1E0      		ldi r27,1
 1579 012c 9B07      		cpc r25,r27
 1580 012e 01F0      		breq .L171
 1581 0130 4193      		st Z+,r20
 1582               	.L178:
 1583 0132 6901      		movw r12,r18
 1584 0134 D901      		movw r26,r18
 1585 0136 4C91      		ld r20,X
 1586 0138 2F5F      		subi r18,-1
 1587 013a 3F4F      		sbci r19,-1
 1588 013c 4423      		tst r20
 1589 013e 01F0      		breq .L171
 1590 0140 4F32      		cpi r20,lo8(47)
 1591 0142 01F4      		brne .L170
 1592 0144 6901      		movw r12,r18
 1593               	.L171:
 1594 0146 1082      		st Z,__zero_reg__
 1595 0148 8115      		cp r24,__zero_reg__
GAS LISTING /tmp/ccQJ5axY.s 			page 29


 1596 014a 9140      		sbci r25,1
 1597 014c 01F4      		brne .+2
 1598 014e 00C0      		rjmp .L175
 1599 0150 8401      		movw r16,r8
 1600 0152 27E3      		ldi r18,lo8(55)
 1601 0154 30E0      		ldi r19,0
 1602 0156 40E0      		ldi r20,0
 1603 0158 50E0      		ldi r21,0
 1604 015a B501      		movw r22,r10
 1605 015c C701      		movw r24,r14
 1606 015e 0E94 0000 		call PhatDirEntryFind
 1607 0162 892B      		or r24,r25
 1608 0164 01F0      		breq .+2
 1609 0166 00C0      		rjmp .L175
 1610 0168 EB81      		ldd r30,Y+3
 1611 016a FC81      		ldd r31,Y+4
 1612 016c 4481      		ldd r20,Z+4
 1613 016e 5581      		ldd r21,Z+5
 1614 0170 6681      		ldd r22,Z+6
 1615 0172 7781      		ldd r23,Z+7
 1616 0174 C701      		movw r24,r14
 1617 0176 0E94 0000 		call PhatClusterSector
 1618 017a AB81      		ldd r26,Y+3
 1619 017c BC81      		ldd r27,Y+4
 1620 017e 1896      		adiw r26,8
 1621 0180 0D91      		ld r16,X+
 1622 0182 1D91      		ld r17,X+
 1623 0184 2D91      		ld r18,X+
 1624 0186 3C91      		ld r19,X
 1625 0188 1B97      		sbiw r26,8+3
 1626 018a DC01      		movw r26,r24
 1627 018c CB01      		movw r24,r22
 1628 018e 800F      		add r24,r16
 1629 0190 911F      		adc r25,r17
 1630 0192 A21F      		adc r26,r18
 1631 0194 B31F      		adc r27,r19
 1632 0196 EB81      		ldd r30,Y+3
 1633 0198 FC81      		ldd r31,Y+4
 1634 019a 80AF      		std Z+56,r24
 1635 019c 91AF      		std Z+57,r25
 1636 019e A2AF      		std Z+58,r26
 1637 01a0 B3AF      		std Z+59,r27
 1638 01a2 8485      		ldd r24,Z+12
 1639 01a4 9585      		ldd r25,Z+13
 1640 01a6 A685      		ldd r26,Z+14
 1641 01a8 B785      		ldd r27,Z+15
 1642 01aa 8097      		sbiw r24,32
 1643 01ac A109      		sbc r26,__zero_reg__
 1644 01ae B109      		sbc r27,__zero_reg__
 1645 01b0 84AF      		std Z+60,r24
 1646 01b2 95AF      		std Z+61,r25
 1647 01b4 A6AF      		std Z+62,r26
 1648 01b6 B7AF      		std Z+63,r27
 1649 01b8 84A5      		ldd r24,Z+44
 1650 01ba 95A5      		ldd r25,Z+45
 1651 01bc A981      		ldd r26,Y+1
 1652 01be BA81      		ldd r27,Y+2
GAS LISTING /tmp/ccQJ5axY.s 			page 30


 1653 01c0 8D93      		st X+,r24
 1654 01c2 9C93      		st X,r25
 1655 01c4 82A9      		ldd r24,Z+50
 1656 01c6 93A9      		ldd r25,Z+51
 1657 01c8 F101      		movw r30,r2
 1658 01ca 9183      		std Z+1,r25
 1659 01cc 8083      		st Z,r24
 1660 01ce 80E2      		ldi r24,lo8(32)
 1661 01d0 F401      		movw r30,r8
 1662 01d2 D201      		movw r26,r4
 1663               		0:
 1664 01d4 0190      		ld r0,Z+
 1665 01d6 0D92      		st X+,r0
 1666 01d8 8A95      		dec r24
 1667 01da 01F4      		brne 0b
 1668 01dc AB81      		ldd r26,Y+3
 1669 01de BC81      		ldd r27,Y+4
 1670 01e0 9396      		adiw r26,35
 1671 01e2 8C91      		ld r24,X
 1672 01e4 9397      		sbiw r26,35
 1673 01e6 84FD      		sbrc r24,4
 1674 01e8 00C0      		rjmp .L195
 1675               	.L176:
 1676 01ea 8B81      		ldd r24,Y+3
 1677 01ec 9C81      		ldd r25,Y+4
 1678 01ee 0E94 0000 		call PhatFilePosRewind
 1679 01f2 AB81      		ldd r26,Y+3
 1680 01f4 BC81      		ldd r27,Y+4
 1681 01f6 5096      		adiw r26,16
 1682 01f8 1D92      		st X+,__zero_reg__
 1683 01fa 1D92      		st X+,__zero_reg__
 1684 01fc 1D92      		st X+,__zero_reg__
 1685 01fe 1C92      		st X,__zero_reg__
 1686 0200 5397      		sbiw r26,16+3
 1687 0202 FD01      		movw r30,r26
 1688 0204 148A      		std Z+20,__zero_reg__
 1689 0206 158A      		std Z+21,__zero_reg__
 1690 0208 168A      		std Z+22,__zero_reg__
 1691 020a 178A      		std Z+23,__zero_reg__
 1692               	.L169:
 1693 020c D601      		movw r26,r12
 1694 020e 8C91      		ld r24,X
 1695 0210 8823      		tst r24
 1696 0212 01F0      		breq .L174
 1697 0214 9601      		movw r18,r12
 1698 0216 F501      		movw r30,r10
 1699 0218 80E0      		ldi r24,0
 1700 021a 90E0      		ldi r25,0
 1701 021c 00C0      		rjmp .L178
 1702               	.L175:
 1703 021e 82E0      		ldi r24,lo8(2)
 1704 0220 90E0      		ldi r25,0
 1705 0222 9093 0000 		sts errno+1,r25
 1706 0226 8093 0000 		sts errno,r24
 1707 022a 8B81      		ldd r24,Y+3
 1708 022c 9C81      		ldd r25,Y+4
 1709 022e 0E94 0000 		call free
GAS LISTING /tmp/ccQJ5axY.s 			page 31


 1710 0232 C701      		movw r24,r14
 1711 0234 0E94 0000 		call free
 1712 0238 EE24      		clr r14
 1713 023a EA94      		dec r14
 1714 023c FE2C      		mov r15,r14
 1715 023e 00C0      		rjmp .L174
 1716               	.L195:
 1717 0240 D296      		adiw r26,50
 1718 0242 8D91      		ld r24,X+
 1719 0244 9C91      		ld r25,X
 1720 0246 D397      		sbiw r26,50+1
 1721 0248 892B      		or r24,r25
 1722 024a 01F4      		brne .L176
 1723 024c 9C96      		adiw r26,44
 1724 024e 8D91      		ld r24,X+
 1725 0250 9C91      		ld r25,X
 1726 0252 9D97      		sbiw r26,44+1
 1727 0254 892B      		or r24,r25
 1728 0256 01F4      		brne .L176
 1729 0258 F301      		movw r30,r6
 1730 025a 8081      		ld r24,Z
 1731 025c 9181      		ldd r25,Z+1
 1732 025e 8097      		sbiw r24,32
 1733 0260 01F0      		breq .L177
 1734 0262 D896      		adiw r26,56
 1735 0264 1D92      		st X+,__zero_reg__
 1736 0266 1D92      		st X+,__zero_reg__
 1737 0268 1D92      		st X+,__zero_reg__
 1738 026a 1C92      		st X,__zero_reg__
 1739 026c DB97      		sbiw r26,56+3
 1740               	.L177:
 1741 026e F301      		movw r30,r6
 1742 0270 86A5      		ldd r24,Z+46
 1743 0272 97A5      		ldd r25,Z+47
 1744 0274 A0A9      		ldd r26,Z+48
 1745 0276 B1A9      		ldd r27,Z+49
 1746 0278 EB81      		ldd r30,Y+3
 1747 027a FC81      		ldd r31,Y+4
 1748 027c B5A7      		std Z+45,r27
 1749 027e A4A7      		std Z+44,r26
 1750 0280 93AB      		std Z+51,r25
 1751 0282 82AB      		std Z+50,r24
 1752 0284 00C0      		rjmp .L176
 1753               	.L174:
 1754 0286 C401      		movw r24,r8
 1755 0288 0E94 0000 		call free
 1756 028c C501      		movw r24,r10
 1757 028e 0E94 0000 		call free
 1758 0292 00C0      		rjmp .L180
 1759               	.L179:
 1760 0294 8FEF      		ldi r24,lo8(-1)
 1761 0296 9FEF      		ldi r25,lo8(-1)
 1762 0298 00C0      		rjmp .L164
 1763               	.L180:
 1764 029a C701      		movw r24,r14
 1765               	.L164:
 1766               	/* epilogue start */
GAS LISTING /tmp/ccQJ5axY.s 			page 32


 1767 029c 0F90      		pop __tmp_reg__
 1768 029e 0F90      		pop __tmp_reg__
 1769 02a0 0F90      		pop __tmp_reg__
 1770 02a2 0F90      		pop __tmp_reg__
 1771 02a4 DF91      		pop r29
 1772 02a6 CF91      		pop r28
 1773 02a8 1F91      		pop r17
 1774 02aa 0F91      		pop r16
 1775 02ac FF90      		pop r15
 1776 02ae EF90      		pop r14
 1777 02b0 DF90      		pop r13
 1778 02b2 CF90      		pop r12
 1779 02b4 BF90      		pop r11
 1780 02b6 AF90      		pop r10
 1781 02b8 9F90      		pop r9
 1782 02ba 8F90      		pop r8
 1783 02bc 7F90      		pop r7
 1784 02be 6F90      		pop r6
 1785 02c0 5F90      		pop r5
 1786 02c2 4F90      		pop r4
 1787 02c4 3F90      		pop r3
 1788 02c6 2F90      		pop r2
 1789 02c8 0895      		ret
 1790               		.size	PhatDirOpen, .-PhatDirOpen
 1791               		.section	.text.PhatDirOpenParent,"ax",@progbits
 1792               	.global	PhatDirOpenParent
 1793               		.type	PhatDirOpenParent, @function
 1794               	PhatDirOpenParent:
 1795 0000 0F93      		push r16
 1796 0002 1F93      		push r17
 1797 0004 CF93      		push r28
 1798 0006 DF93      		push r29
 1799               	/* prologue: function */
 1800               	/* frame size = 0 */
 1801               	/* stack size = 4 */
 1802               	.L__stack_usage = 4
 1803 0008 8C01      		movw r16,r24
 1804 000a CB01      		movw r24,r22
 1805 000c BA01      		movw r22,r20
 1806 000e 0E94 0000 		call GetParentPath
 1807 0012 EC01      		movw r28,r24
 1808 0014 0097      		sbiw r24,0
 1809 0016 01F0      		breq .L198
 1810 0018 BC01      		movw r22,r24
 1811 001a C801      		movw r24,r16
 1812 001c 0E94 0000 		call PhatDirOpen
 1813 0020 8C01      		movw r16,r24
 1814 0022 CE01      		movw r24,r28
 1815 0024 0E94 0000 		call free
 1816 0028 00C0      		rjmp .L197
 1817               	.L198:
 1818 002a 0FEF      		ldi r16,lo8(-1)
 1819 002c 1FEF      		ldi r17,lo8(-1)
 1820               	.L197:
 1821 002e C801      		movw r24,r16
 1822               	/* epilogue start */
 1823 0030 DF91      		pop r29
GAS LISTING /tmp/ccQJ5axY.s 			page 33


 1824 0032 CF91      		pop r28
 1825 0034 1F91      		pop r17
 1826 0036 0F91      		pop r16
 1827 0038 0895      		ret
 1828               		.size	PhatDirOpenParent, .-PhatDirOpenParent
 1829               		.section	.text.PhatDirRenameEntry,"ax",@progbits
 1830               	.global	PhatDirRenameEntry
 1831               		.type	PhatDirRenameEntry, @function
 1832               	PhatDirRenameEntry:
 1833 0000 8F92      		push r8
 1834 0002 9F92      		push r9
 1835 0004 AF92      		push r10
 1836 0006 BF92      		push r11
 1837 0008 CF92      		push r12
 1838 000a DF92      		push r13
 1839 000c EF92      		push r14
 1840 000e FF92      		push r15
 1841 0010 0F93      		push r16
 1842 0012 1F93      		push r17
 1843 0014 CF93      		push r28
 1844 0016 DF93      		push r29
 1845 0018 1F92      		push __zero_reg__
 1846 001a 1F92      		push __zero_reg__
 1847 001c CDB7      		in r28,__SP_L__
 1848 001e DEB7      		in r29,__SP_H__
 1849               	/* prologue: function */
 1850               	/* frame size = 2 */
 1851               	/* stack size = 14 */
 1852               	.L__stack_usage = 14
 1853 0020 5C01      		movw r10,r24
 1854 0022 4A01      		movw r8,r20
 1855 0024 AE01      		movw r20,r28
 1856 0026 4F5F      		subi r20,-1
 1857 0028 5F4F      		sbci r21,-1
 1858 002a 0E94 0000 		call PhatDirOpenParent
 1859 002e 6C01      		movw r12,r24
 1860 0030 8FEF      		ldi r24,-1
 1861 0032 C816      		cp r12,r24
 1862 0034 D806      		cpc r13,r24
 1863 0036 01F4      		brne .+2
 1864 0038 00C0      		rjmp .L206
 1865 003a 85E2      		ldi r24,lo8(37)
 1866 003c 91E0      		ldi r25,lo8(1)
 1867 003e 0E94 0000 		call malloc
 1868 0042 7C01      		movw r14,r24
 1869 0044 0097      		sbiw r24,0
 1870 0046 01F4      		brne .+2
 1871 0048 00C0      		rjmp .L207
 1872 004a 6981      		ldd r22,Y+1
 1873 004c 7A81      		ldd r23,Y+2
 1874 004e 8C01      		movw r16,r24
 1875 0050 27E3      		ldi r18,lo8(55)
 1876 0052 30E0      		ldi r19,0
 1877 0054 40E0      		ldi r20,0
 1878 0056 50E0      		ldi r21,0
 1879 0058 C601      		movw r24,r12
 1880 005a 0E94 0000 		call PhatDirEntryFind
GAS LISTING /tmp/ccQJ5axY.s 			page 34


 1881 005e 8C01      		movw r16,r24
 1882 0060 892B      		or r24,r25
 1883 0062 01F4      		brne .L202
 1884 0064 AE01      		movw r20,r28
 1885 0066 4F5F      		subi r20,-1
 1886 0068 5F4F      		sbci r21,-1
 1887 006a B401      		movw r22,r8
 1888 006c C501      		movw r24,r10
 1889 006e 0E94 0000 		call PhatDirOpenParent
 1890 0072 5C01      		movw r10,r24
 1891 0074 8F3F      		cpi r24,-1
 1892 0076 EFEF      		ldi r30,-1
 1893 0078 9E07      		cpc r25,r30
 1894 007a 01F0      		breq .L208
 1895 007c 6981      		ldd r22,Y+1
 1896 007e 7A81      		ldd r23,Y+2
 1897 0080 00E0      		ldi r16,0
 1898 0082 10E0      		ldi r17,0
 1899 0084 27E3      		ldi r18,lo8(55)
 1900 0086 30E0      		ldi r19,0
 1901 0088 40E0      		ldi r20,0
 1902 008a 50E0      		ldi r21,0
 1903 008c 0E94 0000 		call PhatDirEntryFind
 1904 0090 892B      		or r24,r25
 1905 0092 01F4      		brne .L204
 1906 0094 81E1      		ldi r24,lo8(17)
 1907 0096 90E0      		ldi r25,0
 1908 0098 9093 0000 		sts errno+1,r25
 1909 009c 8093 0000 		sts errno,r24
 1910 00a0 0FEF      		ldi r16,lo8(-1)
 1911 00a2 1FEF      		ldi r17,lo8(-1)
 1912 00a4 00C0      		rjmp .L205
 1913               	.L204:
 1914 00a6 6981      		ldd r22,Y+1
 1915 00a8 7A81      		ldd r23,Y+2
 1916 00aa A701      		movw r20,r14
 1917 00ac C501      		movw r24,r10
 1918 00ae 0E94 0000 		call PhatDirEntryAlloc
 1919 00b2 8C01      		movw r16,r24
 1920 00b4 892B      		or r24,r25
 1921 00b6 01F4      		brne .L205
 1922 00b8 F701      		movw r30,r14
 1923 00ba 24A1      		ldd r18,Z+36
 1924 00bc 35A1      		ldd r19,Z+37
 1925 00be 40A1      		ldd r20,Z+32
 1926 00c0 51A1      		ldd r21,Z+33
 1927 00c2 62A1      		ldd r22,Z+34
 1928 00c4 73A1      		ldd r23,Z+35
 1929 00c6 C601      		movw r24,r12
 1930 00c8 0E94 0000 		call PhatDirEntryRelease
 1931 00cc 8C01      		movw r16,r24
 1932               	.L205:
 1933 00ce C501      		movw r24,r10
 1934 00d0 0E94 0000 		call PhatFileClose
 1935 00d4 00C0      		rjmp .L203
 1936               	.L202:
 1937 00d6 82E0      		ldi r24,lo8(2)
GAS LISTING /tmp/ccQJ5axY.s 			page 35


 1938 00d8 90E0      		ldi r25,0
 1939 00da 9093 0000 		sts errno+1,r25
 1940 00de 8093 0000 		sts errno,r24
 1941 00e2 00C0      		rjmp .L203
 1942               	.L208:
 1943 00e4 0FEF      		ldi r16,lo8(-1)
 1944 00e6 1FEF      		ldi r17,lo8(-1)
 1945               	.L203:
 1946 00e8 C701      		movw r24,r14
 1947 00ea 0E94 0000 		call free
 1948 00ee 00C0      		rjmp .L201
 1949               	.L207:
 1950 00f0 0FEF      		ldi r16,lo8(-1)
 1951 00f2 1FEF      		ldi r17,lo8(-1)
 1952               	.L201:
 1953 00f4 C601      		movw r24,r12
 1954 00f6 0E94 0000 		call PhatFileClose
 1955 00fa C801      		movw r24,r16
 1956 00fc 00C0      		rjmp .L200
 1957               	.L206:
 1958 00fe 8FEF      		ldi r24,lo8(-1)
 1959 0100 9FEF      		ldi r25,lo8(-1)
 1960               	.L200:
 1961               	/* epilogue start */
 1962 0102 0F90      		pop __tmp_reg__
 1963 0104 0F90      		pop __tmp_reg__
 1964 0106 DF91      		pop r29
 1965 0108 CF91      		pop r28
 1966 010a 1F91      		pop r17
 1967 010c 0F91      		pop r16
 1968 010e FF90      		pop r15
 1969 0110 EF90      		pop r14
 1970 0112 DF90      		pop r13
 1971 0114 CF90      		pop r12
 1972 0116 BF90      		pop r11
 1973 0118 AF90      		pop r10
 1974 011a 9F90      		pop r9
 1975 011c 8F90      		pop r8
 1976 011e 0895      		ret
 1977               		.size	PhatDirRenameEntry, .-PhatDirRenameEntry
 1978               		.section	.text.PhatDirDelEntry,"ax",@progbits
 1979               	.global	PhatDirDelEntry
 1980               		.type	PhatDirDelEntry, @function
 1981               	PhatDirDelEntry:
 1982 0000 4F92      		push r4
 1983 0002 5F92      		push r5
 1984 0004 6F92      		push r6
 1985 0006 7F92      		push r7
 1986 0008 AF92      		push r10
 1987 000a BF92      		push r11
 1988 000c CF92      		push r12
 1989 000e DF92      		push r13
 1990 0010 EF92      		push r14
 1991 0012 FF92      		push r15
 1992 0014 0F93      		push r16
 1993 0016 1F93      		push r17
 1994 0018 CF93      		push r28
GAS LISTING /tmp/ccQJ5axY.s 			page 36


 1995 001a DF93      		push r29
 1996 001c 1F92      		push __zero_reg__
 1997 001e 1F92      		push __zero_reg__
 1998 0020 CDB7      		in r28,__SP_L__
 1999 0022 DEB7      		in r29,__SP_H__
 2000               	/* prologue: function */
 2001               	/* frame size = 2 */
 2002               	/* stack size = 16 */
 2003               	.L__stack_usage = 16
 2004 0024 5C01      		movw r10,r24
 2005 0026 2901      		movw r4,r18
 2006 0028 3A01      		movw r6,r20
 2007 002a AE01      		movw r20,r28
 2008 002c 4F5F      		subi r20,-1
 2009 002e 5F4F      		sbci r21,-1
 2010 0030 0E94 0000 		call PhatDirOpenParent
 2011 0034 6C01      		movw r12,r24
 2012 0036 8FEF      		ldi r24,-1
 2013 0038 C816      		cp r12,r24
 2014 003a D806      		cpc r13,r24
 2015 003c 01F0      		breq .L214
 2016 003e 85E2      		ldi r24,lo8(37)
 2017 0040 91E0      		ldi r25,lo8(1)
 2018 0042 0E94 0000 		call malloc
 2019 0046 7C01      		movw r14,r24
 2020 0048 0097      		sbiw r24,0
 2021 004a 01F0      		breq .L215
 2022 004c 6981      		ldd r22,Y+1
 2023 004e 7A81      		ldd r23,Y+2
 2024 0050 8C01      		movw r16,r24
 2025 0052 A301      		movw r20,r6
 2026 0054 9201      		movw r18,r4
 2027 0056 C601      		movw r24,r12
 2028 0058 0E94 0000 		call PhatDirEntryFind
 2029 005c 892B      		or r24,r25
 2030 005e 01F4      		brne .L212
 2031 0060 B701      		movw r22,r14
 2032 0062 C501      		movw r24,r10
 2033 0064 0E94 0000 		call PhatDirReleaseChain
 2034 0068 892B      		or r24,r25
 2035 006a 01F4      		brne .L216
 2036 006c F701      		movw r30,r14
 2037 006e 24A1      		ldd r18,Z+36
 2038 0070 35A1      		ldd r19,Z+37
 2039 0072 40A1      		ldd r20,Z+32
 2040 0074 51A1      		ldd r21,Z+33
 2041 0076 62A1      		ldd r22,Z+34
 2042 0078 73A1      		ldd r23,Z+35
 2043 007a C601      		movw r24,r12
 2044 007c 0E94 0000 		call PhatDirEntryRelease
 2045 0080 8C01      		movw r16,r24
 2046 0082 00C0      		rjmp .L213
 2047               	.L212:
 2048 0084 82E0      		ldi r24,lo8(2)
 2049 0086 90E0      		ldi r25,0
 2050 0088 9093 0000 		sts errno+1,r25
 2051 008c 8093 0000 		sts errno,r24
GAS LISTING /tmp/ccQJ5axY.s 			page 37


 2052               	.L216:
 2053 0090 0FEF      		ldi r16,lo8(-1)
 2054 0092 1FEF      		ldi r17,lo8(-1)
 2055               	.L213:
 2056 0094 C701      		movw r24,r14
 2057 0096 0E94 0000 		call free
 2058 009a 00C0      		rjmp .L211
 2059               	.L215:
 2060 009c 0FEF      		ldi r16,lo8(-1)
 2061 009e 1FEF      		ldi r17,lo8(-1)
 2062               	.L211:
 2063 00a0 C601      		movw r24,r12
 2064 00a2 0E94 0000 		call PhatFileClose
 2065 00a6 00C0      		rjmp .L210
 2066               	.L214:
 2067 00a8 0FEF      		ldi r16,lo8(-1)
 2068 00aa 1FEF      		ldi r17,lo8(-1)
 2069               	.L210:
 2070 00ac C801      		movw r24,r16
 2071               	/* epilogue start */
 2072 00ae 0F90      		pop __tmp_reg__
 2073 00b0 0F90      		pop __tmp_reg__
 2074 00b2 DF91      		pop r29
 2075 00b4 CF91      		pop r28
 2076 00b6 1F91      		pop r17
 2077 00b8 0F91      		pop r16
 2078 00ba FF90      		pop r15
 2079 00bc EF90      		pop r14
 2080 00be DF90      		pop r13
 2081 00c0 CF90      		pop r12
 2082 00c2 BF90      		pop r11
 2083 00c4 AF90      		pop r10
 2084 00c6 7F90      		pop r7
 2085 00c8 6F90      		pop r6
 2086 00ca 5F90      		pop r5
 2087 00cc 4F90      		pop r4
 2088 00ce 0895      		ret
 2089               		.size	PhatDirDelEntry, .-PhatDirDelEntry
 2090               		.section	.text.PhatDirRead,"ax",@progbits
 2091               	.global	PhatDirRead
 2092               		.type	PhatDirRead, @function
 2093               	PhatDirRead:
 2094 0000 EF92      		push r14
 2095 0002 FF92      		push r15
 2096 0004 0F93      		push r16
 2097 0006 1F93      		push r17
 2098 0008 CF93      		push r28
 2099 000a DF93      		push r29
 2100               	/* prologue: function */
 2101               	/* frame size = 0 */
 2102               	/* stack size = 6 */
 2103               	.L__stack_usage = 6
 2104 000c 7C01      		movw r14,r24
 2105 000e 85E2      		ldi r24,lo8(37)
 2106 0010 91E0      		ldi r25,lo8(1)
 2107 0012 0E94 0000 		call malloc
 2108 0016 EC01      		movw r28,r24
GAS LISTING /tmp/ccQJ5axY.s 			page 38


 2109 0018 0097      		sbiw r24,0
 2110 001a 01F0      		breq .L221
 2111 001c BC01      		movw r22,r24
 2112 001e D701      		movw r26,r14
 2113 0020 8D91      		ld r24,X+
 2114 0022 9C91      		ld r25,X
 2115 0024 0E94 0000 		call PhatDirEntryRead
 2116 0028 8C01      		movw r16,r24
 2117 002a 892B      		or r24,r25
 2118 002c 01F0      		breq .L219
 2119 002e CE01      		movw r24,r28
 2120 0030 0E94 0000 		call free
 2121 0034 00C0      		rjmp .L221
 2122               	.L219:
 2123 0036 F701      		movw r30,r14
 2124 0038 E280      		ldd r14,Z+2
 2125 003a F380      		ldd r15,Z+3
 2126 003c 88E0      		ldi r24,lo8(8)
 2127 003e 91E0      		ldi r25,lo8(1)
 2128 0040 D701      		movw r26,r14
 2129 0042 FC01      		movw r30,r24
 2130               		0:
 2131 0044 1D92      		st X+,__zero_reg__
 2132 0046 3197      		sbiw r30,1
 2133 0048 01F4      		brne 0b
 2134 004a BE01      		movw r22,r28
 2135 004c 6A5D      		subi r22,-38
 2136 004e 7F4F      		sbci r23,-1
 2137 0050 FB01      		movw r30,r22
 2138               		0:
 2139 0052 0190      		ld __tmp_reg__,Z+
 2140 0054 0020      		tst __tmp_reg__
 2141 0056 01F4      		brne 0b
 2142 0058 3197      		sbiw r30,1
 2143 005a E61B      		sub r30,r22
 2144 005c F70B      		sbc r31,r23
 2145 005e D701      		movw r26,r14
 2146 0060 1796      		adiw r26,7
 2147 0062 EC93      		st X,r30
 2148 0064 C701      		movw r24,r14
 2149 0066 0896      		adiw r24,8
 2150 0068 0E94 0000 		call strcpy
 2151 006c 8B85      		ldd r24,Y+11
 2152 006e 84FF      		sbrs r24,4
 2153 0070 00C0      		rjmp .L220
 2154 0072 81E0      		ldi r24,lo8(1)
 2155 0074 F701      		movw r30,r14
 2156 0076 8683      		std Z+6,r24
 2157               	.L220:
 2158 0078 CE01      		movw r24,r28
 2159 007a 0E94 0000 		call free
 2160 007e 00C0      		rjmp .L218
 2161               	.L221:
 2162 0080 0FEF      		ldi r16,lo8(-1)
 2163 0082 1FEF      		ldi r17,lo8(-1)
 2164               	.L218:
 2165 0084 C801      		movw r24,r16
GAS LISTING /tmp/ccQJ5axY.s 			page 39


 2166               	/* epilogue start */
 2167 0086 DF91      		pop r29
 2168 0088 CF91      		pop r28
 2169 008a 1F91      		pop r17
 2170 008c 0F91      		pop r16
 2171 008e FF90      		pop r15
 2172 0090 EF90      		pop r14
 2173 0092 0895      		ret
 2174               		.size	PhatDirRead, .-PhatDirRead
 2175               		.section	.text.PhatDirCreate,"ax",@progbits
 2176               	.global	PhatDirCreate
 2177               		.type	PhatDirCreate, @function
 2178               	PhatDirCreate:
 2179 0000 8F92      		push r8
 2180 0002 9F92      		push r9
 2181 0004 AF92      		push r10
 2182 0006 BF92      		push r11
 2183 0008 CF92      		push r12
 2184 000a DF92      		push r13
 2185 000c EF92      		push r14
 2186 000e FF92      		push r15
 2187 0010 0F93      		push r16
 2188 0012 1F93      		push r17
 2189 0014 CF93      		push r28
 2190 0016 DF93      		push r29
 2191               	/* prologue: function */
 2192               	/* frame size = 0 */
 2193               	/* stack size = 12 */
 2194               	.L__stack_usage = 12
 2195 0018 FC01      		movw r30,r24
 2196 001a C188      		ldd r12,Z+17
 2197 001c D288      		ldd r13,Z+18
 2198 001e 20E1      		ldi r18,lo8(16)
 2199 0020 30E0      		ldi r19,0
 2200 0022 42E0      		ldi r20,lo8(2)
 2201 0024 55E0      		ldi r21,lo8(5)
 2202 0026 0E94 0000 		call PhatFileOpen
 2203 002a 8C01      		movw r16,r24
 2204 002c 8F3F      		cpi r24,-1
 2205 002e FFEF      		ldi r31,-1
 2206 0030 9F07      		cpc r25,r31
 2207 0032 01F4      		brne .+2
 2208 0034 00C0      		rjmp .L226
 2209 0036 FC01      		movw r30,r24
 2210 0038 E280      		ldd r14,Z+2
 2211 003a F380      		ldd r15,Z+3
 2212 003c 0E94 0000 		call AllocFirstCluster
 2213 0040 6230      		cpi r22,2
 2214 0042 7105      		cpc r23,__zero_reg__
 2215 0044 8105      		cpc r24,__zero_reg__
 2216 0046 9105      		cpc r25,__zero_reg__
 2217 0048 00F0      		brlo .L240
 2218 004a F701      		movw r30,r14
 2219 004c 608B      		std Z+16,r22
 2220 004e 718B      		std Z+17,r23
 2221 0050 828B      		std Z+18,r24
 2222 0052 938B      		std Z+19,r25
GAS LISTING /tmp/ccQJ5axY.s 			page 40


 2223 0054 6483      		std Z+4,r22
 2224 0056 7583      		std Z+5,r23
 2225 0058 8683      		std Z+6,r24
 2226 005a 9783      		std Z+7,r25
 2227 005c F601      		movw r30,r12
 2228 005e A08C      		ldd r10,Z+24
 2229 0060 B18C      		ldd r11,Z+25
 2230 0062 C501      		movw r24,r10
 2231 0064 0E94 0000 		call malloc
 2232 0068 EC01      		movw r28,r24
 2233 006a 0097      		sbiw r24,0
 2234 006c 01F0      		breq .L240
 2235 006e A501      		movw r20,r10
 2236 0070 60E0      		ldi r22,0
 2237 0072 70E0      		ldi r23,0
 2238 0074 0E94 0000 		call memset
 2239 0078 F601      		movw r30,r12
 2240 007a 828C      		ldd r8,Z+26
 2241 007c 938C      		ldd r9,Z+27
 2242 007e A12C      		mov r10,__zero_reg__
 2243 0080 B12C      		mov r11,__zero_reg__
 2244 0082 00C0      		rjmp .L229
 2245               	.L230:
 2246 0084 F1E0      		ldi r31,1
 2247 0086 8F1A      		sub r8,r31
 2248 0088 9108      		sbc r9,__zero_reg__
 2249 008a A108      		sbc r10,__zero_reg__
 2250 008c B108      		sbc r11,__zero_reg__
 2251               	.L229:
 2252 008e 8114      		cp r8,__zero_reg__
 2253 0090 9104      		cpc r9,__zero_reg__
 2254 0092 A104      		cpc r10,__zero_reg__
 2255 0094 B104      		cpc r11,__zero_reg__
 2256 0096 01F0      		breq .L241
 2257 0098 F601      		movw r30,r12
 2258 009a 408D      		ldd r20,Z+24
 2259 009c 518D      		ldd r21,Z+25
 2260 009e BE01      		movw r22,r28
 2261 00a0 C801      		movw r24,r16
 2262 00a2 0E94 0000 		call PhatFileWrite
 2263 00a6 97FF      		sbrs r25,7
 2264 00a8 00C0      		rjmp .L230
 2265 00aa CE01      		movw r24,r28
 2266 00ac 0E94 0000 		call free
 2267               	.L240:
 2268 00b0 C801      		movw r24,r16
 2269 00b2 0E94 0000 		call PhatFileClose
 2270 00b6 00C0      		rjmp .L226
 2271               	.L241:
 2272 00b8 CE01      		movw r24,r28
 2273 00ba 0E94 0000 		call free
 2274 00be 80E2      		ldi r24,lo8(32)
 2275 00c0 90E0      		ldi r25,0
 2276 00c2 0E94 0000 		call malloc
 2277 00c6 EC01      		movw r28,r24
 2278 00c8 80E2      		ldi r24,lo8(32)
 2279 00ca F701      		movw r30,r14
GAS LISTING /tmp/ccQJ5axY.s 			page 41


 2280 00cc 7896      		adiw r30,24
 2281 00ce DE01      		movw r26,r28
 2282               		0:
 2283 00d0 0190      		ld r0,Z+
 2284 00d2 0D92      		st X+,r0
 2285 00d4 8A95      		dec r24
 2286 00d6 01F4      		brne 0b
 2287 00d8 4BE0      		ldi r20,lo8(11)
 2288 00da 50E0      		ldi r21,0
 2289 00dc 60E2      		ldi r22,lo8(32)
 2290 00de 70E0      		ldi r23,0
 2291 00e0 CE01      		movw r24,r28
 2292 00e2 0E94 0000 		call memset
 2293 00e6 8EE2      		ldi r24,lo8(46)
 2294 00e8 8883      		st Y,r24
 2295 00ea C701      		movw r24,r14
 2296 00ec 0E94 0000 		call PhatFilePosRewind
 2297 00f0 40E2      		ldi r20,lo8(32)
 2298 00f2 50E0      		ldi r21,0
 2299 00f4 BE01      		movw r22,r28
 2300 00f6 C801      		movw r24,r16
 2301 00f8 0E94 0000 		call PhatFileWrite
 2302 00fc 8097      		sbiw r24,32
 2303 00fe 01F4      		brne .L238
 2304 0100 F601      		movw r30,r12
 2305 0102 86A5      		ldd r24,Z+46
 2306 0104 97A5      		ldd r25,Z+47
 2307 0106 A0A9      		ldd r26,Z+48
 2308 0108 B1A9      		ldd r27,Z+49
 2309 010a F701      		movw r30,r14
 2310 010c EE5B      		subi r30,-66
 2311 010e FF4F      		sbci r31,-1
 2312 0110 2081      		ld r18,Z
 2313 0112 3181      		ldd r19,Z+1
 2314 0114 3296      		adiw r30,2
 2315 0116 2817      		cp r18,r24
 2316 0118 3907      		cpc r19,r25
 2317 011a 01F4      		brne .L233
 2318 011c CD01      		movw r24,r26
 2319 011e AA27      		clr r26
 2320 0120 BB27      		clr r27
 2321 0122 4081      		ld r20,Z
 2322 0124 5181      		ldd r21,Z+1
 2323 0126 60E0      		ldi r22,0
 2324 0128 70E0      		ldi r23,0
 2325 012a 8417      		cp r24,r20
 2326 012c 9507      		cpc r25,r21
 2327 012e A607      		cpc r26,r22
 2328 0130 B707      		cpc r27,r23
 2329 0132 01F4      		brne .L233
 2330 0134 1B8E      		std Y+27,__zero_reg__
 2331 0136 1A8E      		std Y+26,__zero_reg__
 2332 0138 1D8A      		std Y+21,__zero_reg__
 2333 013a 1C8A      		std Y+20,__zero_reg__
 2334 013c 00C0      		rjmp .L234
 2335               	.L233:
 2336 013e 3B8F      		std Y+27,r19
GAS LISTING /tmp/ccQJ5axY.s 			page 42


 2337 0140 2A8F      		std Y+26,r18
 2338 0142 8081      		ld r24,Z
 2339 0144 9181      		ldd r25,Z+1
 2340 0146 9D8B      		std Y+21,r25
 2341 0148 8C8B      		std Y+20,r24
 2342               	.L234:
 2343 014a 8EE2      		ldi r24,lo8(46)
 2344 014c 8983      		std Y+1,r24
 2345 014e 40E2      		ldi r20,lo8(32)
 2346 0150 50E0      		ldi r21,0
 2347 0152 BE01      		movw r22,r28
 2348 0154 C801      		movw r24,r16
 2349 0156 0E94 0000 		call PhatFileWrite
 2350 015a 8097      		sbiw r24,32
 2351 015c 01F0      		breq .L235
 2352               	.L238:
 2353 015e C801      		movw r24,r16
 2354 0160 0E94 0000 		call PhatFileClose
 2355 0164 CE01      		movw r24,r28
 2356 0166 0E94 0000 		call free
 2357 016a 00C0      		rjmp .L226
 2358               	.L235:
 2359 016c CE01      		movw r24,r28
 2360 016e 0E94 0000 		call free
 2361 0172 C801      		movw r24,r16
 2362               	/* epilogue start */
 2363 0174 DF91      		pop r29
 2364 0176 CF91      		pop r28
 2365 0178 1F91      		pop r17
 2366 017a 0F91      		pop r16
 2367 017c FF90      		pop r15
 2368 017e EF90      		pop r14
 2369 0180 DF90      		pop r13
 2370 0182 CF90      		pop r12
 2371 0184 BF90      		pop r11
 2372 0186 AF90      		pop r10
 2373 0188 9F90      		pop r9
 2374 018a 8F90      		pop r8
 2375 018c 0C94 0000 		jmp PhatFileClose
 2376               	.L226:
 2377 0190 8FEF      		ldi r24,lo8(-1)
 2378 0192 9FEF      		ldi r25,lo8(-1)
 2379               	/* epilogue start */
 2380 0194 DF91      		pop r29
 2381 0196 CF91      		pop r28
 2382 0198 1F91      		pop r17
 2383 019a 0F91      		pop r16
 2384 019c FF90      		pop r15
 2385 019e EF90      		pop r14
 2386 01a0 DF90      		pop r13
 2387 01a2 CF90      		pop r12
 2388 01a4 BF90      		pop r11
 2389 01a6 AF90      		pop r10
 2390 01a8 9F90      		pop r9
 2391 01aa 8F90      		pop r8
 2392 01ac 0895      		ret
 2393               		.size	PhatDirCreate, .-PhatDirCreate
GAS LISTING /tmp/ccQJ5axY.s 			page 43


 2394               		.section	.rodata.str1.1
 2395               	.LC1:
 2396 0007 2020 2020 		.string	"         "
 2396      2020 2020 
 2396      2000 
 2397               		.section	.text.PhatDirRemove,"ax",@progbits
 2398               	.global	PhatDirRemove
 2399               		.type	PhatDirRemove, @function
 2400               	PhatDirRemove:
 2401 0000 8F92      		push r8
 2402 0002 9F92      		push r9
 2403 0004 AF92      		push r10
 2404 0006 BF92      		push r11
 2405 0008 CF92      		push r12
 2406 000a DF92      		push r13
 2407 000c EF92      		push r14
 2408 000e FF92      		push r15
 2409 0010 0F93      		push r16
 2410 0012 1F93      		push r17
 2411 0014 CF93      		push r28
 2412 0016 DF93      		push r29
 2413               	/* prologue: function */
 2414               	/* frame size = 0 */
 2415               	/* stack size = 12 */
 2416               	.L__stack_usage = 12
 2417 0018 5C01      		movw r10,r24
 2418 001a 7B01      		movw r14,r22
 2419 001c FB01      		movw r30,r22
 2420 001e 8081      		ld r24,Z
 2421 0020 8F32      		cpi r24,lo8(47)
 2422 0022 01F4      		brne .L243
 2423 0024 8181      		ldd r24,Z+1
 2424 0026 8111      		cpse r24,__zero_reg__
 2425 0028 00C0      		rjmp .L243
 2426 002a 80E1      		ldi r24,lo8(16)
 2427 002c 90E0      		ldi r25,0
 2428 002e 9093 0000 		sts errno+1,r25
 2429 0032 8093 0000 		sts errno,r24
 2430 0036 00C0      		rjmp .L250
 2431               	.L243:
 2432 0038 80E2      		ldi r24,lo8(32)
 2433 003a 90E0      		ldi r25,0
 2434 003c 0E94 0000 		call malloc
 2435 0040 8C01      		movw r16,r24
 2436 0042 892B      		or r24,r25
 2437 0044 01F4      		brne .+2
 2438 0046 00C0      		rjmp .L250
 2439 0048 20E0      		ldi r18,0
 2440 004a 30E0      		ldi r19,0
 2441 004c 40E0      		ldi r20,0
 2442 004e 50E0      		ldi r21,0
 2443 0050 B701      		movw r22,r14
 2444 0052 C501      		movw r24,r10
 2445 0054 0E94 0000 		call PhatFileOpen
 2446 0058 6C01      		movw r12,r24
 2447 005a 0196      		adiw r24,1
 2448 005c 01F0      		breq .L251
GAS LISTING /tmp/ccQJ5axY.s 			page 44


 2449 005e 4801      		movw r8,r16
 2450 0060 82E0      		ldi r24,2
 2451 0062 880E      		add r8,r24
 2452 0064 911C      		adc r9,__zero_reg__
 2453               	.L259:
 2454 0066 40E2      		ldi r20,lo8(32)
 2455 0068 50E0      		ldi r21,0
 2456 006a B801      		movw r22,r16
 2457 006c C601      		movw r24,r12
 2458 006e 0E94 0000 		call PhatFileRead
 2459 0072 EC01      		movw r28,r24
 2460 0074 97FD      		sbrc r25,7
 2461 0076 00C0      		rjmp .L246
 2462 0078 8097      		sbiw r24,32
 2463 007a 04F0      		brlt .L253
 2464 007c F801      		movw r30,r16
 2465 007e 8081      		ld r24,Z
 2466 0080 8823      		tst r24
 2467 0082 01F0      		breq .L253
 2468 0084 853E      		cpi r24,lo8(-27)
 2469 0086 01F0      		breq .L259
 2470 0088 9385      		ldd r25,Z+11
 2471 008a 9763      		ori r25,lo8(55)
 2472 008c 9733      		cpi r25,lo8(55)
 2473 008e 01F4      		brne .L259
 2474 0090 8E32      		cpi r24,lo8(46)
 2475 0092 01F4      		brne .L248
 2476 0094 8181      		ldd r24,Z+1
 2477 0096 8E32      		cpi r24,lo8(46)
 2478 0098 01F0      		breq .L249
 2479 009a 8032      		cpi r24,lo8(32)
 2480 009c 01F4      		brne .L248
 2481               	.L249:
 2482 009e 49E0      		ldi r20,lo8(9)
 2483 00a0 50E0      		ldi r21,0
 2484 00a2 B401      		movw r22,r8
 2485 00a4 80E0      		ldi r24,lo8(.LC1)
 2486 00a6 90E0      		ldi r25,hi8(.LC1)
 2487 00a8 0E94 0000 		call memcmp
 2488 00ac 892B      		or r24,r25
 2489 00ae 01F0      		breq .L259
 2490               	.L248:
 2491 00b0 82E4      		ldi r24,lo8(66)
 2492 00b2 90E0      		ldi r25,0
 2493 00b4 9093 0000 		sts errno+1,r25
 2494 00b8 8093 0000 		sts errno,r24
 2495 00bc CFEF      		ldi r28,lo8(-1)
 2496 00be DFEF      		ldi r29,lo8(-1)
 2497 00c0 00C0      		rjmp .L246
 2498               	.L253:
 2499 00c2 C0E0      		ldi r28,0
 2500 00c4 D0E0      		ldi r29,0
 2501               	.L246:
 2502 00c6 C601      		movw r24,r12
 2503 00c8 0E94 0000 		call PhatFileClose
 2504 00cc 00C0      		rjmp .L245
 2505               	.L251:
GAS LISTING /tmp/ccQJ5axY.s 			page 45


 2506 00ce CFEF      		ldi r28,lo8(-1)
 2507 00d0 DFEF      		ldi r29,lo8(-1)
 2508               	.L245:
 2509 00d2 C801      		movw r24,r16
 2510 00d4 0E94 0000 		call free
 2511 00d8 2097      		sbiw r28,0
 2512 00da 01F4      		brne .L254
 2513 00dc 20E1      		ldi r18,lo8(16)
 2514 00de 30E0      		ldi r19,0
 2515 00e0 40E0      		ldi r20,0
 2516 00e2 50E0      		ldi r21,0
 2517 00e4 B701      		movw r22,r14
 2518 00e6 C501      		movw r24,r10
 2519               	/* epilogue start */
 2520 00e8 DF91      		pop r29
 2521 00ea CF91      		pop r28
 2522 00ec 1F91      		pop r17
 2523 00ee 0F91      		pop r16
 2524 00f0 FF90      		pop r15
 2525 00f2 EF90      		pop r14
 2526 00f4 DF90      		pop r13
 2527 00f6 CF90      		pop r12
 2528 00f8 BF90      		pop r11
 2529 00fa AF90      		pop r10
 2530 00fc 9F90      		pop r9
 2531 00fe 8F90      		pop r8
 2532 0100 0C94 0000 		jmp PhatDirDelEntry
 2533               	.L250:
 2534 0104 8FEF      		ldi r24,lo8(-1)
 2535 0106 9FEF      		ldi r25,lo8(-1)
 2536 0108 00C0      		rjmp .L244
 2537               	.L254:
 2538 010a CE01      		movw r24,r28
 2539               	.L244:
 2540               	/* epilogue start */
 2541 010c DF91      		pop r29
 2542 010e CF91      		pop r28
 2543 0110 1F91      		pop r17
 2544 0112 0F91      		pop r16
 2545 0114 FF90      		pop r15
 2546 0116 EF90      		pop r14
 2547 0118 DF90      		pop r13
 2548 011a CF90      		pop r12
 2549 011c BF90      		pop r11
 2550 011e AF90      		pop r10
 2551 0120 9F90      		pop r9
 2552 0122 8F90      		pop r8
 2553 0124 0895      		ret
 2554               		.size	PhatDirRemove, .-PhatDirRemove
 2555               		.section	.text.PhatDirEntryStatus,"ax",@progbits
 2556               	.global	PhatDirEntryStatus
 2557               		.type	PhatDirEntryStatus, @function
 2558               	PhatDirEntryStatus:
 2559 0000 AF92      		push r10
 2560 0002 BF92      		push r11
 2561 0004 CF92      		push r12
 2562 0006 DF92      		push r13
GAS LISTING /tmp/ccQJ5axY.s 			page 46


 2563 0008 EF92      		push r14
 2564 000a FF92      		push r15
 2565 000c 0F93      		push r16
 2566 000e 1F93      		push r17
 2567 0010 CF93      		push r28
 2568 0012 DF93      		push r29
 2569 0014 CDB7      		in r28,__SP_L__
 2570 0016 DEB7      		in r29,__SP_H__
 2571 0018 6497      		sbiw r28,20
 2572 001a 0FB6      		in __tmp_reg__,__SREG__
 2573 001c F894      		cli
 2574 001e DEBF      		out __SP_H__,r29
 2575 0020 0FBE      		out __SREG__,__tmp_reg__
 2576 0022 CDBF      		out __SP_L__,r28
 2577               	/* prologue: function */
 2578               	/* frame size = 20 */
 2579               	/* stack size = 30 */
 2580               	.L__stack_usage = 30
 2581 0024 6A01      		movw r12,r20
 2582 0026 AE01      		movw r20,r28
 2583 0028 4D5E      		subi r20,-19
 2584 002a 5F4F      		sbci r21,-1
 2585 002c 0E94 0000 		call PhatDirOpenParent
 2586 0030 5C01      		movw r10,r24
 2587 0032 8FEF      		ldi r24,-1
 2588 0034 A816      		cp r10,r24
 2589 0036 B806      		cpc r11,r24
 2590 0038 01F4      		brne .+2
 2591 003a 00C0      		rjmp .L269
 2592 003c 85E2      		ldi r24,lo8(37)
 2593 003e 91E0      		ldi r25,lo8(1)
 2594 0040 0E94 0000 		call malloc
 2595 0044 7C01      		movw r14,r24
 2596 0046 0097      		sbiw r24,0
 2597 0048 01F4      		brne .L265
 2598 004a C501      		movw r24,r10
 2599 004c 0E94 0000 		call PhatFileClose
 2600 0050 00C0      		rjmp .L269
 2601               	.L265:
 2602 0052 6B89      		ldd r22,Y+19
 2603 0054 7C89      		ldd r23,Y+20
 2604 0056 8C01      		movw r16,r24
 2605 0058 27E3      		ldi r18,lo8(55)
 2606 005a 30E0      		ldi r19,0
 2607 005c 40E0      		ldi r20,0
 2608 005e 50E0      		ldi r21,0
 2609 0060 C501      		movw r24,r10
 2610 0062 0E94 0000 		call PhatDirEntryFind
 2611 0066 8C01      		movw r16,r24
 2612 0068 892B      		or r24,r25
 2613 006a 01F0      		breq .+2
 2614 006c 00C0      		rjmp .L266
 2615 006e CE01      		movw r24,r28
 2616 0070 0196      		adiw r24,1
 2617 0072 22E1      		ldi r18,lo8(18)
 2618 0074 FC01      		movw r30,r24
 2619               		0:
GAS LISTING /tmp/ccQJ5axY.s 			page 47


 2620 0076 1192      		st Z+,__zero_reg__
 2621 0078 2A95      		dec r18
 2622 007a 01F4      		brne 0b
 2623 007c F701      		movw r30,r14
 2624 007e 2689      		ldd r18,Z+22
 2625 0080 3789      		ldd r19,Z+23
 2626 0082 A901      		movw r20,r18
 2627 0084 4F71      		andi r20,31
 2628 0086 5527      		clr r21
 2629 0088 440F      		lsl r20
 2630 008a 551F      		rol r21
 2631 008c 5A83      		std Y+2,r21
 2632 008e 4983      		std Y+1,r20
 2633 0090 A901      		movw r20,r18
 2634 0092 75E0      		ldi r23,5
 2635               		1:
 2636 0094 5695      		lsr r21
 2637 0096 4795      		ror r20
 2638 0098 7A95      		dec r23
 2639 009a 01F4      		brne 1b
 2640 009c 4F73      		andi r20,63
 2641 009e 5527      		clr r21
 2642 00a0 5C83      		std Y+4,r21
 2643 00a2 4B83      		std Y+3,r20
 2644 00a4 232F      		mov r18,r19
 2645 00a6 2695      		lsr r18
 2646 00a8 2695      		lsr r18
 2647 00aa 2695      		lsr r18
 2648 00ac 2D83      		std Y+5,r18
 2649 00ae 1E82      		std Y+6,__zero_reg__
 2650 00b0 208D      		ldd r18,Z+24
 2651 00b2 318D      		ldd r19,Z+25
 2652 00b4 A901      		movw r20,r18
 2653 00b6 4F71      		andi r20,31
 2654 00b8 5527      		clr r21
 2655 00ba 5887      		std Y+8,r21
 2656 00bc 4F83      		std Y+7,r20
 2657 00be A901      		movw r20,r18
 2658 00c0 E5E0      		ldi r30,5
 2659               		1:
 2660 00c2 5695      		lsr r21
 2661 00c4 4795      		ror r20
 2662 00c6 EA95      		dec r30
 2663 00c8 01F4      		brne 1b
 2664 00ca 4F70      		andi r20,15
 2665 00cc 5527      		clr r21
 2666 00ce 4115      		cp r20,__zero_reg__
 2667 00d0 5105      		cpc r21,__zero_reg__
 2668 00d2 01F4      		brne .L267
 2669 00d4 1A86      		std Y+10,__zero_reg__
 2670 00d6 1986      		std Y+9,__zero_reg__
 2671 00d8 00C0      		rjmp .L268
 2672               	.L267:
 2673 00da 4150      		subi r20,1
 2674 00dc 5109      		sbc r21,__zero_reg__
 2675 00de 5A87      		std Y+10,r21
 2676 00e0 4987      		std Y+9,r20
GAS LISTING /tmp/ccQJ5axY.s 			page 48


 2677               	.L268:
 2678 00e2 232F      		mov r18,r19
 2679 00e4 3327      		clr r19
 2680 00e6 2695      		lsr r18
 2681 00e8 205B      		subi r18,-80
 2682 00ea 3F4F      		sbci r19,-1
 2683 00ec 3C87      		std Y+12,r19
 2684 00ee 2B87      		std Y+11,r18
 2685 00f0 2091 0000 		lds r18,_daylight
 2686 00f4 3091 0000 		lds r19,_daylight+1
 2687 00f8 3A8B      		std Y+18,r19
 2688 00fa 298B      		std Y+17,r18
 2689 00fc 0E94 0000 		call mktime
 2690 0100 F601      		movw r30,r12
 2691 0102 6187      		std Z+9,r22
 2692 0104 7287      		std Z+10,r23
 2693 0106 8387      		std Z+11,r24
 2694 0108 9487      		std Z+12,r25
 2695 010a 1182      		std Z+1,__zero_reg__
 2696 010c 1082      		st Z,__zero_reg__
 2697 010e F701      		movw r30,r14
 2698 0110 8385      		ldd r24,Z+11
 2699 0112 8295      		swap r24
 2700 0114 8170      		andi r24,1
 2701 0116 F601      		movw r30,r12
 2702 0118 8283      		std Z+2,r24
 2703 011a 1482      		std Z+4,__zero_reg__
 2704 011c 1382      		std Z+3,__zero_reg__
 2705 011e F701      		movw r30,r14
 2706 0120 848D      		ldd r24,Z+28
 2707 0122 958D      		ldd r25,Z+29
 2708 0124 A68D      		ldd r26,Z+30
 2709 0126 B78D      		ldd r27,Z+31
 2710 0128 F601      		movw r30,r12
 2711 012a 8583      		std Z+5,r24
 2712 012c 9683      		std Z+6,r25
 2713 012e A783      		std Z+7,r26
 2714 0130 B087      		std Z+8,r27
 2715               	.L266:
 2716 0132 C701      		movw r24,r14
 2717 0134 0E94 0000 		call free
 2718 0138 C501      		movw r24,r10
 2719 013a 0E94 0000 		call PhatFileClose
 2720 013e C801      		movw r24,r16
 2721 0140 00C0      		rjmp .L264
 2722               	.L269:
 2723 0142 8FEF      		ldi r24,lo8(-1)
 2724 0144 9FEF      		ldi r25,lo8(-1)
 2725               	.L264:
 2726               	/* epilogue start */
 2727 0146 6496      		adiw r28,20
 2728 0148 0FB6      		in __tmp_reg__,__SREG__
 2729 014a F894      		cli
 2730 014c DEBF      		out __SP_H__,r29
 2731 014e 0FBE      		out __SREG__,__tmp_reg__
 2732 0150 CDBF      		out __SP_L__,r28
 2733 0152 DF91      		pop r29
GAS LISTING /tmp/ccQJ5axY.s 			page 49


 2734 0154 CF91      		pop r28
 2735 0156 1F91      		pop r17
 2736 0158 0F91      		pop r16
 2737 015a FF90      		pop r15
 2738 015c EF90      		pop r14
 2739 015e DF90      		pop r13
 2740 0160 CF90      		pop r12
 2741 0162 BF90      		pop r11
 2742 0164 AF90      		pop r10
 2743 0166 0895      		ret
 2744               		.size	PhatDirEntryStatus, .-PhatDirEntryStatus
 2745               		.ident	"GCC: (GNU) 5.3.0"
 2746               	.global __do_copy_data
GAS LISTING /tmp/ccQJ5axY.s 			page 50


DEFINED SYMBOLS
                            *ABS*:0000000000000000 phatdir.c
     /tmp/ccQJ5axY.s:2      *ABS*:000000000000003e __SP_H__
     /tmp/ccQJ5axY.s:3      *ABS*:000000000000003d __SP_L__
     /tmp/ccQJ5axY.s:4      *ABS*:000000000000003f __SREG__
     /tmp/ccQJ5axY.s:5      *ABS*:000000000000003b __RAMPZ__
     /tmp/ccQJ5axY.s:6      *ABS*:0000000000000000 __tmp_reg__
     /tmp/ccQJ5axY.s:7      *ABS*:0000000000000001 __zero_reg__
     /tmp/ccQJ5axY.s:10     .text.PhatDirEntryRelease:0000000000000000 PhatDirEntryRelease
     /tmp/ccQJ5axY.s:123    .text.PhatDirEntryAlloc:0000000000000000 PhatDirEntryAlloc
     /tmp/ccQJ5axY.s:829    .text.PhatDirEntryRead:0000000000000000 PhatDirEntryRead
     /tmp/ccQJ5axY.s:1076   .text.PhatDirEntryCreate:0000000000000000 PhatDirEntryCreate
     /tmp/ccQJ5axY.s:1134   .text.PhatDirEntryUpdate:0000000000000000 PhatDirEntryUpdate
     /tmp/ccQJ5axY.s:1243   .text.PhatDirEntryFind:0000000000000000 PhatDirEntryFind
     /tmp/ccQJ5axY.s:1348   .text.PhatDirReleaseChain:0000000000000000 PhatDirReleaseChain
     /tmp/ccQJ5axY.s:1426   .text.PhatDirOpen:0000000000000000 PhatDirOpen
     /tmp/ccQJ5axY.s:1794   .text.PhatDirOpenParent:0000000000000000 PhatDirOpenParent
     /tmp/ccQJ5axY.s:1832   .text.PhatDirRenameEntry:0000000000000000 PhatDirRenameEntry
     /tmp/ccQJ5axY.s:1981   .text.PhatDirDelEntry:0000000000000000 PhatDirDelEntry
     /tmp/ccQJ5axY.s:2093   .text.PhatDirRead:0000000000000000 PhatDirRead
     /tmp/ccQJ5axY.s:2178   .text.PhatDirCreate:0000000000000000 PhatDirCreate
     /tmp/ccQJ5axY.s:2400   .text.PhatDirRemove:0000000000000000 PhatDirRemove
     /tmp/ccQJ5axY.s:2558   .text.PhatDirEntryStatus:0000000000000000 PhatDirEntryStatus

UNDEFINED SYMBOLS
PhatFilePosSet
PhatFileWrite
MakePhatName
errno
memset
strrchr
MakeVisibleName
strcmp
toupper
malloc
__divmodhi4
PhatFilePosRewind
PhatFileRead
memcmp
free
__udivmodhi4
IsFixedRootDir
strcpy
GetDosTimeStamp
PhatSectorLoad
PhatSectorBufferRelease
strcasecmp
Phat32ReleaseChain
Phat16ReleaseChain
Phat12ReleaseChain
PhatClusterSector
GetParentPath
PhatFileClose
PhatFileOpen
AllocFirstCluster
_daylight
mktime
GAS LISTING /tmp/ccQJ5axY.s 			page 51


__do_copy_data
