GAS LISTING /tmp/ccKbLQWs.s 			page 1


   1               		.file	"phatutil.c"
   2               	__SP_H__ = 0x3e
   3               	__SP_L__ = 0x3d
   4               	__SREG__ = 0x3f
   5               	__RAMPZ__ = 0x3b
   6               	__tmp_reg__ = 0
   7               	__zero_reg__ = 1
   8               		.section	.text.GetDosTimeStamp,"ax",@progbits
   9               	.global	GetDosTimeStamp
  10               		.type	GetDosTimeStamp, @function
  11               	GetDosTimeStamp:
  12 0000 EF92      		push r14
  13 0002 FF92      		push r15
  14 0004 0F93      		push r16
  15 0006 1F93      		push r17
  16 0008 CF93      		push r28
  17 000a DF93      		push r29
  18 000c 00D0      		rcall .
  19 000e 1F92      		push __zero_reg__
  20 0010 CDB7      		in r28,__SP_L__
  21 0012 DEB7      		in r29,__SP_H__
  22               	/* prologue: function */
  23               	/* frame size = 4 */
  24               	/* stack size = 10 */
  25               	.L__stack_usage = 10
  26 0014 8C01      		movw r16,r24
  27 0016 7B01      		movw r14,r22
  28 0018 CE01      		movw r24,r28
  29 001a 0196      		adiw r24,1
  30 001c 0E94 0000 		call time
  31 0020 CE01      		movw r24,r28
  32 0022 0196      		adiw r24,1
  33 0024 0E94 0000 		call localtime
  34 0028 FC01      		movw r30,r24
  35 002a E114      		cp r14,__zero_reg__
  36 002c F104      		cpc r15,__zero_reg__
  37 002e 01F0      		breq .L2
  38 0030 2085      		ldd r18,Z+8
  39 0032 3185      		ldd r19,Z+9
  40 0034 2F5F      		subi r18,-1
  41 0036 3F4F      		sbci r19,-1
  42 0038 C901      		movw r24,r18
  43 003a 55E0      		ldi r21,5
  44               		1:
  45 003c 880F      		lsl r24
  46 003e 991F      		rol r25
  47 0040 5A95      		dec r21
  48 0042 01F4      		brne 1b
  49 0044 2285      		ldd r18,Z+10
  50 0046 3385      		ldd r19,Z+11
  51 0048 2055      		subi r18,80
  52 004a 3109      		sbc r19,__zero_reg__
  53 004c 322F      		mov r19,r18
  54 004e 2227      		clr r18
  55 0050 330F      		lsl r19
  56 0052 282B      		or r18,r24
  57 0054 392B      		or r19,r25
GAS LISTING /tmp/ccKbLQWs.s 			page 2


  58 0056 8681      		ldd r24,Z+6
  59 0058 9781      		ldd r25,Z+7
  60 005a 282B      		or r18,r24
  61 005c 392B      		or r19,r25
  62 005e D701      		movw r26,r14
  63 0060 2D93      		st X+,r18
  64 0062 3C93      		st X,r19
  65               	.L2:
  66 0064 0115      		cp r16,__zero_reg__
  67 0066 1105      		cpc r17,__zero_reg__
  68 0068 01F0      		breq .L1
  69 006a 8081      		ld r24,Z
  70 006c 9181      		ldd r25,Z+1
  71 006e 97FD      		sbrc r25,7
  72 0070 0196      		adiw r24,1
  73               	.L4:
  74 0072 9595      		asr r25
  75 0074 8795      		ror r24
  76 0076 2281      		ldd r18,Z+2
  77 0078 3381      		ldd r19,Z+3
  78 007a 45E0      		ldi r20,5
  79               		1:
  80 007c 220F      		lsl r18
  81 007e 331F      		rol r19
  82 0080 4A95      		dec r20
  83 0082 01F4      		brne 1b
  84 0084 822B      		or r24,r18
  85 0086 932B      		or r25,r19
  86 0088 4481      		ldd r20,Z+4
  87 008a 20E0      		ldi r18,0
  88 008c 30E0      		ldi r19,0
  89 008e 342F      		mov r19,r20
  90 0090 330F      		lsl r19
  91 0092 330F      		lsl r19
  92 0094 330F      		lsl r19
  93 0096 282B      		or r18,r24
  94 0098 392B      		or r19,r25
  95 009a F801      		movw r30,r16
  96 009c 3183      		std Z+1,r19
  97 009e 2083      		st Z,r18
  98               	.L1:
  99               	/* epilogue start */
 100 00a0 0F90      		pop __tmp_reg__
 101 00a2 0F90      		pop __tmp_reg__
 102 00a4 0F90      		pop __tmp_reg__
 103 00a6 0F90      		pop __tmp_reg__
 104 00a8 DF91      		pop r29
 105 00aa CF91      		pop r28
 106 00ac 1F91      		pop r17
 107 00ae 0F91      		pop r16
 108 00b0 FF90      		pop r15
 109 00b2 EF90      		pop r14
 110 00b4 0895      		ret
 111               		.size	GetDosTimeStamp, .-GetDosTimeStamp
 112               		.section	.rodata.str1.1,"aMS",@progbits,1
 113               	.LC0:
 114 0000 222B 2C2E 		.string	"\"+,./:;<=>[\\]^"
GAS LISTING /tmp/ccKbLQWs.s 			page 3


 114      2F3A 3B3C 
 114      3D3E 5B5C 
 114      5D5E 00
 115               		.section	.text.MakePhatName,"ax",@progbits
 116               	.global	MakePhatName
 117               		.type	MakePhatName, @function
 118               	MakePhatName:
 119 0000 7F92      		push r7
 120 0002 8F92      		push r8
 121 0004 9F92      		push r9
 122 0006 AF92      		push r10
 123 0008 BF92      		push r11
 124 000a CF92      		push r12
 125 000c DF92      		push r13
 126 000e EF92      		push r14
 127 0010 FF92      		push r15
 128 0012 0F93      		push r16
 129 0014 1F93      		push r17
 130 0016 CF93      		push r28
 131 0018 DF93      		push r29
 132               	/* prologue: function */
 133               	/* frame size = 0 */
 134               	/* stack size = 13 */
 135               	.L__stack_usage = 13
 136 001a 7C01      		movw r14,r24
 137 001c EB01      		movw r28,r22
 138 001e 4BE0      		ldi r20,lo8(11)
 139 0020 50E0      		ldi r21,0
 140 0022 60E2      		ldi r22,lo8(32)
 141 0024 70E0      		ldi r23,0
 142 0026 CE01      		movw r24,r28
 143 0028 0E94 0000 		call memset
 144 002c F701      		movw r30,r14
 145 002e 80E0      		ldi r24,0
 146 0030 90E0      		ldi r25,0
 147               	.L13:
 148 0032 2191      		ld r18,Z+
 149 0034 2E32      		cpi r18,lo8(46)
 150 0036 01F4      		brne .L41
 151 0038 0196      		adiw r24,1
 152 003a 00C0      		rjmp .L13
 153               	.L41:
 154 003c 2111      		cpse r18,__zero_reg__
 155 003e 00C0      		rjmp .L15
 156 0040 9C01      		movw r18,r24
 157 0042 2150      		subi r18,1
 158 0044 3109      		sbc r19,__zero_reg__
 159 0046 2230      		cpi r18,2
 160 0048 3105      		cpc r19,__zero_reg__
 161 004a 00F4      		brsh .L15
 162 004c 8C0F      		add r24,r28
 163 004e 9D1F      		adc r25,r29
 164 0050 2EE2      		ldi r18,lo8(46)
 165               	.L16:
 166 0052 8C17      		cp r24,r28
 167 0054 9D07      		cpc r25,r29
 168 0056 01F0      		breq .L42
GAS LISTING /tmp/ccKbLQWs.s 			page 4


 169 0058 2993      		st Y+,r18
 170 005a 00C0      		rjmp .L16
 171               	.L42:
 172 005c 80E0      		ldi r24,0
 173 005e 90E0      		ldi r25,0
 174 0060 00C0      		rjmp .L18
 175               	.L15:
 176 0062 D701      		movw r26,r14
 177 0064 8D91      		ld r24,X+
 178 0066 8D01      		movw r16,r26
 179 0068 853E      		cpi r24,lo8(-27)
 180 006a 01F4      		brne .L19
 181 006c 85E0      		ldi r24,lo8(5)
 182 006e 00C0      		rjmp .L39
 183               	.L19:
 184 0070 90E0      		ldi r25,0
 185 0072 0E94 0000 		call toupper
 186               	.L39:
 187 0076 8883      		st Y,r24
 188 0078 7E01      		movw r14,r28
 189 007a BFEF      		ldi r27,-1
 190 007c EB1A      		sub r14,r27
 191 007e FB0A      		sbc r15,r27
 192 0080 6801      		movw r12,r16
 193 0082 E7E0      		ldi r30,7
 194 0084 CE0E      		add r12,r30
 195 0086 D11C      		adc r13,__zero_reg__
 196               	.L21:
 197 0088 F801      		movw r30,r16
 198 008a D801      		movw r26,r16
 199 008c 8D91      		ld r24,X+
 200 008e 8D01      		movw r16,r26
 201 0090 8823      		tst r24
 202 0092 01F0      		breq .L22
 203 0094 8E32      		cpi r24,lo8(46)
 204 0096 01F0      		breq .L22
 205 0098 90E0      		ldi r25,0
 206 009a 0E94 0000 		call toupper
 207 009e D701      		movw r26,r14
 208 00a0 8D93      		st X+,r24
 209 00a2 7D01      		movw r14,r26
 210 00a4 F801      		movw r30,r16
 211 00a6 0C15      		cp r16,r12
 212 00a8 1D05      		cpc r17,r13
 213 00aa 01F4      		brne .L21
 214               	.L22:
 215 00ac 8081      		ld r24,Z
 216 00ae 8111      		cpse r24,__zero_reg__
 217 00b0 00C0      		rjmp .L24
 218               	.L31:
 219 00b2 6E01      		movw r12,r28
 220 00b4 E12C      		mov r14,__zero_reg__
 221 00b6 F12C      		mov r15,__zero_reg__
 222 00b8 10E0      		ldi r17,0
 223 00ba D0E0      		ldi r29,0
 224 00bc 8BE0      		ldi r24,lo8(11)
 225 00be A82E      		mov r10,r24
GAS LISTING /tmp/ccKbLQWs.s 			page 5


 226 00c0 B12C      		mov r11,__zero_reg__
 227 00c2 98E0      		ldi r25,lo8(8)
 228 00c4 892E      		mov r8,r25
 229 00c6 912C      		mov r9,__zero_reg__
 230 00c8 00C0      		rjmp .L25
 231               	.L24:
 232 00ca 8E32      		cpi r24,lo8(46)
 233 00cc 01F0      		breq .L26
 234               	.L30:
 235 00ce 8FEF      		ldi r24,lo8(-1)
 236 00d0 9FEF      		ldi r25,lo8(-1)
 237 00d2 00C0      		rjmp .L18
 238               	.L26:
 239 00d4 7F01      		movw r14,r30
 240 00d6 BFEF      		ldi r27,-1
 241 00d8 EB1A      		sub r14,r27
 242 00da FB0A      		sbc r15,r27
 243 00dc 6E01      		movw r12,r28
 244 00de 88E0      		ldi r24,8
 245 00e0 C80E      		add r12,r24
 246 00e2 D11C      		adc r13,__zero_reg__
 247 00e4 8F01      		movw r16,r30
 248 00e6 0C5F      		subi r16,-4
 249 00e8 1F4F      		sbci r17,-1
 250               	.L27:
 251 00ea F701      		movw r30,r14
 252 00ec D701      		movw r26,r14
 253 00ee 8D91      		ld r24,X+
 254 00f0 7D01      		movw r14,r26
 255 00f2 8823      		tst r24
 256 00f4 01F0      		breq .L28
 257 00f6 90E0      		ldi r25,0
 258 00f8 0E94 0000 		call toupper
 259 00fc D601      		movw r26,r12
 260 00fe 8D93      		st X+,r24
 261 0100 6D01      		movw r12,r26
 262 0102 F701      		movw r30,r14
 263 0104 E016      		cp r14,r16
 264 0106 F106      		cpc r15,r17
 265 0108 01F4      		brne .L27
 266               	.L28:
 267 010a 8081      		ld r24,Z
 268 010c 8823      		tst r24
 269 010e 01F0      		breq .L31
 270 0110 00C0      		rjmp .L30
 271               	.L25:
 272 0112 7C2C      		mov r7,r12
 273 0114 0D2D      		mov r16,r13
 274 0116 F601      		movw r30,r12
 275 0118 C191      		ld r28,Z+
 276 011a 6F01      		movw r12,r30
 277 011c C032      		cpi r28,lo8(32)
 278 011e 00F0      		brlo .L30
 279 0120 6C2F      		mov r22,r28
 280 0122 70E0      		ldi r23,0
 281 0124 80E0      		ldi r24,lo8(.LC0)
 282 0126 90E0      		ldi r25,hi8(.LC0)
GAS LISTING /tmp/ccKbLQWs.s 			page 6


 283 0128 0E94 0000 		call strchr
 284 012c 892B      		or r24,r25
 285 012e 01F4      		brne .L30
 286 0130 CF33      		cpi r28,lo8(63)
 287 0132 01F0      		breq .L34
 288 0134 CA32      		cpi r28,lo8(42)
 289 0136 01F4      		brne .L32
 290 0138 F8E0      		ldi r31,8
 291 013a EF16      		cp r14,r31
 292 013c F104      		cpc r15,__zero_reg__
 293 013e 04F4      		brge .L33
 294 0140 A401      		movw r20,r8
 295 0142 00C0      		rjmp .L40
 296               	.L33:
 297 0144 A501      		movw r20,r10
 298               	.L40:
 299 0146 4E19      		sub r20,r14
 300 0148 5F09      		sbc r21,r15
 301 014a 6FE3      		ldi r22,lo8(63)
 302 014c 70E0      		ldi r23,0
 303 014e 872D      		mov r24,r7
 304 0150 902F      		mov r25,r16
 305 0152 0E94 0000 		call memset
 306               	.L34:
 307 0156 11E0      		ldi r17,lo8(1)
 308 0158 D0E0      		ldi r29,0
 309               	.L32:
 310 015a 8FEF      		ldi r24,-1
 311 015c E81A      		sub r14,r24
 312 015e F80A      		sbc r15,r24
 313 0160 ABE0      		ldi r26,11
 314 0162 EA16      		cp r14,r26
 315 0164 F104      		cpc r15,__zero_reg__
 316 0166 01F4      		brne .L25
 317 0168 812F      		mov r24,r17
 318 016a 9D2F      		mov r25,r29
 319               	.L18:
 320               	/* epilogue start */
 321 016c DF91      		pop r29
 322 016e CF91      		pop r28
 323 0170 1F91      		pop r17
 324 0172 0F91      		pop r16
 325 0174 FF90      		pop r15
 326 0176 EF90      		pop r14
 327 0178 DF90      		pop r13
 328 017a CF90      		pop r12
 329 017c BF90      		pop r11
 330 017e AF90      		pop r10
 331 0180 9F90      		pop r9
 332 0182 8F90      		pop r8
 333 0184 7F90      		pop r7
 334 0186 0895      		ret
 335               		.size	MakePhatName, .-MakePhatName
 336               		.section	.text.MakeVisibleName,"ax",@progbits
 337               	.global	MakeVisibleName
 338               		.type	MakeVisibleName, @function
 339               	MakeVisibleName:
GAS LISTING /tmp/ccKbLQWs.s 			page 7


 340 0000 CF93      		push r28
 341 0002 DF93      		push r29
 342               	/* prologue: function */
 343               	/* frame size = 0 */
 344               	/* stack size = 2 */
 345               	.L__stack_usage = 2
 346 0004 DC01      		movw r26,r24
 347 0006 4C91      		ld r20,X
 348 0008 9B01      		movw r18,r22
 349 000a 2F5F      		subi r18,-1
 350 000c 3F4F      		sbci r19,-1
 351 000e F901      		movw r30,r18
 352 0010 4530      		cpi r20,lo8(5)
 353 0012 01F4      		brne .L44
 354 0014 45EE      		ldi r20,lo8(-27)
 355 0016 EB01      		movw r28,r22
 356 0018 4883      		st Y,r20
 357 001a 00C0      		rjmp .L45
 358               	.L44:
 359 001c DB01      		movw r26,r22
 360 001e 4C93      		st X,r20
 361               	.L45:
 362 0020 DC01      		movw r26,r24
 363 0022 1196      		adiw r26,1
 364 0024 295F      		subi r18,-7
 365 0026 3F4F      		sbci r19,-1
 366               	.L46:
 367 0028 4D91      		ld r20,X+
 368 002a 4032      		cpi r20,lo8(32)
 369 002c 01F0      		breq .L47
 370 002e 3196      		adiw r30,1
 371 0030 EF01      		movw r28,r30
 372 0032 2197      		sbiw r28,1
 373 0034 4883      		st Y,r20
 374 0036 E217      		cp r30,r18
 375 0038 F307      		cpc r31,r19
 376 003a 01F4      		brne .L46
 377               	.L47:
 378 003c DC01      		movw r26,r24
 379 003e 1896      		adiw r26,8
 380 0040 88E0      		ldi r24,lo8(8)
 381 0042 90E0      		ldi r25,0
 382 0044 3EE2      		ldi r19,lo8(46)
 383               	.L49:
 384 0046 AD01      		movw r20,r26
 385 0048 2C91      		ld r18,X
 386 004a 2032      		cpi r18,lo8(32)
 387 004c 01F0      		breq .L57
 388 004e 8830      		cpi r24,8
 389 0050 9105      		cpc r25,__zero_reg__
 390 0052 01F4      		brne .L50
 391 0054 3083      		st Z,r19
 392 0056 3196      		adiw r30,1
 393               	.L50:
 394 0058 BF01      		movw r22,r30
 395 005a 6F5F      		subi r22,-1
 396 005c 7F4F      		sbci r23,-1
GAS LISTING /tmp/ccKbLQWs.s 			page 8


 397 005e 1196      		adiw r26,1
 398 0060 EA01      		movw r28,r20
 399 0062 2881      		ld r18,Y
 400 0064 2083      		st Z,r18
 401 0066 0196      		adiw r24,1
 402 0068 8B30      		cpi r24,11
 403 006a 9105      		cpc r25,__zero_reg__
 404 006c 01F0      		breq .L51
 405 006e FB01      		movw r30,r22
 406 0070 00C0      		rjmp .L49
 407               	.L57:
 408 0072 BF01      		movw r22,r30
 409               	.L51:
 410 0074 FB01      		movw r30,r22
 411 0076 1082      		st Z,__zero_reg__
 412               	/* epilogue start */
 413 0078 DF91      		pop r29
 414 007a CF91      		pop r28
 415 007c 0895      		ret
 416               		.size	MakeVisibleName, .-MakeVisibleName
 417               		.section	.text.GetParentPath,"ax",@progbits
 418               	.global	GetParentPath
 419               		.type	GetParentPath, @function
 420               	GetParentPath:
 421 0000 EF92      		push r14
 422 0002 FF92      		push r15
 423 0004 0F93      		push r16
 424 0006 1F93      		push r17
 425 0008 CF93      		push r28
 426 000a DF93      		push r29
 427               	/* prologue: function */
 428               	/* frame size = 0 */
 429               	/* stack size = 6 */
 430               	.L__stack_usage = 6
 431 000c 7C01      		movw r14,r24
 432 000e EB01      		movw r28,r22
 433 0010 6FE2      		ldi r22,lo8(47)
 434 0012 70E0      		ldi r23,0
 435 0014 0E94 0000 		call strrchr
 436 0018 9983      		std Y+1,r25
 437 001a 8883      		st Y,r24
 438 001c 0097      		sbiw r24,0
 439 001e 01F4      		brne .L59
 440 0020 26E1      		ldi r18,lo8(22)
 441 0022 30E0      		ldi r19,0
 442 0024 3093 0000 		sts errno+1,r19
 443 0028 2093 0000 		sts errno,r18
 444 002c 00C0      		rjmp .L60
 445               	.L59:
 446 002e DC01      		movw r26,r24
 447 0030 1196      		adiw r26,1
 448 0032 B983      		std Y+1,r27
 449 0034 A883      		st Y,r26
 450 0036 F701      		movw r30,r14
 451               		0:
 452 0038 0190      		ld __tmp_reg__,Z+
 453 003a 0020      		tst __tmp_reg__
GAS LISTING /tmp/ccKbLQWs.s 			page 9


 454 003c 01F4      		brne 0b
 455 003e 3197      		sbiw r30,1
 456 0040 8F01      		movw r16,r30
 457 0042 0E19      		sub r16,r14
 458 0044 1F09      		sbc r17,r15
 459 0046 FD01      		movw r30,r26
 460               		0:
 461 0048 0190      		ld __tmp_reg__,Z+
 462 004a 0020      		tst __tmp_reg__
 463 004c 01F4      		brne 0b
 464 004e 3197      		sbiw r30,1
 465 0050 EA1B      		sub r30,r26
 466 0052 FB0B      		sbc r31,r27
 467 0054 0E1B      		sub r16,r30
 468 0056 1F0B      		sbc r17,r31
 469 0058 0230      		cpi r16,2
 470 005a 1105      		cpc r17,__zero_reg__
 471 005c 04F4      		brge .L61
 472 005e 02E0      		ldi r16,lo8(2)
 473 0060 10E0      		ldi r17,0
 474               	.L61:
 475 0062 C801      		movw r24,r16
 476 0064 0E94 0000 		call malloc
 477 0068 EC01      		movw r28,r24
 478 006a 0097      		sbiw r24,0
 479 006c 01F0      		breq .L62
 480 006e A801      		movw r20,r16
 481 0070 4150      		subi r20,1
 482 0072 5109      		sbc r21,__zero_reg__
 483 0074 B701      		movw r22,r14
 484 0076 0E94 0000 		call memcpy
 485 007a 0C0F      		add r16,r28
 486 007c 1D1F      		adc r17,r29
 487 007e F801      		movw r30,r16
 488 0080 3197      		sbiw r30,1
 489 0082 1082      		st Z,__zero_reg__
 490 0084 CE01      		movw r24,r28
 491 0086 00C0      		rjmp .L60
 492               	.L62:
 493 0088 80E0      		ldi r24,0
 494 008a 90E0      		ldi r25,0
 495               	.L60:
 496               	/* epilogue start */
 497 008c DF91      		pop r29
 498 008e CF91      		pop r28
 499 0090 1F91      		pop r17
 500 0092 0F91      		pop r16
 501 0094 FF90      		pop r15
 502 0096 EF90      		pop r14
 503 0098 0895      		ret
 504               		.size	GetParentPath, .-GetParentPath
 505               		.section	.text.IsFixedRootDir,"ax",@progbits
 506               	.global	IsFixedRootDir
 507               		.type	IsFixedRootDir, @function
 508               	IsFixedRootDir:
 509               	/* prologue: function */
 510               	/* frame size = 0 */
GAS LISTING /tmp/ccKbLQWs.s 			page 10


 511               	/* stack size = 0 */
 512               	.L__stack_usage = 0
 513 0000 DC01      		movw r26,r24
 514 0002 ED91      		ld r30,X+
 515 0004 FC91      		ld r31,X
 516 0006 1197      		sbiw r26,1
 517 0008 0188      		ldd __tmp_reg__,Z+17
 518 000a F289      		ldd r31,Z+18
 519 000c E02D      		mov r30,__tmp_reg__
 520 000e 2081      		ld r18,Z
 521 0010 3181      		ldd r19,Z+1
 522 0012 2032      		cpi r18,32
 523 0014 3105      		cpc r19,__zero_reg__
 524 0016 01F0      		breq .L68
 525 0018 1296      		adiw r26,2
 526 001a ED91      		ld r30,X+
 527 001c FC91      		ld r31,X
 528 001e 1397      		sbiw r26,2+1
 529 0020 80AD      		ldd r24,Z+56
 530 0022 91AD      		ldd r25,Z+57
 531 0024 A2AD      		ldd r26,Z+58
 532 0026 B3AD      		ldd r27,Z+59
 533 0028 892B      		or r24,r25
 534 002a 8A2B      		or r24,r26
 535 002c 8B2B      		or r24,r27
 536 002e 01F4      		brne .L68
 537 0030 84A5      		ldd r24,Z+44
 538 0032 95A5      		ldd r25,Z+45
 539 0034 892B      		or r24,r25
 540 0036 01F4      		brne .L68
 541 0038 81E0      		ldi r24,lo8(1)
 542 003a 90E0      		ldi r25,0
 543 003c 22A9      		ldd r18,Z+50
 544 003e 33A9      		ldd r19,Z+51
 545 0040 232B      		or r18,r19
 546 0042 01F0      		breq .L64
 547 0044 80E0      		ldi r24,0
 548 0046 0895      		ret
 549               	.L68:
 550 0048 80E0      		ldi r24,0
 551 004a 90E0      		ldi r25,0
 552               	.L64:
 553 004c 0895      		ret
 554               		.size	IsFixedRootDir, .-IsFixedRootDir
 555               		.section	.text.PhatFilePosRewind,"ax",@progbits
 556               	.global	PhatFilePosRewind
 557               		.type	PhatFilePosRewind, @function
 558               	PhatFilePosRewind:
 559               	/* prologue: function */
 560               	/* frame size = 0 */
 561               	/* stack size = 0 */
 562               	.L__stack_usage = 0
 563 0000 FC01      		movw r30,r24
 564 0002 1082      		st Z,__zero_reg__
 565 0004 1182      		std Z+1,__zero_reg__
 566 0006 1282      		std Z+2,__zero_reg__
 567 0008 1382      		std Z+3,__zero_reg__
GAS LISTING /tmp/ccKbLQWs.s 			page 11


 568 000a 44A5      		ldd r20,Z+44
 569 000c 55A5      		ldd r21,Z+45
 570 000e 60E0      		ldi r22,0
 571 0010 70E0      		ldi r23,0
 572 0012 BA01      		movw r22,r20
 573 0014 5527      		clr r21
 574 0016 4427      		clr r20
 575 0018 82A9      		ldd r24,Z+50
 576 001a 93A9      		ldd r25,Z+51
 577 001c 480F      		add r20,r24
 578 001e 591F      		adc r21,r25
 579 0020 611D      		adc r22,__zero_reg__
 580 0022 711D      		adc r23,__zero_reg__
 581 0024 4483      		std Z+4,r20
 582 0026 5583      		std Z+5,r21
 583 0028 6683      		std Z+6,r22
 584 002a 7783      		std Z+7,r23
 585 002c 1086      		std Z+8,__zero_reg__
 586 002e 1186      		std Z+9,__zero_reg__
 587 0030 1286      		std Z+10,__zero_reg__
 588 0032 1386      		std Z+11,__zero_reg__
 589 0034 1486      		std Z+12,__zero_reg__
 590 0036 1586      		std Z+13,__zero_reg__
 591 0038 1686      		std Z+14,__zero_reg__
 592 003a 1786      		std Z+15,__zero_reg__
 593 003c 0895      		ret
 594               		.size	PhatFilePosRewind, .-PhatFilePosRewind
 595               		.section	.text.PhatFilePosSet,"ax",@progbits
 596               	.global	PhatFilePosSet
 597               		.type	PhatFilePosSet, @function
 598               	PhatFilePosSet:
 599 0000 2F92      		push r2
 600 0002 3F92      		push r3
 601 0004 4F92      		push r4
 602 0006 5F92      		push r5
 603 0008 6F92      		push r6
 604 000a 7F92      		push r7
 605 000c 8F92      		push r8
 606 000e 9F92      		push r9
 607 0010 AF92      		push r10
 608 0012 BF92      		push r11
 609 0014 CF92      		push r12
 610 0016 DF92      		push r13
 611 0018 EF92      		push r14
 612 001a FF92      		push r15
 613 001c 0F93      		push r16
 614 001e 1F93      		push r17
 615 0020 CF93      		push r28
 616 0022 DF93      		push r29
 617 0024 CDB7      		in r28,__SP_L__
 618 0026 DEB7      		in r29,__SP_H__
 619 0028 2897      		sbiw r28,8
 620 002a 0FB6      		in __tmp_reg__,__SREG__
 621 002c F894      		cli
 622 002e DEBF      		out __SP_H__,r29
 623 0030 0FBE      		out __SREG__,__tmp_reg__
 624 0032 CDBF      		out __SP_L__,r28
GAS LISTING /tmp/ccKbLQWs.s 			page 12


 625               	/* prologue: function */
 626               	/* frame size = 8 */
 627               	/* stack size = 26 */
 628               	.L__stack_usage = 26
 629 0034 4C01      		movw r8,r24
 630 0036 6A01      		movw r12,r20
 631 0038 7B01      		movw r14,r22
 632 003a DC01      		movw r26,r24
 633 003c 1296      		adiw r26,2
 634 003e 0D91      		ld r16,X+
 635 0040 1C91      		ld r17,X
 636 0042 1397      		sbiw r26,2+1
 637 0044 4115      		cp r20,__zero_reg__
 638 0046 5105      		cpc r21,__zero_reg__
 639 0048 6105      		cpc r22,__zero_reg__
 640 004a 7105      		cpc r23,__zero_reg__
 641 004c 01F4      		brne .L74
 642 004e C801      		movw r24,r16
 643 0050 0E94 0000 		call PhatFilePosRewind
 644 0054 80E0      		ldi r24,0
 645 0056 90E0      		ldi r25,0
 646 0058 00C0      		rjmp .L75
 647               	.L74:
 648 005a F801      		movw r30,r16
 649 005c 83A1      		ldd r24,Z+35
 650 005e 84FD      		sbrc r24,4
 651 0060 00C0      		rjmp .L76
 652 0062 84A9      		ldd r24,Z+52
 653 0064 95A9      		ldd r25,Z+53
 654 0066 A6A9      		ldd r26,Z+54
 655 0068 B7A9      		ldd r27,Z+55
 656 006a 8417      		cp r24,r20
 657 006c 9507      		cpc r25,r21
 658 006e A607      		cpc r26,r22
 659 0070 B707      		cpc r27,r23
 660 0072 00F4      		brsh .+2
 661 0074 00C0      		rjmp .L90
 662               	.L76:
 663 0076 D401      		movw r26,r8
 664 0078 AD90      		ld r10,X+
 665 007a BC90      		ld r11,X
 666 007c F501      		movw r30,r10
 667 007e 2188      		ldd r2,Z+17
 668 0080 3288      		ldd r3,Z+18
 669 0082 F801      		movw r30,r16
 670 0084 8081      		ld r24,Z
 671 0086 9181      		ldd r25,Z+1
 672 0088 A281      		ldd r26,Z+2
 673 008a B381      		ldd r27,Z+3
 674 008c C816      		cp r12,r24
 675 008e D906      		cpc r13,r25
 676 0090 EA06      		cpc r14,r26
 677 0092 FB06      		cpc r15,r27
 678 0094 00F4      		brsh .L77
 679 0096 C801      		movw r24,r16
 680 0098 0E94 0000 		call PhatFilePosRewind
 681 009c 2601      		movw r4,r12
GAS LISTING /tmp/ccKbLQWs.s 			page 13


 682 009e 3701      		movw r6,r14
 683 00a0 00C0      		rjmp .L78
 684               	.L77:
 685 00a2 2601      		movw r4,r12
 686 00a4 3701      		movw r6,r14
 687 00a6 481A      		sub r4,r24
 688 00a8 590A      		sbc r5,r25
 689 00aa 6A0A      		sbc r6,r26
 690 00ac 7B0A      		sbc r7,r27
 691               	.L78:
 692 00ae D101      		movw r26,r2
 693 00b0 5896      		adiw r26,24
 694 00b2 8D91      		ld r24,X+
 695 00b4 9C91      		ld r25,X
 696 00b6 5997      		sbiw r26,24+1
 697 00b8 A0E0      		ldi r26,0
 698 00ba B0E0      		ldi r27,0
 699 00bc F801      		movw r30,r16
 700 00be 4485      		ldd r20,Z+12
 701 00c0 5585      		ldd r21,Z+13
 702 00c2 6685      		ldd r22,Z+14
 703 00c4 7785      		ldd r23,Z+15
 704 00c6 4817      		cp r20,r24
 705 00c8 5907      		cpc r21,r25
 706 00ca 6A07      		cpc r22,r26
 707 00cc 7B07      		cpc r23,r27
 708 00ce 00F4      		brsh .+2
 709 00d0 00C0      		rjmp .L80
 710 00d2 C401      		movw r24,r8
 711 00d4 0E94 0000 		call IsFixedRootDir
 712 00d8 D801      		movw r26,r16
 713 00da 1896      		adiw r26,8
 714 00dc 4D91      		ld r20,X+
 715 00de 5D91      		ld r21,X+
 716 00e0 6D91      		ld r22,X+
 717 00e2 7C91      		ld r23,X
 718 00e4 1B97      		sbiw r26,8+3
 719 00e6 4F5F      		subi r20,-1
 720 00e8 5F4F      		sbci r21,-1
 721 00ea 6F4F      		sbci r22,-1
 722 00ec 7F4F      		sbci r23,-1
 723 00ee F101      		movw r30,r2
 724 00f0 892B      		or r24,r25
 725 00f2 01F0      		breq .L81
 726 00f4 80A5      		ldd r24,Z+40
 727 00f6 91A5      		ldd r25,Z+41
 728 00f8 A0E0      		ldi r26,0
 729 00fa B0E0      		ldi r27,0
 730 00fc 4817      		cp r20,r24
 731 00fe 5907      		cpc r21,r25
 732 0100 6A07      		cpc r22,r26
 733 0102 7B07      		cpc r23,r27
 734 0104 00F4      		brsh .+2
 735 0106 00C0      		rjmp .L84
 736 0108 00C0      		rjmp .L82
 737               	.L81:
 738 010a 828D      		ldd r24,Z+26
GAS LISTING /tmp/ccKbLQWs.s 			page 14


 739 010c 938D      		ldd r25,Z+27
 740 010e A0E0      		ldi r26,0
 741 0110 B0E0      		ldi r27,0
 742 0112 4817      		cp r20,r24
 743 0114 5907      		cpc r21,r25
 744 0116 6A07      		cpc r22,r26
 745 0118 7B07      		cpc r23,r27
 746 011a 00F4      		brsh .+2
 747 011c 00C0      		rjmp .L84
 748 011e 8081      		ld r24,Z
 749 0120 9181      		ldd r25,Z+1
 750 0122 D801      		movw r26,r16
 751 0124 1496      		adiw r26,4
 752 0126 4D91      		ld r20,X+
 753 0128 5D91      		ld r21,X+
 754 012a 6D91      		ld r22,X+
 755 012c 7C91      		ld r23,X
 756 012e 1797      		sbiw r26,4+3
 757 0130 9E01      		movw r18,r28
 758 0132 2F5F      		subi r18,-1
 759 0134 3F4F      		sbci r19,-1
 760 0136 8032      		cpi r24,32
 761 0138 9105      		cpc r25,__zero_reg__
 762 013a 01F4      		brne .L85
 763 013c C501      		movw r24,r10
 764 013e 0E94 0000 		call Phat32GetClusterLink
 765 0142 892B      		or r24,r25
 766 0144 01F0      		breq .+2
 767 0146 00C0      		rjmp .L82
 768 0148 8981      		ldd r24,Y+1
 769 014a 9A81      		ldd r25,Y+2
 770 014c AB81      		ldd r26,Y+3
 771 014e BC81      		ldd r27,Y+4
 772 0150 883F      		cpi r24,-8
 773 0152 9F4F      		sbci r25,-1
 774 0154 AF4F      		sbci r26,-1
 775 0156 BF40      		sbci r27,15
 776 0158 00F0      		brlo .+2
 777 015a 00C0      		rjmp .L82
 778               	.L87:
 779 015c D801      		movw r26,r16
 780 015e 1896      		adiw r26,8
 781 0160 1D92      		st X+,__zero_reg__
 782 0162 1D92      		st X+,__zero_reg__
 783 0164 1D92      		st X+,__zero_reg__
 784 0166 1C92      		st X,__zero_reg__
 785 0168 1B97      		sbiw r26,8+3
 786 016a 1496      		adiw r26,4
 787 016c 8D91      		ld r24,X+
 788 016e 9D91      		ld r25,X+
 789 0170 0D90      		ld __tmp_reg__,X+
 790 0172 BC91      		ld r27,X
 791 0174 A02D      		mov r26,__tmp_reg__
 792 0176 F801      		movw r30,r16
 793 0178 808B      		std Z+16,r24
 794 017a 918B      		std Z+17,r25
 795 017c A28B      		std Z+18,r26
GAS LISTING /tmp/ccKbLQWs.s 			page 15


 796 017e B38B      		std Z+19,r27
 797 0180 8981      		ldd r24,Y+1
 798 0182 9A81      		ldd r25,Y+2
 799 0184 AB81      		ldd r26,Y+3
 800 0186 BC81      		ldd r27,Y+4
 801 0188 8483      		std Z+4,r24
 802 018a 9583      		std Z+5,r25
 803 018c A683      		std Z+6,r26
 804 018e B783      		std Z+7,r27
 805 0190 00C0      		rjmp .L83
 806               	.L85:
 807 0192 4097      		sbiw r24,16
 808 0194 01F4      		brne .L86
 809 0196 C501      		movw r24,r10
 810 0198 0E94 0000 		call Phat16GetClusterLink
 811 019c 892B      		or r24,r25
 812 019e 01F0      		breq .+2
 813 01a0 00C0      		rjmp .L82
 814 01a2 8981      		ldd r24,Y+1
 815 01a4 9A81      		ldd r25,Y+2
 816 01a6 AB81      		ldd r26,Y+3
 817 01a8 BC81      		ldd r27,Y+4
 818 01aa 883F      		cpi r24,-8
 819 01ac 9F4F      		sbci r25,-1
 820 01ae A105      		cpc r26,__zero_reg__
 821 01b0 B105      		cpc r27,__zero_reg__
 822 01b2 00F0      		brlo .L87
 823 01b4 00C0      		rjmp .L82
 824               	.L86:
 825 01b6 C501      		movw r24,r10
 826 01b8 0E94 0000 		call Phat12GetClusterLink
 827 01bc 892B      		or r24,r25
 828 01be 01F0      		breq .+2
 829 01c0 00C0      		rjmp .L82
 830 01c2 8981      		ldd r24,Y+1
 831 01c4 9A81      		ldd r25,Y+2
 832 01c6 AB81      		ldd r26,Y+3
 833 01c8 BC81      		ldd r27,Y+4
 834 01ca 883F      		cpi r24,-8
 835 01cc 9F40      		sbci r25,15
 836 01ce A105      		cpc r26,__zero_reg__
 837 01d0 B105      		cpc r27,__zero_reg__
 838 01d2 00F0      		brlo .L87
 839 01d4 00C0      		rjmp .L82
 840               	.L84:
 841 01d6 D801      		movw r26,r16
 842 01d8 1896      		adiw r26,8
 843 01da 4D93      		st X+,r20
 844 01dc 5D93      		st X+,r21
 845 01de 6D93      		st X+,r22
 846 01e0 7C93      		st X,r23
 847 01e2 1B97      		sbiw r26,8+3
 848               	.L83:
 849 01e4 F801      		movw r30,r16
 850 01e6 1486      		std Z+12,__zero_reg__
 851 01e8 1586      		std Z+13,__zero_reg__
 852 01ea 1686      		std Z+14,__zero_reg__
GAS LISTING /tmp/ccKbLQWs.s 			page 16


 853 01ec 1786      		std Z+15,__zero_reg__
 854               	.L80:
 855 01ee 4114      		cp r4,__zero_reg__
 856 01f0 5104      		cpc r5,__zero_reg__
 857 01f2 6104      		cpc r6,__zero_reg__
 858 01f4 7104      		cpc r7,__zero_reg__
 859 01f6 01F0      		breq .L82
 860 01f8 D801      		movw r26,r16
 861 01fa 1C96      		adiw r26,12
 862 01fc 2D91      		ld r18,X+
 863 01fe 3D91      		ld r19,X+
 864 0200 4D91      		ld r20,X+
 865 0202 5C91      		ld r21,X
 866 0204 1F97      		sbiw r26,12+3
 867 0206 2D83      		std Y+5,r18
 868 0208 3E83      		std Y+6,r19
 869 020a 4F83      		std Y+7,r20
 870 020c 5887      		std Y+8,r21
 871 020e F101      		movw r30,r2
 872 0210 808D      		ldd r24,Z+24
 873 0212 918D      		ldd r25,Z+25
 874 0214 A0E0      		ldi r26,0
 875 0216 B0E0      		ldi r27,0
 876 0218 821B      		sub r24,r18
 877 021a 930B      		sbc r25,r19
 878 021c A40B      		sbc r26,r20
 879 021e B50B      		sbc r27,r21
 880 0220 B301      		movw r22,r6
 881 0222 A201      		movw r20,r4
 882 0224 8415      		cp r24,r4
 883 0226 9505      		cpc r25,r5
 884 0228 A605      		cpc r26,r6
 885 022a B705      		cpc r27,r7
 886 022c 00F4      		brsh .L88
 887 022e AC01      		movw r20,r24
 888 0230 BD01      		movw r22,r26
 889               	.L88:
 890 0232 8D81      		ldd r24,Y+5
 891 0234 9E81      		ldd r25,Y+6
 892 0236 AF81      		ldd r26,Y+7
 893 0238 B885      		ldd r27,Y+8
 894 023a 840F      		add r24,r20
 895 023c 951F      		adc r25,r21
 896 023e A61F      		adc r26,r22
 897 0240 B71F      		adc r27,r23
 898 0242 F801      		movw r30,r16
 899 0244 8487      		std Z+12,r24
 900 0246 9587      		std Z+13,r25
 901 0248 A687      		std Z+14,r26
 902 024a B787      		std Z+15,r27
 903 024c 8081      		ld r24,Z
 904 024e 9181      		ldd r25,Z+1
 905 0250 A281      		ldd r26,Z+2
 906 0252 B381      		ldd r27,Z+3
 907 0254 840F      		add r24,r20
 908 0256 951F      		adc r25,r21
 909 0258 A61F      		adc r26,r22
GAS LISTING /tmp/ccKbLQWs.s 			page 17


 910 025a B71F      		adc r27,r23
 911 025c 8083      		st Z,r24
 912 025e 9183      		std Z+1,r25
 913 0260 A283      		std Z+2,r26
 914 0262 B383      		std Z+3,r27
 915 0264 441A      		sub r4,r20
 916 0266 550A      		sbc r5,r21
 917 0268 660A      		sbc r6,r22
 918 026a 770A      		sbc r7,r23
 919 026c 00C0      		rjmp .L78
 920               	.L82:
 921 026e 81E0      		ldi r24,lo8(1)
 922 0270 90E0      		ldi r25,0
 923 0272 D801      		movw r26,r16
 924 0274 4D91      		ld r20,X+
 925 0276 5D91      		ld r21,X+
 926 0278 6D91      		ld r22,X+
 927 027a 7C91      		ld r23,X
 928 027c 4C15      		cp r20,r12
 929 027e 5D05      		cpc r21,r13
 930 0280 6E05      		cpc r22,r14
 931 0282 7F05      		cpc r23,r15
 932 0284 01F4      		brne .L89
 933 0286 80E0      		ldi r24,0
 934 0288 90E0      		ldi r25,0
 935               	.L89:
 936 028a 9195      		neg r25
 937 028c 8195      		neg r24
 938 028e 9109      		sbc r25,__zero_reg__
 939 0290 00C0      		rjmp .L75
 940               	.L90:
 941 0292 8FEF      		ldi r24,lo8(-1)
 942 0294 9FEF      		ldi r25,lo8(-1)
 943               	.L75:
 944               	/* epilogue start */
 945 0296 2896      		adiw r28,8
 946 0298 0FB6      		in __tmp_reg__,__SREG__
 947 029a F894      		cli
 948 029c DEBF      		out __SP_H__,r29
 949 029e 0FBE      		out __SREG__,__tmp_reg__
 950 02a0 CDBF      		out __SP_L__,r28
 951 02a2 DF91      		pop r29
 952 02a4 CF91      		pop r28
 953 02a6 1F91      		pop r17
 954 02a8 0F91      		pop r16
 955 02aa FF90      		pop r15
 956 02ac EF90      		pop r14
 957 02ae DF90      		pop r13
 958 02b0 CF90      		pop r12
 959 02b2 BF90      		pop r11
 960 02b4 AF90      		pop r10
 961 02b6 9F90      		pop r9
 962 02b8 8F90      		pop r8
 963 02ba 7F90      		pop r7
 964 02bc 6F90      		pop r6
 965 02be 5F90      		pop r5
 966 02c0 4F90      		pop r4
GAS LISTING /tmp/ccKbLQWs.s 			page 18


 967 02c2 3F90      		pop r3
 968 02c4 2F90      		pop r2
 969 02c6 0895      		ret
 970               		.size	PhatFilePosSet, .-PhatFilePosSet
 971               		.ident	"GCC: (GNU) 5.3.0"
 972               	.global __do_copy_data
GAS LISTING /tmp/ccKbLQWs.s 			page 19


DEFINED SYMBOLS
                            *ABS*:0000000000000000 phatutil.c
     /tmp/ccKbLQWs.s:2      *ABS*:000000000000003e __SP_H__
     /tmp/ccKbLQWs.s:3      *ABS*:000000000000003d __SP_L__
     /tmp/ccKbLQWs.s:4      *ABS*:000000000000003f __SREG__
     /tmp/ccKbLQWs.s:5      *ABS*:000000000000003b __RAMPZ__
     /tmp/ccKbLQWs.s:6      *ABS*:0000000000000000 __tmp_reg__
     /tmp/ccKbLQWs.s:7      *ABS*:0000000000000001 __zero_reg__
     /tmp/ccKbLQWs.s:11     .text.GetDosTimeStamp:0000000000000000 GetDosTimeStamp
     /tmp/ccKbLQWs.s:118    .text.MakePhatName:0000000000000000 MakePhatName
     /tmp/ccKbLQWs.s:339    .text.MakeVisibleName:0000000000000000 MakeVisibleName
     /tmp/ccKbLQWs.s:420    .text.GetParentPath:0000000000000000 GetParentPath
     /tmp/ccKbLQWs.s:508    .text.IsFixedRootDir:0000000000000000 IsFixedRootDir
     /tmp/ccKbLQWs.s:558    .text.PhatFilePosRewind:0000000000000000 PhatFilePosRewind
     /tmp/ccKbLQWs.s:598    .text.PhatFilePosSet:0000000000000000 PhatFilePosSet

UNDEFINED SYMBOLS
time
localtime
memset
toupper
strchr
strrchr
errno
malloc
memcpy
Phat32GetClusterLink
Phat16GetClusterLink
Phat12GetClusterLink
__do_copy_data
