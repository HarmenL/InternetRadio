GAS LISTING /tmp/ccug8R7j.s 			page 1


   1               		.file	"lauxlib.c"
   2               	__SP_H__ = 0x3e
   3               	__SP_L__ = 0x3d
   4               	__SREG__ = 0x3f
   5               	__RAMPZ__ = 0x3b
   6               	__tmp_reg__ = 0
   7               	__zero_reg__ = 1
   8               		.section	.text.getS,"ax",@progbits
   9               		.type	getS, @function
  10               	getS:
  11               	/* prologue: function */
  12               	/* frame size = 0 */
  13               	/* stack size = 0 */
  14               	.L__stack_usage = 0
  15 0000 FB01      		movw r30,r22
  16 0002 8281      		ldd r24,Z+2
  17 0004 9381      		ldd r25,Z+3
  18 0006 0097      		sbiw r24,0
  19 0008 01F0      		breq .L3
  20 000a DA01      		movw r26,r20
  21 000c 8D93      		st X+,r24
  22 000e 9C93      		st X,r25
  23 0010 1382      		std Z+3,__zero_reg__
  24 0012 1282      		std Z+2,__zero_reg__
  25 0014 8081      		ld r24,Z
  26 0016 9181      		ldd r25,Z+1
  27 0018 0895      		ret
  28               	.L3:
  29 001a 80E0      		ldi r24,0
  30 001c 90E0      		ldi r25,0
  31 001e 0895      		ret
  32               		.size	getS, .-getS
  33               		.section	.text.emptybuffer,"ax",@progbits
  34               		.type	emptybuffer, @function
  35               	emptybuffer:
  36 0000 0F93      		push r16
  37 0002 1F93      		push r17
  38 0004 CF93      		push r28
  39 0006 DF93      		push r29
  40               	/* prologue: function */
  41               	/* frame size = 0 */
  42               	/* stack size = 4 */
  43               	.L__stack_usage = 4
  44 0008 EC01      		movw r28,r24
  45 000a 8C01      		movw r16,r24
  46 000c 0A5F      		subi r16,-6
  47 000e 1F4F      		sbci r17,-1
  48 0010 4881      		ld r20,Y
  49 0012 5981      		ldd r21,Y+1
  50 0014 401B      		sub r20,r16
  51 0016 510B      		sbc r21,r17
  52 0018 01F0      		breq .L7
  53 001a B801      		movw r22,r16
  54 001c 8C81      		ldd r24,Y+4
  55 001e 9D81      		ldd r25,Y+5
  56 0020 0E94 0000 		call lua_pushlstring
  57 0024 1983      		std Y+1,r17
GAS LISTING /tmp/ccug8R7j.s 			page 2


  58 0026 0883      		st Y,r16
  59 0028 8A81      		ldd r24,Y+2
  60 002a 9B81      		ldd r25,Y+3
  61 002c 0196      		adiw r24,1
  62 002e 9B83      		std Y+3,r25
  63 0030 8A83      		std Y+2,r24
  64 0032 81E0      		ldi r24,lo8(1)
  65 0034 90E0      		ldi r25,0
  66 0036 00C0      		rjmp .L6
  67               	.L7:
  68 0038 80E0      		ldi r24,0
  69 003a 90E0      		ldi r25,0
  70               	.L6:
  71               	/* epilogue start */
  72 003c DF91      		pop r29
  73 003e CF91      		pop r28
  74 0040 1F91      		pop r17
  75 0042 0F91      		pop r16
  76 0044 0895      		ret
  77               		.size	emptybuffer, .-emptybuffer
  78               		.section	.rodata.str1.1,"aMS",@progbits,1
  79               	.LC0:
  80 0000 4572 726F 		.string	"Error"
  80      7200 
  81               	.LC1:
  82 0006 6361 6E6E 		.string	"cannot %s %s: %s"
  82      6F74 2025 
  82      7320 2573 
  82      3A20 2573 
  82      00
  83               		.section	.text.errfile,"ax",@progbits
  84               		.type	errfile, @function
  85               	errfile:
  86 0000 EF92      		push r14
  87 0002 FF92      		push r15
  88 0004 0F93      		push r16
  89 0006 1F93      		push r17
  90 0008 CF93      		push r28
  91 000a DF93      		push r29
  92               	/* prologue: function */
  93               	/* frame size = 0 */
  94               	/* stack size = 6 */
  95               	.L__stack_usage = 6
  96 000c D82F      		mov r29,r24
  97 000e C92F      		mov r28,r25
  98 0010 F62E      		mov r15,r22
  99 0012 E72E      		mov r14,r23
 100 0014 8A01      		movw r16,r20
 101 0016 40E0      		ldi r20,0
 102 0018 50E0      		ldi r21,0
 103 001a B801      		movw r22,r16
 104 001c 0E94 0000 		call lua_tolstring
 105 0020 20E0      		ldi r18,lo8(.LC0)
 106 0022 30E0      		ldi r19,hi8(.LC0)
 107 0024 3F93      		push r19
 108 0026 2F93      		push r18
 109 0028 0196      		adiw r24,1
GAS LISTING /tmp/ccug8R7j.s 			page 3


 110 002a 9F93      		push r25
 111 002c 8F93      		push r24
 112 002e EF92      		push r14
 113 0030 FF92      		push r15
 114 0032 80E0      		ldi r24,lo8(.LC1)
 115 0034 90E0      		ldi r25,hi8(.LC1)
 116 0036 9F93      		push r25
 117 0038 8F93      		push r24
 118 003a CF93      		push r28
 119 003c DF93      		push r29
 120 003e 0E94 0000 		call lua_pushfstring
 121 0042 B801      		movw r22,r16
 122 0044 8D2F      		mov r24,r29
 123 0046 9C2F      		mov r25,r28
 124 0048 0E94 0000 		call lua_remove
 125 004c 8DB7      		in r24,__SP_L__
 126 004e 9EB7      		in r25,__SP_H__
 127 0050 0A96      		adiw r24,10
 128 0052 0FB6      		in __tmp_reg__,__SREG__
 129 0054 F894      		cli
 130 0056 9EBF      		out __SP_H__,r25
 131 0058 0FBE      		out __SREG__,__tmp_reg__
 132 005a 8DBF      		out __SP_L__,r24
 133 005c 86E0      		ldi r24,lo8(6)
 134 005e 90E0      		ldi r25,0
 135               	/* epilogue start */
 136 0060 DF91      		pop r29
 137 0062 CF91      		pop r28
 138 0064 1F91      		pop r17
 139 0066 0F91      		pop r16
 140 0068 FF90      		pop r15
 141 006a EF90      		pop r14
 142 006c 0895      		ret
 143               		.size	errfile, .-errfile
 144               		.section	.rodata.str1.1
 145               	.LC2:
 146 0017 5041 4E49 		.string	"PANIC: unprotected error in call to Lua API (%s)\n"
 146      433A 2075 
 146      6E70 726F 
 146      7465 6374 
 146      6564 2065 
 147               		.section	.text.panic,"ax",@progbits
 148               		.type	panic, @function
 149               	panic:
 150               	/* prologue: function */
 151               	/* frame size = 0 */
 152               	/* stack size = 0 */
 153               	.L__stack_usage = 0
 154 0000 40E0      		ldi r20,0
 155 0002 50E0      		ldi r21,0
 156 0004 6FEF      		ldi r22,lo8(-1)
 157 0006 7FEF      		ldi r23,lo8(-1)
 158 0008 0E94 0000 		call lua_tolstring
 159 000c 9F93      		push r25
 160 000e 8F93      		push r24
 161 0010 80E0      		ldi r24,lo8(.LC2)
 162 0012 90E0      		ldi r25,hi8(.LC2)
GAS LISTING /tmp/ccug8R7j.s 			page 4


 163 0014 9F93      		push r25
 164 0016 8F93      		push r24
 165 0018 E0E0      		ldi r30,lo8(__iob)
 166 001a F0E0      		ldi r31,hi8(__iob)
 167 001c 8581      		ldd r24,Z+5
 168 001e 8F93      		push r24
 169 0020 8481      		ldd r24,Z+4
 170 0022 8F93      		push r24
 171 0024 0E94 0000 		call fprintf
 172 0028 0F90      		pop __tmp_reg__
 173 002a 0F90      		pop __tmp_reg__
 174 002c 0F90      		pop __tmp_reg__
 175 002e 0F90      		pop __tmp_reg__
 176 0030 0F90      		pop __tmp_reg__
 177 0032 0F90      		pop __tmp_reg__
 178 0034 80E0      		ldi r24,0
 179 0036 90E0      		ldi r25,0
 180 0038 0895      		ret
 181               		.size	panic, .-panic
 182               		.section	.text.l_alloc,"ax",@progbits
 183               		.type	l_alloc, @function
 184               	l_alloc:
 185               	/* prologue: function */
 186               	/* frame size = 0 */
 187               	/* stack size = 0 */
 188               	.L__stack_usage = 0
 189 0000 CB01      		movw r24,r22
 190 0002 2115      		cp r18,__zero_reg__
 191 0004 3105      		cpc r19,__zero_reg__
 192 0006 01F0      		breq .L14
 193 0008 B901      		movw r22,r18
 194 000a 0C94 0000 		jmp realloc
 195               	.L14:
 196 000e 0E94 0000 		call free
 197 0012 80E0      		ldi r24,0
 198 0014 90E0      		ldi r25,0
 199 0016 0895      		ret
 200               		.size	l_alloc, .-l_alloc
 201               		.section	.text.adjuststack.part.0,"ax",@progbits
 202               		.type	adjuststack.part.0, @function
 203               	adjuststack.part.0:
 204 0000 CF92      		push r12
 205 0002 DF92      		push r13
 206 0004 EF92      		push r14
 207 0006 FF92      		push r15
 208 0008 0F93      		push r16
 209 000a 1F93      		push r17
 210 000c CF93      		push r28
 211 000e DF93      		push r29
 212               	/* prologue: function */
 213               	/* frame size = 0 */
 214               	/* stack size = 8 */
 215               	.L__stack_usage = 8
 216 0010 8C01      		movw r16,r24
 217 0012 FC01      		movw r30,r24
 218 0014 E480      		ldd r14,Z+4
 219 0016 F580      		ldd r15,Z+5
GAS LISTING /tmp/ccug8R7j.s 			page 5


 220 0018 6FEF      		ldi r22,lo8(-1)
 221 001a 7FEF      		ldi r23,lo8(-1)
 222 001c C701      		movw r24,r14
 223 001e 0E94 0000 		call lua_objlen
 224 0022 6C01      		movw r12,r24
 225 0024 C1E0      		ldi r28,lo8(1)
 226 0026 D0E0      		ldi r29,0
 227               	.L18:
 228 0028 BE01      		movw r22,r28
 229 002a 6095      		com r22
 230 002c 7095      		com r23
 231 002e C701      		movw r24,r14
 232 0030 0E94 0000 		call lua_objlen
 233 0034 F801      		movw r30,r16
 234 0036 2281      		ldd r18,Z+2
 235 0038 3381      		ldd r19,Z+3
 236 003a A901      		movw r20,r18
 237 003c 4C1B      		sub r20,r28
 238 003e 5D0B      		sbc r21,r29
 239 0040 4930      		cpi r20,9
 240 0042 5105      		cpc r21,__zero_reg__
 241 0044 04F4      		brge .L16
 242 0046 8C15      		cp r24,r12
 243 0048 9D05      		cpc r25,r13
 244 004a 00F4      		brsh .L17
 245               	.L16:
 246 004c C80E      		add r12,r24
 247 004e D91E      		adc r13,r25
 248 0050 2196      		adiw r28,1
 249 0052 C217      		cp r28,r18
 250 0054 D307      		cpc r29,r19
 251 0056 04F0      		brlt .L18
 252               	.L17:
 253 0058 BE01      		movw r22,r28
 254 005a C701      		movw r24,r14
 255 005c 0E94 0000 		call lua_concat
 256 0060 F801      		movw r30,r16
 257 0062 8281      		ldd r24,Z+2
 258 0064 9381      		ldd r25,Z+3
 259 0066 8C1B      		sub r24,r28
 260 0068 9D0B      		sbc r25,r29
 261 006a 0196      		adiw r24,1
 262 006c 9383      		std Z+3,r25
 263 006e 8283      		std Z+2,r24
 264               	/* epilogue start */
 265 0070 DF91      		pop r29
 266 0072 CF91      		pop r28
 267 0074 1F91      		pop r17
 268 0076 0F91      		pop r16
 269 0078 FF90      		pop r15
 270 007a EF90      		pop r14
 271 007c DF90      		pop r13
 272 007e CF90      		pop r12
 273 0080 0895      		ret
 274               		.size	adjuststack.part.0, .-adjuststack.part.0
 275               		.section	.rodata.str1.1
 276               	.LC3:
GAS LISTING /tmp/ccug8R7j.s 			page 6


 277 0049 0A00      		.string	"\n"
 278               		.section	.text.getF,"ax",@progbits
 279               		.type	getF, @function
 280               	getF:
 281 0000 EF92      		push r14
 282 0002 FF92      		push r15
 283 0004 0F93      		push r16
 284 0006 1F93      		push r17
 285 0008 CF93      		push r28
 286 000a DF93      		push r29
 287               	/* prologue: function */
 288               	/* frame size = 0 */
 289               	/* stack size = 6 */
 290               	.L__stack_usage = 6
 291 000c 8B01      		movw r16,r22
 292 000e 7A01      		movw r14,r20
 293 0010 FB01      		movw r30,r22
 294 0012 8081      		ld r24,Z
 295 0014 9181      		ldd r25,Z+1
 296 0016 892B      		or r24,r25
 297 0018 01F0      		breq .L21
 298 001a 1182      		std Z+1,__zero_reg__
 299 001c 1082      		st Z,__zero_reg__
 300 001e 81E0      		ldi r24,lo8(1)
 301 0020 90E0      		ldi r25,0
 302 0022 FA01      		movw r30,r20
 303 0024 9183      		std Z+1,r25
 304 0026 8083      		st Z,r24
 305 0028 80E0      		ldi r24,lo8(.LC3)
 306 002a 90E0      		ldi r25,hi8(.LC3)
 307 002c 00C0      		rjmp .L22
 308               	.L21:
 309 002e FB01      		movw r30,r22
 310 0030 8281      		ldd r24,Z+2
 311 0032 9381      		ldd r25,Z+3
 312 0034 0E94 0000 		call feof
 313 0038 892B      		or r24,r25
 314 003a 01F0      		breq .L23
 315               	.L24:
 316 003c 80E0      		ldi r24,0
 317 003e 90E0      		ldi r25,0
 318 0040 00C0      		rjmp .L22
 319               	.L23:
 320 0042 E801      		movw r28,r16
 321 0044 2496      		adiw r28,4
 322 0046 F801      		movw r30,r16
 323 0048 2281      		ldd r18,Z+2
 324 004a 3381      		ldd r19,Z+3
 325 004c 40E0      		ldi r20,0
 326 004e 54E0      		ldi r21,lo8(4)
 327 0050 61E0      		ldi r22,lo8(1)
 328 0052 70E0      		ldi r23,0
 329 0054 CE01      		movw r24,r28
 330 0056 0E94 0000 		call fread
 331 005a F701      		movw r30,r14
 332 005c 9183      		std Z+1,r25
 333 005e 8083      		st Z,r24
GAS LISTING /tmp/ccug8R7j.s 			page 7


 334 0060 892B      		or r24,r25
 335 0062 01F0      		breq .L24
 336 0064 CE01      		movw r24,r28
 337               	.L22:
 338               	/* epilogue start */
 339 0066 DF91      		pop r29
 340 0068 CF91      		pop r28
 341 006a 1F91      		pop r17
 342 006c 0F91      		pop r16
 343 006e FF90      		pop r15
 344 0070 EF90      		pop r14
 345 0072 0895      		ret
 346               		.size	getF, .-getF
 347               		.section	.rodata.str1.1
 348               	.LC4:
 349 004b 536C 00   		.string	"Sl"
 350               	.LC5:
 351 004e 2573 3A25 		.string	"%s:%d: "
 351      643A 2000 
 352               	.LC6:
 353 0056 00        		.string	""
 354               		.section	.text.luaL_where,"ax",@progbits
 355               	.global	luaL_where
 356               		.type	luaL_where, @function
 357               	luaL_where:
 358 0000 0F93      		push r16
 359 0002 1F93      		push r17
 360 0004 CF93      		push r28
 361 0006 DF93      		push r29
 362 0008 CDB7      		in r28,__SP_L__
 363 000a DEB7      		in r29,__SP_H__
 364 000c C055      		subi r28,80
 365 000e D109      		sbc r29,__zero_reg__
 366 0010 0FB6      		in __tmp_reg__,__SREG__
 367 0012 F894      		cli
 368 0014 DEBF      		out __SP_H__,r29
 369 0016 0FBE      		out __SREG__,__tmp_reg__
 370 0018 CDBF      		out __SP_L__,r28
 371               	/* prologue: function */
 372               	/* frame size = 80 */
 373               	/* stack size = 84 */
 374               	.L__stack_usage = 84
 375 001a 8C01      		movw r16,r24
 376 001c AE01      		movw r20,r28
 377 001e 4F5F      		subi r20,-1
 378 0020 5F4F      		sbci r21,-1
 379 0022 0E94 0000 		call lua_getstack
 380 0026 892B      		or r24,r25
 381 0028 01F0      		breq .L29
 382 002a AE01      		movw r20,r28
 383 002c 4F5F      		subi r20,-1
 384 002e 5F4F      		sbci r21,-1
 385 0030 60E0      		ldi r22,lo8(.LC4)
 386 0032 70E0      		ldi r23,hi8(.LC4)
 387 0034 C801      		movw r24,r16
 388 0036 0E94 0000 		call lua_getinfo
 389 003a 8B85      		ldd r24,Y+11
GAS LISTING /tmp/ccug8R7j.s 			page 8


 390 003c 9C85      		ldd r25,Y+12
 391 003e 1816      		cp __zero_reg__,r24
 392 0040 1906      		cpc __zero_reg__,r25
 393 0042 04F4      		brge .L29
 394 0044 9F93      		push r25
 395 0046 8F93      		push r24
 396 0048 CE01      		movw r24,r28
 397 004a 4396      		adiw r24,19
 398 004c 9F93      		push r25
 399 004e 8F93      		push r24
 400 0050 80E0      		ldi r24,lo8(.LC5)
 401 0052 90E0      		ldi r25,hi8(.LC5)
 402 0054 9F93      		push r25
 403 0056 8F93      		push r24
 404 0058 1F93      		push r17
 405 005a 0F93      		push r16
 406 005c 0E94 0000 		call lua_pushfstring
 407 0060 0FB6      		in __tmp_reg__,__SREG__
 408 0062 F894      		cli
 409 0064 DEBF      		out __SP_H__,r29
 410 0066 0FBE      		out __SREG__,__tmp_reg__
 411 0068 CDBF      		out __SP_L__,r28
 412 006a 00C0      		rjmp .L28
 413               	.L29:
 414 006c 40E0      		ldi r20,0
 415 006e 50E0      		ldi r21,0
 416 0070 60E0      		ldi r22,lo8(.LC6)
 417 0072 70E0      		ldi r23,hi8(.LC6)
 418 0074 C801      		movw r24,r16
 419 0076 0E94 0000 		call lua_pushlstring
 420               	.L28:
 421               	/* epilogue start */
 422 007a C05B      		subi r28,-80
 423 007c DF4F      		sbci r29,-1
 424 007e 0FB6      		in __tmp_reg__,__SREG__
 425 0080 F894      		cli
 426 0082 DEBF      		out __SP_H__,r29
 427 0084 0FBE      		out __SREG__,__tmp_reg__
 428 0086 CDBF      		out __SP_L__,r28
 429 0088 DF91      		pop r29
 430 008a CF91      		pop r28
 431 008c 1F91      		pop r17
 432 008e 0F91      		pop r16
 433 0090 0895      		ret
 434               		.size	luaL_where, .-luaL_where
 435               		.section	.text.luaL_error,"ax",@progbits
 436               	.global	luaL_error
 437               		.type	luaL_error, @function
 438               	luaL_error:
 439 0000 0F93      		push r16
 440 0002 1F93      		push r17
 441 0004 CF93      		push r28
 442 0006 DF93      		push r29
 443 0008 CDB7      		in r28,__SP_L__
 444 000a DEB7      		in r29,__SP_H__
 445               	/* prologue: function */
 446               	/* frame size = 0 */
GAS LISTING /tmp/ccug8R7j.s 			page 9


 447               	/* stack size = 4 */
 448               	.L__stack_usage = 4
 449 000c 0885      		ldd r16,Y+8
 450 000e 1985      		ldd r17,Y+9
 451 0010 61E0      		ldi r22,lo8(1)
 452 0012 70E0      		ldi r23,0
 453 0014 C801      		movw r24,r16
 454 0016 0E94 0000 		call luaL_where
 455 001a AE01      		movw r20,r28
 456 001c 445F      		subi r20,-12
 457 001e 5F4F      		sbci r21,-1
 458 0020 6A85      		ldd r22,Y+10
 459 0022 7B85      		ldd r23,Y+11
 460 0024 C801      		movw r24,r16
 461 0026 0E94 0000 		call lua_pushvfstring
 462 002a 62E0      		ldi r22,lo8(2)
 463 002c 70E0      		ldi r23,0
 464 002e C801      		movw r24,r16
 465 0030 0E94 0000 		call lua_concat
 466 0034 C801      		movw r24,r16
 467 0036 0E94 0000 		call lua_error
 468               	/* epilogue start */
 469 003a DF91      		pop r29
 470 003c CF91      		pop r28
 471 003e 1F91      		pop r17
 472 0040 0F91      		pop r16
 473 0042 0895      		ret
 474               		.size	luaL_error, .-luaL_error
 475               		.section	.rodata.str1.1
 476               	.LC7:
 477 0057 6261 6420 		.string	"bad argument #%d (%s)"
 477      6172 6775 
 477      6D65 6E74 
 477      2023 2564 
 477      2028 2573 
 478               	.LC8:
 479 006d 6E00      		.string	"n"
 480               	.LC9:
 481 006f 6D65 7468 		.string	"method"
 481      6F64 00
 482               	.LC10:
 483 0076 6361 6C6C 		.string	"calling '%s' on bad self (%s)"
 483      696E 6720 
 483      2725 7327 
 483      206F 6E20 
 483      6261 6420 
 484               	.LC11:
 485 0094 3F00      		.string	"?"
 486               	.LC12:
 487 0096 6261 6420 		.string	"bad argument #%d to '%s' (%s)"
 487      6172 6775 
 487      6D65 6E74 
 487      2023 2564 
 487      2074 6F20 
 488               		.section	.text.luaL_argerror,"ax",@progbits
 489               	.global	luaL_argerror
 490               		.type	luaL_argerror, @function
GAS LISTING /tmp/ccug8R7j.s 			page 10


 491               	luaL_argerror:
 492 0000 CF92      		push r12
 493 0002 DF92      		push r13
 494 0004 EF92      		push r14
 495 0006 FF92      		push r15
 496 0008 0F93      		push r16
 497 000a 1F93      		push r17
 498 000c CF93      		push r28
 499 000e DF93      		push r29
 500 0010 CDB7      		in r28,__SP_L__
 501 0012 DEB7      		in r29,__SP_H__
 502 0014 C055      		subi r28,80
 503 0016 D109      		sbc r29,__zero_reg__
 504 0018 0FB6      		in __tmp_reg__,__SREG__
 505 001a F894      		cli
 506 001c DEBF      		out __SP_H__,r29
 507 001e 0FBE      		out __SREG__,__tmp_reg__
 508 0020 CDBF      		out __SP_L__,r28
 509               	/* prologue: function */
 510               	/* frame size = 80 */
 511               	/* stack size = 88 */
 512               	.L__stack_usage = 88
 513 0022 F82E      		mov r15,r24
 514 0024 E92E      		mov r14,r25
 515 0026 8B01      		movw r16,r22
 516 0028 D42E      		mov r13,r20
 517 002a C52E      		mov r12,r21
 518 002c AE01      		movw r20,r28
 519 002e 4F5F      		subi r20,-1
 520 0030 5F4F      		sbci r21,-1
 521 0032 60E0      		ldi r22,0
 522 0034 70E0      		ldi r23,0
 523 0036 0E94 0000 		call lua_getstack
 524 003a 892B      		or r24,r25
 525 003c 01F4      		brne .L36
 526 003e CF92      		push r12
 527 0040 DF92      		push r13
 528 0042 1F93      		push r17
 529 0044 0F93      		push r16
 530 0046 80E0      		ldi r24,lo8(.LC7)
 531 0048 90E0      		ldi r25,hi8(.LC7)
 532 004a 00C0      		rjmp .L41
 533               	.L36:
 534 004c AE01      		movw r20,r28
 535 004e 4F5F      		subi r20,-1
 536 0050 5F4F      		sbci r21,-1
 537 0052 60E0      		ldi r22,lo8(.LC8)
 538 0054 70E0      		ldi r23,hi8(.LC8)
 539 0056 8F2D      		mov r24,r15
 540 0058 9E2D      		mov r25,r14
 541 005a 0E94 0000 		call lua_getinfo
 542 005e 60E0      		ldi r22,lo8(.LC9)
 543 0060 70E0      		ldi r23,hi8(.LC9)
 544 0062 8D81      		ldd r24,Y+5
 545 0064 9E81      		ldd r25,Y+6
 546 0066 0E94 0000 		call strcmp
 547 006a 892B      		or r24,r25
GAS LISTING /tmp/ccug8R7j.s 			page 11


 548 006c 01F4      		brne .L38
 549 006e 0150      		subi r16,1
 550 0070 1109      		sbc r17,__zero_reg__
 551 0072 01F4      		brne .L38
 552 0074 CF92      		push r12
 553 0076 DF92      		push r13
 554 0078 8C81      		ldd r24,Y+4
 555 007a 8F93      		push r24
 556 007c 8B81      		ldd r24,Y+3
 557 007e 8F93      		push r24
 558 0080 80E0      		ldi r24,lo8(.LC10)
 559 0082 90E0      		ldi r25,hi8(.LC10)
 560               	.L41:
 561 0084 9F93      		push r25
 562 0086 8F93      		push r24
 563 0088 EF92      		push r14
 564 008a FF92      		push r15
 565 008c 0E94 0000 		call luaL_error
 566 0090 00C0      		rjmp .L40
 567               	.L38:
 568 0092 8B81      		ldd r24,Y+3
 569 0094 9C81      		ldd r25,Y+4
 570 0096 892B      		or r24,r25
 571 0098 01F4      		brne .L39
 572 009a 80E0      		ldi r24,lo8(.LC11)
 573 009c 90E0      		ldi r25,hi8(.LC11)
 574 009e 9C83      		std Y+4,r25
 575 00a0 8B83      		std Y+3,r24
 576               	.L39:
 577 00a2 CF92      		push r12
 578 00a4 DF92      		push r13
 579 00a6 8C81      		ldd r24,Y+4
 580 00a8 8F93      		push r24
 581 00aa 8B81      		ldd r24,Y+3
 582 00ac 8F93      		push r24
 583 00ae 1F93      		push r17
 584 00b0 0F93      		push r16
 585 00b2 80E0      		ldi r24,lo8(.LC12)
 586 00b4 90E0      		ldi r25,hi8(.LC12)
 587 00b6 9F93      		push r25
 588 00b8 8F93      		push r24
 589 00ba EF92      		push r14
 590 00bc FF92      		push r15
 591 00be 0E94 0000 		call luaL_error
 592               	.L40:
 593 00c2 0FB6      		in __tmp_reg__,__SREG__
 594 00c4 F894      		cli
 595 00c6 DEBF      		out __SP_H__,r29
 596 00c8 0FBE      		out __SREG__,__tmp_reg__
 597 00ca CDBF      		out __SP_L__,r28
 598               	/* epilogue start */
 599 00cc C05B      		subi r28,-80
 600 00ce DF4F      		sbci r29,-1
 601 00d0 0FB6      		in __tmp_reg__,__SREG__
 602 00d2 F894      		cli
 603 00d4 DEBF      		out __SP_H__,r29
 604 00d6 0FBE      		out __SREG__,__tmp_reg__
GAS LISTING /tmp/ccug8R7j.s 			page 12


 605 00d8 CDBF      		out __SP_L__,r28
 606 00da DF91      		pop r29
 607 00dc CF91      		pop r28
 608 00de 1F91      		pop r17
 609 00e0 0F91      		pop r16
 610 00e2 FF90      		pop r15
 611 00e4 EF90      		pop r14
 612 00e6 DF90      		pop r13
 613 00e8 CF90      		pop r12
 614 00ea 0895      		ret
 615               		.size	luaL_argerror, .-luaL_argerror
 616               		.section	.rodata.str1.1
 617               	.LC13:
 618 00b4 2573 2065 		.string	"%s expected, got %s"
 618      7870 6563 
 618      7465 642C 
 618      2067 6F74 
 618      2025 7300 
 619               		.section	.text.luaL_typerror,"ax",@progbits
 620               	.global	luaL_typerror
 621               		.type	luaL_typerror, @function
 622               	luaL_typerror:
 623 0000 EF92      		push r14
 624 0002 FF92      		push r15
 625 0004 0F93      		push r16
 626 0006 1F93      		push r17
 627 0008 CF93      		push r28
 628 000a DF93      		push r29
 629 000c 1F92      		push __zero_reg__
 630 000e 1F92      		push __zero_reg__
 631 0010 CDB7      		in r28,__SP_L__
 632 0012 DEB7      		in r29,__SP_H__
 633               	/* prologue: function */
 634               	/* frame size = 2 */
 635               	/* stack size = 8 */
 636               	.L__stack_usage = 8
 637 0014 F82E      		mov r15,r24
 638 0016 E92E      		mov r14,r25
 639 0018 8B01      		movw r16,r22
 640 001a 4983      		std Y+1,r20
 641 001c 5A83      		std Y+2,r21
 642 001e 0E94 0000 		call lua_type
 643 0022 BC01      		movw r22,r24
 644 0024 8F2D      		mov r24,r15
 645 0026 9E2D      		mov r25,r14
 646 0028 0E94 0000 		call lua_typename
 647 002c 9F93      		push r25
 648 002e 8F93      		push r24
 649 0030 5A81      		ldd r21,Y+2
 650 0032 5F93      		push r21
 651 0034 4981      		ldd r20,Y+1
 652 0036 4F93      		push r20
 653 0038 80E0      		ldi r24,lo8(.LC13)
 654 003a 90E0      		ldi r25,hi8(.LC13)
 655 003c 9F93      		push r25
 656 003e 8F93      		push r24
 657 0040 EF92      		push r14
GAS LISTING /tmp/ccug8R7j.s 			page 13


 658 0042 FF92      		push r15
 659 0044 0E94 0000 		call lua_pushfstring
 660 0048 0FB6      		in __tmp_reg__,__SREG__
 661 004a F894      		cli
 662 004c DEBF      		out __SP_H__,r29
 663 004e 0FBE      		out __SREG__,__tmp_reg__
 664 0050 CDBF      		out __SP_L__,r28
 665 0052 AC01      		movw r20,r24
 666 0054 B801      		movw r22,r16
 667 0056 8F2D      		mov r24,r15
 668 0058 9E2D      		mov r25,r14
 669               	/* epilogue start */
 670 005a 0F90      		pop __tmp_reg__
 671 005c 0F90      		pop __tmp_reg__
 672 005e DF91      		pop r29
 673 0060 CF91      		pop r28
 674 0062 1F91      		pop r17
 675 0064 0F91      		pop r16
 676 0066 FF90      		pop r15
 677 0068 EF90      		pop r14
 678 006a 0C94 0000 		jmp luaL_argerror
 679               		.size	luaL_typerror, .-luaL_typerror
 680               		.section	.text.tag_error,"ax",@progbits
 681               		.type	tag_error, @function
 682               	tag_error:
 683 0000 0F93      		push r16
 684 0002 1F93      		push r17
 685 0004 CF93      		push r28
 686 0006 DF93      		push r29
 687               	/* prologue: function */
 688               	/* frame size = 0 */
 689               	/* stack size = 4 */
 690               	.L__stack_usage = 4
 691 0008 EC01      		movw r28,r24
 692 000a 8B01      		movw r16,r22
 693 000c BA01      		movw r22,r20
 694 000e 0E94 0000 		call lua_typename
 695 0012 AC01      		movw r20,r24
 696 0014 B801      		movw r22,r16
 697 0016 CE01      		movw r24,r28
 698               	/* epilogue start */
 699 0018 DF91      		pop r29
 700 001a CF91      		pop r28
 701 001c 1F91      		pop r17
 702 001e 0F91      		pop r16
 703 0020 0C94 0000 		jmp luaL_typerror
 704               		.size	tag_error, .-tag_error
 705               		.section	.text.luaL_newmetatable,"ax",@progbits
 706               	.global	luaL_newmetatable
 707               		.type	luaL_newmetatable, @function
 708               	luaL_newmetatable:
 709 0000 0F93      		push r16
 710 0002 1F93      		push r17
 711 0004 CF93      		push r28
 712 0006 DF93      		push r29
 713               	/* prologue: function */
 714               	/* frame size = 0 */
GAS LISTING /tmp/ccug8R7j.s 			page 14


 715               	/* stack size = 4 */
 716               	.L__stack_usage = 4
 717 0008 EC01      		movw r28,r24
 718 000a 8B01      		movw r16,r22
 719 000c AB01      		movw r20,r22
 720 000e 60EF      		ldi r22,lo8(-16)
 721 0010 78ED      		ldi r23,lo8(-40)
 722 0012 0E94 0000 		call lua_getfield
 723 0016 6FEF      		ldi r22,lo8(-1)
 724 0018 7FEF      		ldi r23,lo8(-1)
 725 001a CE01      		movw r24,r28
 726 001c 0E94 0000 		call lua_type
 727 0020 892B      		or r24,r25
 728 0022 01F4      		brne .L46
 729 0024 6EEF      		ldi r22,lo8(-2)
 730 0026 7FEF      		ldi r23,lo8(-1)
 731 0028 CE01      		movw r24,r28
 732 002a 0E94 0000 		call lua_settop
 733 002e 40E0      		ldi r20,0
 734 0030 50E0      		ldi r21,0
 735 0032 60E0      		ldi r22,0
 736 0034 70E0      		ldi r23,0
 737 0036 CE01      		movw r24,r28
 738 0038 0E94 0000 		call lua_createtable
 739 003c 6FEF      		ldi r22,lo8(-1)
 740 003e 7FEF      		ldi r23,lo8(-1)
 741 0040 CE01      		movw r24,r28
 742 0042 0E94 0000 		call lua_pushvalue
 743 0046 A801      		movw r20,r16
 744 0048 60EF      		ldi r22,lo8(-16)
 745 004a 78ED      		ldi r23,lo8(-40)
 746 004c CE01      		movw r24,r28
 747 004e 0E94 0000 		call lua_setfield
 748 0052 81E0      		ldi r24,lo8(1)
 749 0054 90E0      		ldi r25,0
 750 0056 00C0      		rjmp .L45
 751               	.L46:
 752 0058 80E0      		ldi r24,0
 753 005a 90E0      		ldi r25,0
 754               	.L45:
 755               	/* epilogue start */
 756 005c DF91      		pop r29
 757 005e CF91      		pop r28
 758 0060 1F91      		pop r17
 759 0062 0F91      		pop r16
 760 0064 0895      		ret
 761               		.size	luaL_newmetatable, .-luaL_newmetatable
 762               		.section	.text.luaL_checkudata,"ax",@progbits
 763               	.global	luaL_checkudata
 764               		.type	luaL_checkudata, @function
 765               	luaL_checkudata:
 766 0000 CF92      		push r12
 767 0002 DF92      		push r13
 768 0004 EF92      		push r14
 769 0006 FF92      		push r15
 770 0008 0F93      		push r16
 771 000a 1F93      		push r17
GAS LISTING /tmp/ccug8R7j.s 			page 15


 772 000c CF93      		push r28
 773 000e DF93      		push r29
 774               	/* prologue: function */
 775               	/* frame size = 0 */
 776               	/* stack size = 8 */
 777               	.L__stack_usage = 8
 778 0010 EC01      		movw r28,r24
 779 0012 8B01      		movw r16,r22
 780 0014 6A01      		movw r12,r20
 781 0016 0E94 0000 		call lua_touserdata
 782 001a 7C01      		movw r14,r24
 783 001c 892B      		or r24,r25
 784 001e 01F0      		breq .L48
 785 0020 B801      		movw r22,r16
 786 0022 CE01      		movw r24,r28
 787 0024 0E94 0000 		call lua_getmetatable
 788 0028 892B      		or r24,r25
 789 002a 01F0      		breq .L48
 790 002c A601      		movw r20,r12
 791 002e 60EF      		ldi r22,lo8(-16)
 792 0030 78ED      		ldi r23,lo8(-40)
 793 0032 CE01      		movw r24,r28
 794 0034 0E94 0000 		call lua_getfield
 795 0038 4EEF      		ldi r20,lo8(-2)
 796 003a 5FEF      		ldi r21,lo8(-1)
 797 003c 6FEF      		ldi r22,lo8(-1)
 798 003e 7FEF      		ldi r23,lo8(-1)
 799 0040 CE01      		movw r24,r28
 800 0042 0E94 0000 		call lua_rawequal
 801 0046 892B      		or r24,r25
 802 0048 01F0      		breq .L48
 803 004a 6DEF      		ldi r22,lo8(-3)
 804 004c 7FEF      		ldi r23,lo8(-1)
 805 004e CE01      		movw r24,r28
 806 0050 0E94 0000 		call lua_settop
 807 0054 C701      		movw r24,r14
 808 0056 00C0      		rjmp .L49
 809               	.L48:
 810 0058 A601      		movw r20,r12
 811 005a B801      		movw r22,r16
 812 005c CE01      		movw r24,r28
 813 005e 0E94 0000 		call luaL_typerror
 814 0062 80E0      		ldi r24,0
 815 0064 90E0      		ldi r25,0
 816               	.L49:
 817               	/* epilogue start */
 818 0066 DF91      		pop r29
 819 0068 CF91      		pop r28
 820 006a 1F91      		pop r17
 821 006c 0F91      		pop r16
 822 006e FF90      		pop r15
 823 0070 EF90      		pop r14
 824 0072 DF90      		pop r13
 825 0074 CF90      		pop r12
 826 0076 0895      		ret
 827               		.size	luaL_checkudata, .-luaL_checkudata
 828               		.section	.rodata.str1.1
GAS LISTING /tmp/ccug8R7j.s 			page 16


 829               	.LC14:
 830 00c8 7374 6163 		.string	"stack overflow (%s)"
 830      6B20 6F76 
 830      6572 666C 
 830      6F77 2028 
 830      2573 2900 
 831               		.section	.text.luaL_checkstack,"ax",@progbits
 832               	.global	luaL_checkstack
 833               		.type	luaL_checkstack, @function
 834               	luaL_checkstack:
 835 0000 0F93      		push r16
 836 0002 1F93      		push r17
 837 0004 CF93      		push r28
 838 0006 DF93      		push r29
 839 0008 1F92      		push __zero_reg__
 840 000a 1F92      		push __zero_reg__
 841 000c CDB7      		in r28,__SP_L__
 842 000e DEB7      		in r29,__SP_H__
 843               	/* prologue: function */
 844               	/* frame size = 2 */
 845               	/* stack size = 6 */
 846               	.L__stack_usage = 6
 847 0010 182F      		mov r17,r24
 848 0012 092F      		mov r16,r25
 849 0014 4983      		std Y+1,r20
 850 0016 5A83      		std Y+2,r21
 851 0018 0E94 0000 		call lua_checkstack
 852 001c 4981      		ldd r20,Y+1
 853 001e 5A81      		ldd r21,Y+2
 854 0020 892B      		or r24,r25
 855 0022 01F4      		brne .L59
 856 0024 5F93      		push r21
 857 0026 4F93      		push r20
 858 0028 80E0      		ldi r24,lo8(.LC14)
 859 002a 90E0      		ldi r25,hi8(.LC14)
 860 002c 9F93      		push r25
 861 002e 8F93      		push r24
 862 0030 0F93      		push r16
 863 0032 1F93      		push r17
 864 0034 0E94 0000 		call luaL_error
 865 0038 0F90      		pop __tmp_reg__
 866 003a 0F90      		pop __tmp_reg__
 867 003c 0F90      		pop __tmp_reg__
 868 003e 0F90      		pop __tmp_reg__
 869 0040 0F90      		pop __tmp_reg__
 870 0042 0F90      		pop __tmp_reg__
 871               	.L59:
 872               	/* epilogue start */
 873 0044 0F90      		pop __tmp_reg__
 874 0046 0F90      		pop __tmp_reg__
 875 0048 DF91      		pop r29
 876 004a CF91      		pop r28
 877 004c 1F91      		pop r17
 878 004e 0F91      		pop r16
 879 0050 0895      		ret
 880               		.size	luaL_checkstack, .-luaL_checkstack
 881               		.section	.text.luaL_checktype,"ax",@progbits
GAS LISTING /tmp/ccug8R7j.s 			page 17


 882               	.global	luaL_checktype
 883               		.type	luaL_checktype, @function
 884               	luaL_checktype:
 885 0000 EF92      		push r14
 886 0002 FF92      		push r15
 887 0004 0F93      		push r16
 888 0006 1F93      		push r17
 889 0008 CF93      		push r28
 890 000a DF93      		push r29
 891 000c 1F92      		push __zero_reg__
 892 000e 1F92      		push __zero_reg__
 893 0010 CDB7      		in r28,__SP_L__
 894 0012 DEB7      		in r29,__SP_H__
 895               	/* prologue: function */
 896               	/* frame size = 2 */
 897               	/* stack size = 8 */
 898               	.L__stack_usage = 8
 899 0014 7C01      		movw r14,r24
 900 0016 8B01      		movw r16,r22
 901 0018 4983      		std Y+1,r20
 902 001a 5A83      		std Y+2,r21
 903 001c 0E94 0000 		call lua_type
 904 0020 4981      		ldd r20,Y+1
 905 0022 5A81      		ldd r21,Y+2
 906 0024 8417      		cp r24,r20
 907 0026 9507      		cpc r25,r21
 908 0028 01F0      		breq .L61
 909 002a B801      		movw r22,r16
 910 002c C701      		movw r24,r14
 911               	/* epilogue start */
 912 002e 0F90      		pop __tmp_reg__
 913 0030 0F90      		pop __tmp_reg__
 914 0032 DF91      		pop r29
 915 0034 CF91      		pop r28
 916 0036 1F91      		pop r17
 917 0038 0F91      		pop r16
 918 003a FF90      		pop r15
 919 003c EF90      		pop r14
 920 003e 0C94 0000 		jmp tag_error
 921               	.L61:
 922               	/* epilogue start */
 923 0042 0F90      		pop __tmp_reg__
 924 0044 0F90      		pop __tmp_reg__
 925 0046 DF91      		pop r29
 926 0048 CF91      		pop r28
 927 004a 1F91      		pop r17
 928 004c 0F91      		pop r16
 929 004e FF90      		pop r15
 930 0050 EF90      		pop r14
 931 0052 0895      		ret
 932               		.size	luaL_checktype, .-luaL_checktype
 933               		.section	.rodata.str1.1
 934               	.LC15:
 935 00dc 6675 6E63 		.string	"function or lightfunction expected, got %s"
 935      7469 6F6E 
 935      206F 7220 
 935      6C69 6768 
GAS LISTING /tmp/ccug8R7j.s 			page 18


 935      7466 756E 
 936               		.section	.text.luaL_checkanyfunction,"ax",@progbits
 937               	.global	luaL_checkanyfunction
 938               		.type	luaL_checkanyfunction, @function
 939               	luaL_checkanyfunction:
 940 0000 0F93      		push r16
 941 0002 1F93      		push r17
 942 0004 CF93      		push r28
 943 0006 DF93      		push r29
 944               	/* prologue: function */
 945               	/* frame size = 0 */
 946               	/* stack size = 4 */
 947               	.L__stack_usage = 4
 948 0008 D82F      		mov r29,r24
 949 000a C92F      		mov r28,r25
 950 000c 8B01      		movw r16,r22
 951 000e 0E94 0000 		call lua_type
 952 0012 0897      		sbiw r24,8
 953 0014 01F0      		breq .L63
 954 0016 B801      		movw r22,r16
 955 0018 8D2F      		mov r24,r29
 956 001a 9C2F      		mov r25,r28
 957 001c 0E94 0000 		call lua_type
 958 0020 0397      		sbiw r24,3
 959 0022 01F0      		breq .L63
 960 0024 B801      		movw r22,r16
 961 0026 8D2F      		mov r24,r29
 962 0028 9C2F      		mov r25,r28
 963 002a 0E94 0000 		call lua_type
 964 002e BC01      		movw r22,r24
 965 0030 8D2F      		mov r24,r29
 966 0032 9C2F      		mov r25,r28
 967 0034 0E94 0000 		call lua_typename
 968 0038 9F93      		push r25
 969 003a 8F93      		push r24
 970 003c 80E0      		ldi r24,lo8(.LC15)
 971 003e 90E0      		ldi r25,hi8(.LC15)
 972 0040 9F93      		push r25
 973 0042 8F93      		push r24
 974 0044 CF93      		push r28
 975 0046 DF93      		push r29
 976 0048 0E94 0000 		call lua_pushfstring
 977 004c 0F90      		pop __tmp_reg__
 978 004e 0F90      		pop __tmp_reg__
 979 0050 0F90      		pop __tmp_reg__
 980 0052 0F90      		pop __tmp_reg__
 981 0054 0F90      		pop __tmp_reg__
 982 0056 0F90      		pop __tmp_reg__
 983 0058 AC01      		movw r20,r24
 984 005a B801      		movw r22,r16
 985 005c 8D2F      		mov r24,r29
 986 005e 9C2F      		mov r25,r28
 987               	/* epilogue start */
 988 0060 DF91      		pop r29
 989 0062 CF91      		pop r28
 990 0064 1F91      		pop r17
 991 0066 0F91      		pop r16
GAS LISTING /tmp/ccug8R7j.s 			page 19


 992 0068 0C94 0000 		jmp luaL_argerror
 993               	.L63:
 994               	/* epilogue start */
 995 006c DF91      		pop r29
 996 006e CF91      		pop r28
 997 0070 1F91      		pop r17
 998 0072 0F91      		pop r16
 999 0074 0895      		ret
 1000               		.size	luaL_checkanyfunction, .-luaL_checkanyfunction
 1001               		.section	.rodata.str1.1
 1002               	.LC16:
 1003 0107 7661 6C75 		.string	"value expected"
 1003      6520 6578 
 1003      7065 6374 
 1003      6564 00
 1004               		.section	.text.luaL_checkany,"ax",@progbits
 1005               	.global	luaL_checkany
 1006               		.type	luaL_checkany, @function
 1007               	luaL_checkany:
 1008 0000 0F93      		push r16
 1009 0002 1F93      		push r17
 1010 0004 CF93      		push r28
 1011 0006 DF93      		push r29
 1012               	/* prologue: function */
 1013               	/* frame size = 0 */
 1014               	/* stack size = 4 */
 1015               	.L__stack_usage = 4
 1016 0008 EC01      		movw r28,r24
 1017 000a 8B01      		movw r16,r22
 1018 000c 0E94 0000 		call lua_type
 1019 0010 0196      		adiw r24,1
 1020 0012 01F4      		brne .L70
 1021 0014 40E0      		ldi r20,lo8(.LC16)
 1022 0016 50E0      		ldi r21,hi8(.LC16)
 1023 0018 B801      		movw r22,r16
 1024 001a CE01      		movw r24,r28
 1025               	/* epilogue start */
 1026 001c DF91      		pop r29
 1027 001e CF91      		pop r28
 1028 0020 1F91      		pop r17
 1029 0022 0F91      		pop r16
 1030 0024 0C94 0000 		jmp luaL_argerror
 1031               	.L70:
 1032               	/* epilogue start */
 1033 0028 DF91      		pop r29
 1034 002a CF91      		pop r28
 1035 002c 1F91      		pop r17
 1036 002e 0F91      		pop r16
 1037 0030 0895      		ret
 1038               		.size	luaL_checkany, .-luaL_checkany
 1039               		.section	.text.luaL_checklstring,"ax",@progbits
 1040               	.global	luaL_checklstring
 1041               		.type	luaL_checklstring, @function
 1042               	luaL_checklstring:
 1043 0000 EF92      		push r14
 1044 0002 FF92      		push r15
 1045 0004 0F93      		push r16
GAS LISTING /tmp/ccug8R7j.s 			page 20


 1046 0006 1F93      		push r17
 1047 0008 CF93      		push r28
 1048 000a DF93      		push r29
 1049               	/* prologue: function */
 1050               	/* frame size = 0 */
 1051               	/* stack size = 6 */
 1052               	.L__stack_usage = 6
 1053 000c 8C01      		movw r16,r24
 1054 000e 7B01      		movw r14,r22
 1055 0010 0E94 0000 		call lua_tolstring
 1056 0014 EC01      		movw r28,r24
 1057 0016 892B      		or r24,r25
 1058 0018 01F4      		brne .L73
 1059 001a 46E0      		ldi r20,lo8(6)
 1060 001c 50E0      		ldi r21,0
 1061 001e B701      		movw r22,r14
 1062 0020 C801      		movw r24,r16
 1063 0022 0E94 0000 		call tag_error
 1064               	.L73:
 1065 0026 CE01      		movw r24,r28
 1066               	/* epilogue start */
 1067 0028 DF91      		pop r29
 1068 002a CF91      		pop r28
 1069 002c 1F91      		pop r17
 1070 002e 0F91      		pop r16
 1071 0030 FF90      		pop r15
 1072 0032 EF90      		pop r14
 1073 0034 0895      		ret
 1074               		.size	luaL_checklstring, .-luaL_checklstring
 1075               		.section	.text.luaL_optlstring,"ax",@progbits
 1076               	.global	luaL_optlstring
 1077               		.type	luaL_optlstring, @function
 1078               	luaL_optlstring:
 1079 0000 CF92      		push r12
 1080 0002 DF92      		push r13
 1081 0004 EF92      		push r14
 1082 0006 FF92      		push r15
 1083 0008 0F93      		push r16
 1084 000a 1F93      		push r17
 1085 000c CF93      		push r28
 1086 000e DF93      		push r29
 1087               	/* prologue: function */
 1088               	/* frame size = 0 */
 1089               	/* stack size = 8 */
 1090               	.L__stack_usage = 8
 1091 0010 7C01      		movw r14,r24
 1092 0012 6B01      		movw r12,r22
 1093 0014 EA01      		movw r28,r20
 1094 0016 8901      		movw r16,r18
 1095 0018 0E94 0000 		call lua_type
 1096 001c 1816      		cp __zero_reg__,r24
 1097 001e 1906      		cpc __zero_reg__,r25
 1098 0020 04F0      		brlt .L75
 1099 0022 0115      		cp r16,__zero_reg__
 1100 0024 1105      		cpc r17,__zero_reg__
 1101 0026 01F0      		breq .L76
 1102 0028 2097      		sbiw r28,0
GAS LISTING /tmp/ccug8R7j.s 			page 21


 1103 002a 01F0      		breq .L79
 1104 002c FE01      		movw r30,r28
 1105               		0:
 1106 002e 0190      		ld __tmp_reg__,Z+
 1107 0030 0020      		tst __tmp_reg__
 1108 0032 01F4      		brne 0b
 1109 0034 3197      		sbiw r30,1
 1110 0036 EC1B      		sub r30,r28
 1111 0038 FD0B      		sbc r31,r29
 1112 003a 00C0      		rjmp .L77
 1113               	.L79:
 1114 003c E0E0      		ldi r30,0
 1115 003e F0E0      		ldi r31,0
 1116               	.L77:
 1117 0040 D801      		movw r26,r16
 1118 0042 ED93      		st X+,r30
 1119 0044 FC93      		st X,r31
 1120 0046 00C0      		rjmp .L76
 1121               	.L75:
 1122 0048 A801      		movw r20,r16
 1123 004a B601      		movw r22,r12
 1124 004c C701      		movw r24,r14
 1125               	/* epilogue start */
 1126 004e DF91      		pop r29
 1127 0050 CF91      		pop r28
 1128 0052 1F91      		pop r17
 1129 0054 0F91      		pop r16
 1130 0056 FF90      		pop r15
 1131 0058 EF90      		pop r14
 1132 005a DF90      		pop r13
 1133 005c CF90      		pop r12
 1134 005e 0C94 0000 		jmp luaL_checklstring
 1135               	.L76:
 1136 0062 CE01      		movw r24,r28
 1137               	/* epilogue start */
 1138 0064 DF91      		pop r29
 1139 0066 CF91      		pop r28
 1140 0068 1F91      		pop r17
 1141 006a 0F91      		pop r16
 1142 006c FF90      		pop r15
 1143 006e EF90      		pop r14
 1144 0070 DF90      		pop r13
 1145 0072 CF90      		pop r12
 1146 0074 0895      		ret
 1147               		.size	luaL_optlstring, .-luaL_optlstring
 1148               		.section	.rodata.str1.1
 1149               	.LC17:
 1150 0116 696E 7661 		.string	"invalid option '%s'"
 1150      6C69 6420 
 1150      6F70 7469 
 1150      6F6E 2027 
 1150      2573 2700 
 1151               		.section	.text.luaL_checkoption,"ax",@progbits
 1152               	.global	luaL_checkoption
 1153               		.type	luaL_checkoption, @function
 1154               	luaL_checkoption:
 1155 0000 AF92      		push r10
GAS LISTING /tmp/ccug8R7j.s 			page 22


 1156 0002 BF92      		push r11
 1157 0004 CF92      		push r12
 1158 0006 DF92      		push r13
 1159 0008 EF92      		push r14
 1160 000a FF92      		push r15
 1161 000c 0F93      		push r16
 1162 000e 1F93      		push r17
 1163 0010 CF93      		push r28
 1164 0012 DF93      		push r29
 1165               	/* prologue: function */
 1166               	/* frame size = 0 */
 1167               	/* stack size = 10 */
 1168               	.L__stack_usage = 10
 1169 0014 D82F      		mov r29,r24
 1170 0016 C92F      		mov r28,r25
 1171 0018 6B01      		movw r12,r22
 1172 001a 7901      		movw r14,r18
 1173 001c 4115      		cp r20,__zero_reg__
 1174 001e 5105      		cpc r21,__zero_reg__
 1175 0020 01F0      		breq .L82
 1176 0022 20E0      		ldi r18,0
 1177 0024 30E0      		ldi r19,0
 1178 0026 0E94 0000 		call luaL_optlstring
 1179 002a 00C0      		rjmp .L87
 1180               	.L82:
 1181 002c 40E0      		ldi r20,0
 1182 002e 50E0      		ldi r21,0
 1183 0030 0E94 0000 		call luaL_checklstring
 1184               	.L87:
 1185 0034 B82E      		mov r11,r24
 1186 0036 A92E      		mov r10,r25
 1187 0038 8701      		movw r16,r14
 1188 003a E12C      		mov r14,__zero_reg__
 1189 003c F12C      		mov r15,__zero_reg__
 1190               	.L84:
 1191 003e F801      		movw r30,r16
 1192 0040 8191      		ld r24,Z+
 1193 0042 9191      		ld r25,Z+
 1194 0044 8F01      		movw r16,r30
 1195 0046 0097      		sbiw r24,0
 1196 0048 01F0      		breq .L88
 1197 004a 6B2D      		mov r22,r11
 1198 004c 7A2D      		mov r23,r10
 1199 004e 0E94 0000 		call strcmp
 1200 0052 892B      		or r24,r25
 1201 0054 01F0      		breq .L85
 1202 0056 8FEF      		ldi r24,-1
 1203 0058 E81A      		sub r14,r24
 1204 005a F80A      		sbc r15,r24
 1205 005c 00C0      		rjmp .L84
 1206               	.L88:
 1207 005e AF92      		push r10
 1208 0060 BF92      		push r11
 1209 0062 80E0      		ldi r24,lo8(.LC17)
 1210 0064 90E0      		ldi r25,hi8(.LC17)
 1211 0066 9F93      		push r25
 1212 0068 8F93      		push r24
GAS LISTING /tmp/ccug8R7j.s 			page 23


 1213 006a CF93      		push r28
 1214 006c DF93      		push r29
 1215 006e 0E94 0000 		call lua_pushfstring
 1216 0072 0F90      		pop __tmp_reg__
 1217 0074 0F90      		pop __tmp_reg__
 1218 0076 0F90      		pop __tmp_reg__
 1219 0078 0F90      		pop __tmp_reg__
 1220 007a 0F90      		pop __tmp_reg__
 1221 007c 0F90      		pop __tmp_reg__
 1222 007e AC01      		movw r20,r24
 1223 0080 B601      		movw r22,r12
 1224 0082 8D2F      		mov r24,r29
 1225 0084 9C2F      		mov r25,r28
 1226               	/* epilogue start */
 1227 0086 DF91      		pop r29
 1228 0088 CF91      		pop r28
 1229 008a 1F91      		pop r17
 1230 008c 0F91      		pop r16
 1231 008e FF90      		pop r15
 1232 0090 EF90      		pop r14
 1233 0092 DF90      		pop r13
 1234 0094 CF90      		pop r12
 1235 0096 BF90      		pop r11
 1236 0098 AF90      		pop r10
 1237 009a 0C94 0000 		jmp luaL_argerror
 1238               	.L85:
 1239 009e C701      		movw r24,r14
 1240               	/* epilogue start */
 1241 00a0 DF91      		pop r29
 1242 00a2 CF91      		pop r28
 1243 00a4 1F91      		pop r17
 1244 00a6 0F91      		pop r16
 1245 00a8 FF90      		pop r15
 1246 00aa EF90      		pop r14
 1247 00ac DF90      		pop r13
 1248 00ae CF90      		pop r12
 1249 00b0 BF90      		pop r11
 1250 00b2 AF90      		pop r10
 1251 00b4 0895      		ret
 1252               		.size	luaL_checkoption, .-luaL_checkoption
 1253               		.section	.text.luaL_checknumber,"ax",@progbits
 1254               	.global	luaL_checknumber
 1255               		.type	luaL_checknumber, @function
 1256               	luaL_checknumber:
 1257 0000 CF92      		push r12
 1258 0002 DF92      		push r13
 1259 0004 EF92      		push r14
 1260 0006 FF92      		push r15
 1261 0008 0F93      		push r16
 1262 000a 1F93      		push r17
 1263 000c CF93      		push r28
 1264 000e DF93      		push r29
 1265               	/* prologue: function */
 1266               	/* frame size = 0 */
 1267               	/* stack size = 8 */
 1268               	.L__stack_usage = 8
 1269 0010 EC01      		movw r28,r24
GAS LISTING /tmp/ccug8R7j.s 			page 24


 1270 0012 8B01      		movw r16,r22
 1271 0014 0E94 0000 		call lua_tonumber
 1272 0018 6B01      		movw r12,r22
 1273 001a 7C01      		movw r14,r24
 1274 001c 672B      		or r22,r23
 1275 001e 682B      		or r22,r24
 1276 0020 692B      		or r22,r25
 1277 0022 01F4      		brne .L91
 1278 0024 B801      		movw r22,r16
 1279 0026 CE01      		movw r24,r28
 1280 0028 0E94 0000 		call lua_isnumber
 1281 002c 892B      		or r24,r25
 1282 002e 01F4      		brne .L91
 1283 0030 45E0      		ldi r20,lo8(5)
 1284 0032 50E0      		ldi r21,0
 1285 0034 B801      		movw r22,r16
 1286 0036 CE01      		movw r24,r28
 1287 0038 0E94 0000 		call tag_error
 1288               	.L91:
 1289 003c C701      		movw r24,r14
 1290 003e B601      		movw r22,r12
 1291               	/* epilogue start */
 1292 0040 DF91      		pop r29
 1293 0042 CF91      		pop r28
 1294 0044 1F91      		pop r17
 1295 0046 0F91      		pop r16
 1296 0048 FF90      		pop r15
 1297 004a EF90      		pop r14
 1298 004c DF90      		pop r13
 1299 004e CF90      		pop r12
 1300 0050 0895      		ret
 1301               		.size	luaL_checknumber, .-luaL_checknumber
 1302               		.section	.text.luaL_optnumber,"ax",@progbits
 1303               	.global	luaL_optnumber
 1304               		.type	luaL_optnumber, @function
 1305               	luaL_optnumber:
 1306 0000 EF92      		push r14
 1307 0002 FF92      		push r15
 1308 0004 0F93      		push r16
 1309 0006 1F93      		push r17
 1310 0008 CF93      		push r28
 1311 000a DF93      		push r29
 1312 000c 00D0      		rcall .
 1313 000e 1F92      		push __zero_reg__
 1314 0010 CDB7      		in r28,__SP_L__
 1315 0012 DEB7      		in r29,__SP_H__
 1316               	/* prologue: function */
 1317               	/* frame size = 4 */
 1318               	/* stack size = 10 */
 1319               	.L__stack_usage = 10
 1320 0014 7C01      		movw r14,r24
 1321 0016 8B01      		movw r16,r22
 1322 0018 2983      		std Y+1,r18
 1323 001a 3A83      		std Y+2,r19
 1324 001c 4B83      		std Y+3,r20
 1325 001e 5C83      		std Y+4,r21
 1326 0020 0E94 0000 		call lua_type
GAS LISTING /tmp/ccug8R7j.s 			page 25


 1327 0024 2981      		ldd r18,Y+1
 1328 0026 3A81      		ldd r19,Y+2
 1329 0028 4B81      		ldd r20,Y+3
 1330 002a 5C81      		ldd r21,Y+4
 1331 002c 1816      		cp __zero_reg__,r24
 1332 002e 1906      		cpc __zero_reg__,r25
 1333 0030 04F4      		brge .L94
 1334 0032 B801      		movw r22,r16
 1335 0034 C701      		movw r24,r14
 1336               	/* epilogue start */
 1337 0036 0F90      		pop __tmp_reg__
 1338 0038 0F90      		pop __tmp_reg__
 1339 003a 0F90      		pop __tmp_reg__
 1340 003c 0F90      		pop __tmp_reg__
 1341 003e DF91      		pop r29
 1342 0040 CF91      		pop r28
 1343 0042 1F91      		pop r17
 1344 0044 0F91      		pop r16
 1345 0046 FF90      		pop r15
 1346 0048 EF90      		pop r14
 1347 004a 0C94 0000 		jmp luaL_checknumber
 1348               	.L94:
 1349 004e CA01      		movw r24,r20
 1350 0050 B901      		movw r22,r18
 1351               	/* epilogue start */
 1352 0052 0F90      		pop __tmp_reg__
 1353 0054 0F90      		pop __tmp_reg__
 1354 0056 0F90      		pop __tmp_reg__
 1355 0058 0F90      		pop __tmp_reg__
 1356 005a DF91      		pop r29
 1357 005c CF91      		pop r28
 1358 005e 1F91      		pop r17
 1359 0060 0F91      		pop r16
 1360 0062 FF90      		pop r15
 1361 0064 EF90      		pop r14
 1362 0066 0895      		ret
 1363               		.size	luaL_optnumber, .-luaL_optnumber
 1364               		.section	.text.luaL_checkinteger,"ax",@progbits
 1365               	.global	luaL_checkinteger
 1366               		.type	luaL_checkinteger, @function
 1367               	luaL_checkinteger:
 1368 0000 EF92      		push r14
 1369 0002 FF92      		push r15
 1370 0004 0F93      		push r16
 1371 0006 1F93      		push r17
 1372 0008 CF93      		push r28
 1373 000a DF93      		push r29
 1374               	/* prologue: function */
 1375               	/* frame size = 0 */
 1376               	/* stack size = 6 */
 1377               	.L__stack_usage = 6
 1378 000c EC01      		movw r28,r24
 1379 000e 8B01      		movw r16,r22
 1380 0010 0E94 0000 		call lua_tointeger
 1381 0014 7C01      		movw r14,r24
 1382 0016 892B      		or r24,r25
 1383 0018 01F4      		brne .L97
GAS LISTING /tmp/ccug8R7j.s 			page 26


 1384 001a B801      		movw r22,r16
 1385 001c CE01      		movw r24,r28
 1386 001e 0E94 0000 		call lua_isnumber
 1387 0022 892B      		or r24,r25
 1388 0024 01F4      		brne .L97
 1389 0026 45E0      		ldi r20,lo8(5)
 1390 0028 50E0      		ldi r21,0
 1391 002a B801      		movw r22,r16
 1392 002c CE01      		movw r24,r28
 1393 002e 0E94 0000 		call tag_error
 1394               	.L97:
 1395 0032 C701      		movw r24,r14
 1396               	/* epilogue start */
 1397 0034 DF91      		pop r29
 1398 0036 CF91      		pop r28
 1399 0038 1F91      		pop r17
 1400 003a 0F91      		pop r16
 1401 003c FF90      		pop r15
 1402 003e EF90      		pop r14
 1403 0040 0895      		ret
 1404               		.size	luaL_checkinteger, .-luaL_checkinteger
 1405               		.section	.text.luaL_optinteger,"ax",@progbits
 1406               	.global	luaL_optinteger
 1407               		.type	luaL_optinteger, @function
 1408               	luaL_optinteger:
 1409 0000 EF92      		push r14
 1410 0002 FF92      		push r15
 1411 0004 0F93      		push r16
 1412 0006 1F93      		push r17
 1413 0008 CF93      		push r28
 1414 000a DF93      		push r29
 1415               	/* prologue: function */
 1416               	/* frame size = 0 */
 1417               	/* stack size = 6 */
 1418               	.L__stack_usage = 6
 1419 000c EC01      		movw r28,r24
 1420 000e 8B01      		movw r16,r22
 1421 0010 7A01      		movw r14,r20
 1422 0012 0E94 0000 		call lua_type
 1423 0016 1816      		cp __zero_reg__,r24
 1424 0018 1906      		cpc __zero_reg__,r25
 1425 001a 04F4      		brge .L100
 1426 001c B801      		movw r22,r16
 1427 001e CE01      		movw r24,r28
 1428               	/* epilogue start */
 1429 0020 DF91      		pop r29
 1430 0022 CF91      		pop r28
 1431 0024 1F91      		pop r17
 1432 0026 0F91      		pop r16
 1433 0028 FF90      		pop r15
 1434 002a EF90      		pop r14
 1435 002c 0C94 0000 		jmp luaL_checkinteger
 1436               	.L100:
 1437 0030 C701      		movw r24,r14
 1438               	/* epilogue start */
 1439 0032 DF91      		pop r29
 1440 0034 CF91      		pop r28
GAS LISTING /tmp/ccug8R7j.s 			page 27


 1441 0036 1F91      		pop r17
 1442 0038 0F91      		pop r16
 1443 003a FF90      		pop r15
 1444 003c EF90      		pop r14
 1445 003e 0895      		ret
 1446               		.size	luaL_optinteger, .-luaL_optinteger
 1447               		.section	.text.luaL_getmetafield,"ax",@progbits
 1448               	.global	luaL_getmetafield
 1449               		.type	luaL_getmetafield, @function
 1450               	luaL_getmetafield:
 1451 0000 EF92      		push r14
 1452 0002 FF92      		push r15
 1453 0004 0F93      		push r16
 1454 0006 1F93      		push r17
 1455 0008 CF93      		push r28
 1456 000a DF93      		push r29
 1457               	/* prologue: function */
 1458               	/* frame size = 0 */
 1459               	/* stack size = 6 */
 1460               	.L__stack_usage = 6
 1461 000c EC01      		movw r28,r24
 1462 000e 7A01      		movw r14,r20
 1463 0010 0E94 0000 		call lua_getmetatable
 1464 0014 8C01      		movw r16,r24
 1465 0016 892B      		or r24,r25
 1466 0018 01F0      		breq .L102
 1467 001a B701      		movw r22,r14
 1468 001c CE01      		movw r24,r28
 1469 001e 0E94 0000 		call lua_pushstring
 1470 0022 6EEF      		ldi r22,lo8(-2)
 1471 0024 7FEF      		ldi r23,lo8(-1)
 1472 0026 CE01      		movw r24,r28
 1473 0028 0E94 0000 		call lua_rawget
 1474 002c 6FEF      		ldi r22,lo8(-1)
 1475 002e 7FEF      		ldi r23,lo8(-1)
 1476 0030 CE01      		movw r24,r28
 1477 0032 0E94 0000 		call lua_type
 1478 0036 8C01      		movw r16,r24
 1479 0038 892B      		or r24,r25
 1480 003a 01F4      		brne .L103
 1481 003c 6DEF      		ldi r22,lo8(-3)
 1482 003e 7FEF      		ldi r23,lo8(-1)
 1483 0040 CE01      		movw r24,r28
 1484 0042 0E94 0000 		call lua_settop
 1485 0046 00C0      		rjmp .L102
 1486               	.L103:
 1487 0048 6EEF      		ldi r22,lo8(-2)
 1488 004a 7FEF      		ldi r23,lo8(-1)
 1489 004c CE01      		movw r24,r28
 1490 004e 0E94 0000 		call lua_remove
 1491 0052 01E0      		ldi r16,lo8(1)
 1492 0054 10E0      		ldi r17,0
 1493               	.L102:
 1494 0056 C801      		movw r24,r16
 1495               	/* epilogue start */
 1496 0058 DF91      		pop r29
 1497 005a CF91      		pop r28
GAS LISTING /tmp/ccug8R7j.s 			page 28


 1498 005c 1F91      		pop r17
 1499 005e 0F91      		pop r16
 1500 0060 FF90      		pop r15
 1501 0062 EF90      		pop r14
 1502 0064 0895      		ret
 1503               		.size	luaL_getmetafield, .-luaL_getmetafield
 1504               		.section	.text.luaL_callmeta,"ax",@progbits
 1505               	.global	luaL_callmeta
 1506               		.type	luaL_callmeta, @function
 1507               	luaL_callmeta:
 1508 0000 EF92      		push r14
 1509 0002 FF92      		push r15
 1510 0004 0F93      		push r16
 1511 0006 1F93      		push r17
 1512 0008 CF93      		push r28
 1513 000a DF93      		push r29
 1514 000c 1F92      		push __zero_reg__
 1515 000e 1F92      		push __zero_reg__
 1516 0010 CDB7      		in r28,__SP_L__
 1517 0012 DEB7      		in r29,__SP_H__
 1518               	/* prologue: function */
 1519               	/* frame size = 2 */
 1520               	/* stack size = 8 */
 1521               	.L__stack_usage = 8
 1522 0014 8C01      		movw r16,r24
 1523 0016 7B01      		movw r14,r22
 1524 0018 CB01      		movw r24,r22
 1525 001a 815F      		subi r24,-15
 1526 001c 984D      		sbci r25,-40
 1527 001e 8031      		cpi r24,16
 1528 0020 9742      		sbci r25,39
 1529 0022 00F4      		brsh .L108
 1530 0024 C801      		movw r24,r16
 1531 0026 4983      		std Y+1,r20
 1532 0028 5A83      		std Y+2,r21
 1533 002a 0E94 0000 		call lua_gettop
 1534 002e 8E0D      		add r24,r14
 1535 0030 9F1D      		adc r25,r15
 1536 0032 7C01      		movw r14,r24
 1537 0034 2FEF      		ldi r18,-1
 1538 0036 E21A      		sub r14,r18
 1539 0038 F20A      		sbc r15,r18
 1540 003a 5A81      		ldd r21,Y+2
 1541 003c 4981      		ldd r20,Y+1
 1542               	.L108:
 1543 003e B701      		movw r22,r14
 1544 0040 C801      		movw r24,r16
 1545 0042 0E94 0000 		call luaL_getmetafield
 1546 0046 0097      		sbiw r24,0
 1547 0048 01F0      		breq .L109
 1548 004a B701      		movw r22,r14
 1549 004c C801      		movw r24,r16
 1550 004e 0E94 0000 		call lua_pushvalue
 1551 0052 41E0      		ldi r20,lo8(1)
 1552 0054 50E0      		ldi r21,0
 1553 0056 61E0      		ldi r22,lo8(1)
 1554 0058 70E0      		ldi r23,0
GAS LISTING /tmp/ccug8R7j.s 			page 29


 1555 005a C801      		movw r24,r16
 1556 005c 0E94 0000 		call lua_call
 1557 0060 81E0      		ldi r24,lo8(1)
 1558 0062 90E0      		ldi r25,0
 1559               	.L109:
 1560               	/* epilogue start */
 1561 0064 0F90      		pop __tmp_reg__
 1562 0066 0F90      		pop __tmp_reg__
 1563 0068 DF91      		pop r29
 1564 006a CF91      		pop r28
 1565 006c 1F91      		pop r17
 1566 006e 0F91      		pop r16
 1567 0070 FF90      		pop r15
 1568 0072 EF90      		pop r14
 1569 0074 0895      		ret
 1570               		.size	luaL_callmeta, .-luaL_callmeta
 1571               		.section	.text.luaL_findtable,"ax",@progbits
 1572               	.global	luaL_findtable
 1573               		.type	luaL_findtable, @function
 1574               	luaL_findtable:
 1575 0000 6F92      		push r6
 1576 0002 7F92      		push r7
 1577 0004 8F92      		push r8
 1578 0006 9F92      		push r9
 1579 0008 AF92      		push r10
 1580 000a BF92      		push r11
 1581 000c CF92      		push r12
 1582 000e DF92      		push r13
 1583 0010 EF92      		push r14
 1584 0012 FF92      		push r15
 1585 0014 0F93      		push r16
 1586 0016 1F93      		push r17
 1587 0018 CF93      		push r28
 1588 001a DF93      		push r29
 1589 001c 1F92      		push __zero_reg__
 1590 001e CDB7      		in r28,__SP_L__
 1591 0020 DEB7      		in r29,__SP_H__
 1592               	/* prologue: function */
 1593               	/* frame size = 1 */
 1594               	/* stack size = 15 */
 1595               	.L__stack_usage = 15
 1596 0022 8C01      		movw r16,r24
 1597 0024 5B01      		movw r10,r22
 1598 0026 7A01      		movw r14,r20
 1599 0028 722E      		mov r7,r18
 1600 002a 632E      		mov r6,r19
 1601 002c 0E94 0000 		call lua_pushvalue
 1602               	.L121:
 1603 0030 6EE2      		ldi r22,lo8(46)
 1604 0032 70E0      		ldi r23,0
 1605 0034 C701      		movw r24,r14
 1606 0036 0E94 0000 		call strchr
 1607 003a 6C01      		movw r12,r24
 1608 003c 892B      		or r24,r25
 1609 003e 01F4      		brne .L114
 1610 0040 F701      		movw r30,r14
 1611               		0:
GAS LISTING /tmp/ccug8R7j.s 			page 30


 1612 0042 0190      		ld __tmp_reg__,Z+
 1613 0044 0020      		tst __tmp_reg__
 1614 0046 01F4      		brne 0b
 1615 0048 CF01      		movw r24,r30
 1616 004a 0197      		sbiw r24,1
 1617 004c 6C01      		movw r12,r24
 1618               	.L114:
 1619 004e 4601      		movw r8,r12
 1620 0050 8E18      		sub r8,r14
 1621 0052 9F08      		sbc r9,r15
 1622 0054 A401      		movw r20,r8
 1623 0056 B701      		movw r22,r14
 1624 0058 C801      		movw r24,r16
 1625 005a 0E94 0000 		call lua_pushlstring
 1626 005e 6EEF      		ldi r22,lo8(-2)
 1627 0060 7FEF      		ldi r23,lo8(-1)
 1628 0062 C801      		movw r24,r16
 1629 0064 0E94 0000 		call lua_rawget
 1630 0068 6FEF      		ldi r22,lo8(-1)
 1631 006a 7FEF      		ldi r23,lo8(-1)
 1632 006c C801      		movw r24,r16
 1633 006e 0E94 0000 		call lua_type
 1634 0072 892B      		or r24,r25
 1635 0074 01F4      		brne .L115
 1636 0076 9EEE      		ldi r25,-18
 1637 0078 A916      		cp r10,r25
 1638 007a 98ED      		ldi r25,-40
 1639 007c B906      		cpc r11,r25
 1640 007e 01F4      		brne .L116
 1641 0080 BE01      		movw r22,r28
 1642 0082 6F5F      		subi r22,-1
 1643 0084 7F4F      		sbci r23,-1
 1644 0086 C701      		movw r24,r14
 1645 0088 0E94 0000 		call luaR_findglobal
 1646 008c 8981      		ldd r24,Y+1
 1647 008e 8230      		cpi r24,lo8(2)
 1648 0090 01F0      		breq .L128
 1649               	.L116:
 1650 0092 6EEF      		ldi r22,lo8(-2)
 1651 0094 7FEF      		ldi r23,lo8(-1)
 1652 0096 C801      		movw r24,r16
 1653 0098 0E94 0000 		call lua_settop
 1654 009c F601      		movw r30,r12
 1655 009e 8081      		ld r24,Z
 1656 00a0 8E32      		cpi r24,lo8(46)
 1657 00a2 01F0      		breq .L122
 1658 00a4 472D      		mov r20,r7
 1659 00a6 562D      		mov r21,r6
 1660 00a8 00C0      		rjmp .L119
 1661               	.L122:
 1662 00aa 41E0      		ldi r20,lo8(1)
 1663 00ac 50E0      		ldi r21,0
 1664               	.L119:
 1665 00ae 60E0      		ldi r22,0
 1666 00b0 70E0      		ldi r23,0
 1667 00b2 C801      		movw r24,r16
 1668 00b4 0E94 0000 		call lua_createtable
GAS LISTING /tmp/ccug8R7j.s 			page 31


 1669 00b8 A401      		movw r20,r8
 1670 00ba B701      		movw r22,r14
 1671 00bc C801      		movw r24,r16
 1672 00be 0E94 0000 		call lua_pushlstring
 1673 00c2 6EEF      		ldi r22,lo8(-2)
 1674 00c4 7FEF      		ldi r23,lo8(-1)
 1675 00c6 C801      		movw r24,r16
 1676 00c8 0E94 0000 		call lua_pushvalue
 1677 00cc 6CEF      		ldi r22,lo8(-4)
 1678 00ce 7FEF      		ldi r23,lo8(-1)
 1679 00d0 C801      		movw r24,r16
 1680 00d2 0E94 0000 		call lua_settable
 1681 00d6 00C0      		rjmp .L120
 1682               	.L115:
 1683 00d8 6FEF      		ldi r22,lo8(-1)
 1684 00da 7FEF      		ldi r23,lo8(-1)
 1685 00dc C801      		movw r24,r16
 1686 00de 0E94 0000 		call lua_type
 1687 00e2 0797      		sbiw r24,7
 1688 00e4 01F0      		breq .L120
 1689               	.L128:
 1690 00e6 6DEF      		ldi r22,lo8(-3)
 1691 00e8 7FEF      		ldi r23,lo8(-1)
 1692 00ea C801      		movw r24,r16
 1693 00ec 0E94 0000 		call lua_settop
 1694 00f0 C701      		movw r24,r14
 1695 00f2 00C0      		rjmp .L118
 1696               	.L120:
 1697 00f4 6EEF      		ldi r22,lo8(-2)
 1698 00f6 7FEF      		ldi r23,lo8(-1)
 1699 00f8 C801      		movw r24,r16
 1700 00fa 0E94 0000 		call lua_remove
 1701 00fe 7601      		movw r14,r12
 1702 0100 FFEF      		ldi r31,-1
 1703 0102 EF1A      		sub r14,r31
 1704 0104 FF0A      		sbc r15,r31
 1705 0106 F601      		movw r30,r12
 1706 0108 8081      		ld r24,Z
 1707 010a 8E32      		cpi r24,lo8(46)
 1708 010c 01F4      		brne .+2
 1709 010e 00C0      		rjmp .L121
 1710 0110 80E0      		ldi r24,0
 1711 0112 90E0      		ldi r25,0
 1712               	.L118:
 1713               	/* epilogue start */
 1714 0114 0F90      		pop __tmp_reg__
 1715 0116 DF91      		pop r29
 1716 0118 CF91      		pop r28
 1717 011a 1F91      		pop r17
 1718 011c 0F91      		pop r16
 1719 011e FF90      		pop r15
 1720 0120 EF90      		pop r14
 1721 0122 DF90      		pop r13
 1722 0124 CF90      		pop r12
 1723 0126 BF90      		pop r11
 1724 0128 AF90      		pop r10
 1725 012a 9F90      		pop r9
GAS LISTING /tmp/ccug8R7j.s 			page 32


 1726 012c 8F90      		pop r8
 1727 012e 7F90      		pop r7
 1728 0130 6F90      		pop r6
 1729 0132 0895      		ret
 1730               		.size	luaL_findtable, .-luaL_findtable
 1731               		.section	.rodata.str1.1
 1732               	.LC18:
 1733 012a 5F4C 4F41 		.string	"_LOADED"
 1733      4445 4400 
 1734               	.LC19:
 1735 0132 6E61 6D65 		.string	"name conflict for module '%s'"
 1735      2063 6F6E 
 1735      666C 6963 
 1735      7420 666F 
 1735      7220 6D6F 
 1736               		.section	.text.luaL_openlib,"ax",@progbits
 1737               	.global	luaL_openlib
 1738               		.type	luaL_openlib, @function
 1739               	luaL_openlib:
 1740 0000 4F92      		push r4
 1741 0002 5F92      		push r5
 1742 0004 6F92      		push r6
 1743 0006 7F92      		push r7
 1744 0008 8F92      		push r8
 1745 000a 9F92      		push r9
 1746 000c AF92      		push r10
 1747 000e BF92      		push r11
 1748 0010 CF92      		push r12
 1749 0012 DF92      		push r13
 1750 0014 EF92      		push r14
 1751 0016 FF92      		push r15
 1752 0018 0F93      		push r16
 1753 001a 1F93      		push r17
 1754 001c CF93      		push r28
 1755 001e DF93      		push r29
 1756               	/* prologue: function */
 1757               	/* frame size = 0 */
 1758               	/* stack size = 16 */
 1759               	.L__stack_usage = 16
 1760 0020 D82F      		mov r29,r24
 1761 0022 C92F      		mov r28,r25
 1762 0024 5B01      		movw r10,r22
 1763 0026 6A01      		movw r12,r20
 1764 0028 7901      		movw r14,r18
 1765 002a 672B      		or r22,r23
 1766 002c 01F4      		brne .+2
 1767 002e 00C0      		rjmp .L130
 1768 0030 FA01      		movw r30,r20
 1769 0032 812C      		mov r8,__zero_reg__
 1770 0034 912C      		mov r9,__zero_reg__
 1771               	.L131:
 1772 0036 8081      		ld r24,Z
 1773 0038 9181      		ldd r25,Z+1
 1774 003a 892B      		or r24,r25
 1775 003c 01F0      		breq .L150
 1776 003e 8FEF      		ldi r24,-1
 1777 0040 881A      		sub r8,r24
GAS LISTING /tmp/ccug8R7j.s 			page 33


 1778 0042 980A      		sbc r9,r24
 1779 0044 3496      		adiw r30,4
 1780 0046 00C0      		rjmp .L131
 1781               	.L150:
 1782 0048 21E0      		ldi r18,lo8(1)
 1783 004a 30E0      		ldi r19,0
 1784 004c 40E0      		ldi r20,lo8(.LC18)
 1785 004e 50E0      		ldi r21,hi8(.LC18)
 1786 0050 60EF      		ldi r22,lo8(-16)
 1787 0052 78ED      		ldi r23,lo8(-40)
 1788 0054 8D2F      		mov r24,r29
 1789 0056 9C2F      		mov r25,r28
 1790 0058 0E94 0000 		call luaL_findtable
 1791 005c A501      		movw r20,r10
 1792 005e 6FEF      		ldi r22,lo8(-1)
 1793 0060 7FEF      		ldi r23,lo8(-1)
 1794 0062 8D2F      		mov r24,r29
 1795 0064 9C2F      		mov r25,r28
 1796 0066 0E94 0000 		call lua_getfield
 1797 006a 6FEF      		ldi r22,lo8(-1)
 1798 006c 7FEF      		ldi r23,lo8(-1)
 1799 006e 8D2F      		mov r24,r29
 1800 0070 9C2F      		mov r25,r28
 1801 0072 0E94 0000 		call lua_type
 1802 0076 0797      		sbiw r24,7
 1803 0078 01F0      		breq .L133
 1804 007a 6EEF      		ldi r22,lo8(-2)
 1805 007c 7FEF      		ldi r23,lo8(-1)
 1806 007e 8D2F      		mov r24,r29
 1807 0080 9C2F      		mov r25,r28
 1808 0082 0E94 0000 		call lua_settop
 1809 0086 9401      		movw r18,r8
 1810 0088 A501      		movw r20,r10
 1811 008a 6EEE      		ldi r22,lo8(-18)
 1812 008c 78ED      		ldi r23,lo8(-40)
 1813 008e 8D2F      		mov r24,r29
 1814 0090 9C2F      		mov r25,r28
 1815 0092 0E94 0000 		call luaL_findtable
 1816 0096 892B      		or r24,r25
 1817 0098 01F0      		breq .L134
 1818 009a BF92      		push r11
 1819 009c AF92      		push r10
 1820 009e 80E0      		ldi r24,lo8(.LC19)
 1821 00a0 90E0      		ldi r25,hi8(.LC19)
 1822 00a2 9F93      		push r25
 1823 00a4 8F93      		push r24
 1824 00a6 CF93      		push r28
 1825 00a8 DF93      		push r29
 1826 00aa 0E94 0000 		call luaL_error
 1827 00ae 0F90      		pop __tmp_reg__
 1828 00b0 0F90      		pop __tmp_reg__
 1829 00b2 0F90      		pop __tmp_reg__
 1830 00b4 0F90      		pop __tmp_reg__
 1831 00b6 0F90      		pop __tmp_reg__
 1832 00b8 0F90      		pop __tmp_reg__
 1833               	.L134:
 1834 00ba 6FEF      		ldi r22,lo8(-1)
GAS LISTING /tmp/ccug8R7j.s 			page 34


 1835 00bc 7FEF      		ldi r23,lo8(-1)
 1836 00be 8D2F      		mov r24,r29
 1837 00c0 9C2F      		mov r25,r28
 1838 00c2 0E94 0000 		call lua_pushvalue
 1839 00c6 A501      		movw r20,r10
 1840 00c8 6DEF      		ldi r22,lo8(-3)
 1841 00ca 7FEF      		ldi r23,lo8(-1)
 1842 00cc 8D2F      		mov r24,r29
 1843 00ce 9C2F      		mov r25,r28
 1844 00d0 0E94 0000 		call lua_setfield
 1845               	.L133:
 1846 00d4 6EEF      		ldi r22,lo8(-2)
 1847 00d6 7FEF      		ldi r23,lo8(-1)
 1848 00d8 8D2F      		mov r24,r29
 1849 00da 9C2F      		mov r25,r28
 1850 00dc 0E94 0000 		call lua_remove
 1851 00e0 B701      		movw r22,r14
 1852 00e2 6095      		com r22
 1853 00e4 7095      		com r23
 1854 00e6 8D2F      		mov r24,r29
 1855 00e8 9C2F      		mov r25,r28
 1856 00ea 0E94 0000 		call lua_insert
 1857               	.L130:
 1858 00ee 5601      		movw r10,r12
 1859 00f0 E2E0      		ldi r30,2
 1860 00f2 AE0E      		add r10,r30
 1861 00f4 B11C      		adc r11,__zero_reg__
 1862 00f6 6624      		clr r6
 1863 00f8 7724      		clr r7
 1864 00fa 6E18      		sub r6,r14
 1865 00fc 7F08      		sbc r7,r15
 1866 00fe 8EEF      		ldi r24,lo8(-2)
 1867 0100 9FEF      		ldi r25,lo8(-1)
 1868 0102 4C01      		movw r8,r24
 1869 0104 8E18      		sub r8,r14
 1870 0106 9F08      		sbc r9,r15
 1871               	.L135:
 1872 0108 F601      		movw r30,r12
 1873 010a 8081      		ld r24,Z
 1874 010c 9181      		ldd r25,Z+1
 1875 010e 892B      		or r24,r25
 1876 0110 01F0      		breq .L139
 1877 0112 412C      		mov r4,__zero_reg__
 1878 0114 512C      		mov r5,__zero_reg__
 1879               	.L140:
 1880 0116 4E14      		cp r4,r14
 1881 0118 5F04      		cpc r5,r15
 1882 011a 04F4      		brge .L151
 1883 011c B301      		movw r22,r6
 1884 011e 8D2F      		mov r24,r29
 1885 0120 9C2F      		mov r25,r28
 1886 0122 0E94 0000 		call lua_pushvalue
 1887 0126 FFEF      		ldi r31,-1
 1888 0128 4F1A      		sub r4,r31
 1889 012a 5F0A      		sbc r5,r31
 1890 012c 00C0      		rjmp .L140
 1891               	.L151:
GAS LISTING /tmp/ccug8R7j.s 			page 35


 1892 012e F501      		movw r30,r10
 1893 0130 6081      		ld r22,Z
 1894 0132 7181      		ldd r23,Z+1
 1895 0134 0130      		cpi r16,1
 1896 0136 1105      		cpc r17,__zero_reg__
 1897 0138 01F4      		brne .L137
 1898 013a 8D2F      		mov r24,r29
 1899 013c 9C2F      		mov r25,r28
 1900 013e 0E94 0000 		call lua_pushlightfunction
 1901 0142 00C0      		rjmp .L138
 1902               	.L137:
 1903 0144 A701      		movw r20,r14
 1904 0146 8D2F      		mov r24,r29
 1905 0148 9C2F      		mov r25,r28
 1906 014a 0E94 0000 		call lua_pushcclosure
 1907               	.L138:
 1908 014e F601      		movw r30,r12
 1909 0150 4081      		ld r20,Z
 1910 0152 5181      		ldd r21,Z+1
 1911 0154 B401      		movw r22,r8
 1912 0156 8D2F      		mov r24,r29
 1913 0158 9C2F      		mov r25,r28
 1914 015a 0E94 0000 		call lua_setfield
 1915 015e F4E0      		ldi r31,4
 1916 0160 CF0E      		add r12,r31
 1917 0162 D11C      		adc r13,__zero_reg__
 1918 0164 84E0      		ldi r24,4
 1919 0166 A80E      		add r10,r24
 1920 0168 B11C      		adc r11,__zero_reg__
 1921 016a 00C0      		rjmp .L135
 1922               	.L139:
 1923 016c B701      		movw r22,r14
 1924 016e 6095      		com r22
 1925 0170 7095      		com r23
 1926 0172 8D2F      		mov r24,r29
 1927 0174 9C2F      		mov r25,r28
 1928               	/* epilogue start */
 1929 0176 DF91      		pop r29
 1930 0178 CF91      		pop r28
 1931 017a 1F91      		pop r17
 1932 017c 0F91      		pop r16
 1933 017e FF90      		pop r15
 1934 0180 EF90      		pop r14
 1935 0182 DF90      		pop r13
 1936 0184 CF90      		pop r12
 1937 0186 BF90      		pop r11
 1938 0188 AF90      		pop r10
 1939 018a 9F90      		pop r9
 1940 018c 8F90      		pop r8
 1941 018e 7F90      		pop r7
 1942 0190 6F90      		pop r6
 1943 0192 5F90      		pop r5
 1944 0194 4F90      		pop r4
 1945 0196 0C94 0000 		jmp lua_settop
 1946               		.size	luaL_openlib, .-luaL_openlib
 1947               		.section	.text.luaL_register_light,"ax",@progbits
 1948               	.global	luaL_register_light
GAS LISTING /tmp/ccug8R7j.s 			page 36


 1949               		.type	luaL_register_light, @function
 1950               	luaL_register_light:
 1951 0000 0F93      		push r16
 1952 0002 1F93      		push r17
 1953               	/* prologue: function */
 1954               	/* frame size = 0 */
 1955               	/* stack size = 2 */
 1956               	.L__stack_usage = 2
 1957 0004 00E0      		ldi r16,0
 1958 0006 10E0      		ldi r17,0
 1959 0008 20E0      		ldi r18,0
 1960 000a 30E0      		ldi r19,0
 1961 000c 0E94 0000 		call luaL_openlib
 1962               	/* epilogue start */
 1963 0010 1F91      		pop r17
 1964 0012 0F91      		pop r16
 1965 0014 0895      		ret
 1966               		.size	luaL_register_light, .-luaL_register_light
 1967               		.section	.text.luaL_register,"ax",@progbits
 1968               	.global	luaL_register
 1969               		.type	luaL_register, @function
 1970               	luaL_register:
 1971               	/* prologue: function */
 1972               	/* frame size = 0 */
 1973               	/* stack size = 0 */
 1974               	.L__stack_usage = 0
 1975 0000 0C94 0000 		jmp luaL_register_light
 1976               		.size	luaL_register, .-luaL_register
 1977               		.section	.text.luaL_prepbuffer,"ax",@progbits
 1978               	.global	luaL_prepbuffer
 1979               		.type	luaL_prepbuffer, @function
 1980               	luaL_prepbuffer:
 1981 0000 CF93      		push r28
 1982 0002 DF93      		push r29
 1983               	/* prologue: function */
 1984               	/* frame size = 0 */
 1985               	/* stack size = 2 */
 1986               	.L__stack_usage = 2
 1987 0004 EC01      		movw r28,r24
 1988 0006 0E94 0000 		call emptybuffer
 1989 000a 892B      		or r24,r25
 1990 000c 01F0      		breq .L155
 1991 000e 8A81      		ldd r24,Y+2
 1992 0010 9B81      		ldd r25,Y+3
 1993 0012 0297      		sbiw r24,2
 1994 0014 04F0      		brlt .L155
 1995 0016 CE01      		movw r24,r28
 1996 0018 0E94 0000 		call adjuststack.part.0
 1997               	.L155:
 1998 001c CE01      		movw r24,r28
 1999 001e 0696      		adiw r24,6
 2000               	/* epilogue start */
 2001 0020 DF91      		pop r29
 2002 0022 CF91      		pop r28
 2003 0024 0895      		ret
 2004               		.size	luaL_prepbuffer, .-luaL_prepbuffer
 2005               		.section	.text.luaL_addlstring,"ax",@progbits
GAS LISTING /tmp/ccug8R7j.s 			page 37


 2006               	.global	luaL_addlstring
 2007               		.type	luaL_addlstring, @function
 2008               	luaL_addlstring:
 2009 0000 CF92      		push r12
 2010 0002 DF92      		push r13
 2011 0004 EF92      		push r14
 2012 0006 FF92      		push r15
 2013 0008 0F93      		push r16
 2014 000a 1F93      		push r17
 2015 000c CF93      		push r28
 2016 000e DF93      		push r29
 2017               	/* prologue: function */
 2018               	/* frame size = 0 */
 2019               	/* stack size = 8 */
 2020               	.L__stack_usage = 8
 2021 0010 8C01      		movw r16,r24
 2022 0012 EB01      		movw r28,r22
 2023 0014 7B01      		movw r14,r22
 2024 0016 E40E      		add r14,r20
 2025 0018 F51E      		adc r15,r21
 2026 001a 6C01      		movw r12,r24
 2027 001c 8AEF      		ldi r24,-6
 2028 001e C81A      		sub r12,r24
 2029 0020 8BEF      		ldi r24,-5
 2030 0022 D80A      		sbc r13,r24
 2031               	.L160:
 2032 0024 CE15      		cp r28,r14
 2033 0026 DF05      		cpc r29,r15
 2034 0028 01F0      		breq .L163
 2035 002a D801      		movw r26,r16
 2036 002c 8D91      		ld r24,X+
 2037 002e 9C91      		ld r25,X
 2038 0030 8C15      		cp r24,r12
 2039 0032 9D05      		cpc r25,r13
 2040 0034 00F0      		brlo .L161
 2041 0036 C801      		movw r24,r16
 2042 0038 0E94 0000 		call luaL_prepbuffer
 2043               	.L161:
 2044 003c D801      		movw r26,r16
 2045 003e ED91      		ld r30,X+
 2046 0040 FC91      		ld r31,X
 2047 0042 1197      		sbiw r26,1
 2048 0044 CF01      		movw r24,r30
 2049 0046 0196      		adiw r24,1
 2050 0048 8D93      		st X+,r24
 2051 004a 9C93      		st X,r25
 2052 004c 8991      		ld r24,Y+
 2053 004e 8083      		st Z,r24
 2054 0050 00C0      		rjmp .L160
 2055               	.L163:
 2056               	/* epilogue start */
 2057 0052 DF91      		pop r29
 2058 0054 CF91      		pop r28
 2059 0056 1F91      		pop r17
 2060 0058 0F91      		pop r16
 2061 005a FF90      		pop r15
 2062 005c EF90      		pop r14
GAS LISTING /tmp/ccug8R7j.s 			page 38


 2063 005e DF90      		pop r13
 2064 0060 CF90      		pop r12
 2065 0062 0895      		ret
 2066               		.size	luaL_addlstring, .-luaL_addlstring
 2067               		.section	.text.luaL_addstring,"ax",@progbits
 2068               	.global	luaL_addstring
 2069               		.type	luaL_addstring, @function
 2070               	luaL_addstring:
 2071               	/* prologue: function */
 2072               	/* frame size = 0 */
 2073               	/* stack size = 0 */
 2074               	.L__stack_usage = 0
 2075 0000 FB01      		movw r30,r22
 2076               		0:
 2077 0002 0190      		ld __tmp_reg__,Z+
 2078 0004 0020      		tst __tmp_reg__
 2079 0006 01F4      		brne 0b
 2080 0008 3197      		sbiw r30,1
 2081 000a AF01      		movw r20,r30
 2082 000c 461B      		sub r20,r22
 2083 000e 570B      		sbc r21,r23
 2084 0010 0C94 0000 		jmp luaL_addlstring
 2085               		.size	luaL_addstring, .-luaL_addstring
 2086               		.section	.text.luaL_pushresult,"ax",@progbits
 2087               	.global	luaL_pushresult
 2088               		.type	luaL_pushresult, @function
 2089               	luaL_pushresult:
 2090 0000 CF93      		push r28
 2091 0002 DF93      		push r29
 2092               	/* prologue: function */
 2093               	/* frame size = 0 */
 2094               	/* stack size = 2 */
 2095               	.L__stack_usage = 2
 2096 0004 EC01      		movw r28,r24
 2097 0006 0E94 0000 		call emptybuffer
 2098 000a 6A81      		ldd r22,Y+2
 2099 000c 7B81      		ldd r23,Y+3
 2100 000e 8C81      		ldd r24,Y+4
 2101 0010 9D81      		ldd r25,Y+5
 2102 0012 0E94 0000 		call lua_concat
 2103 0016 81E0      		ldi r24,lo8(1)
 2104 0018 90E0      		ldi r25,0
 2105 001a 9B83      		std Y+3,r25
 2106 001c 8A83      		std Y+2,r24
 2107               	/* epilogue start */
 2108 001e DF91      		pop r29
 2109 0020 CF91      		pop r28
 2110 0022 0895      		ret
 2111               		.size	luaL_pushresult, .-luaL_pushresult
 2112               		.section	.text.luaL_gsub,"ax",@progbits
 2113               	.global	luaL_gsub
 2114               		.type	luaL_gsub, @function
 2115               	luaL_gsub:
 2116 0000 6F92      		push r6
 2117 0002 7F92      		push r7
 2118 0004 8F92      		push r8
 2119 0006 9F92      		push r9
GAS LISTING /tmp/ccug8R7j.s 			page 39


 2120 0008 AF92      		push r10
 2121 000a BF92      		push r11
 2122 000c CF92      		push r12
 2123 000e DF92      		push r13
 2124 0010 EF92      		push r14
 2125 0012 FF92      		push r15
 2126 0014 0F93      		push r16
 2127 0016 1F93      		push r17
 2128 0018 CF93      		push r28
 2129 001a DF93      		push r29
 2130 001c CDB7      		in r28,__SP_L__
 2131 001e DEB7      		in r29,__SP_H__
 2132 0020 C650      		subi r28,6
 2133 0022 D440      		sbci r29,4
 2134 0024 0FB6      		in __tmp_reg__,__SREG__
 2135 0026 F894      		cli
 2136 0028 DEBF      		out __SP_H__,r29
 2137 002a 0FBE      		out __SREG__,__tmp_reg__
 2138 002c CDBF      		out __SP_L__,r28
 2139               	/* prologue: function */
 2140               	/* frame size = 1030 */
 2141               	/* stack size = 1044 */
 2142               	.L__stack_usage = 1044
 2143 002e 5C01      		movw r10,r24
 2144 0030 8B01      		movw r16,r22
 2145 0032 6A01      		movw r12,r20
 2146 0034 4901      		movw r8,r18
 2147 0036 FA01      		movw r30,r20
 2148               		0:
 2149 0038 0190      		ld __tmp_reg__,Z+
 2150 003a 0020      		tst __tmp_reg__
 2151 003c 01F4      		brne 0b
 2152 003e 3197      		sbiw r30,1
 2153 0040 7F01      		movw r14,r30
 2154 0042 E41A      		sub r14,r20
 2155 0044 F50A      		sbc r15,r21
 2156 0046 9E83      		std Y+6,r25
 2157 0048 8D83      		std Y+5,r24
 2158 004a CE01      		movw r24,r28
 2159 004c 0796      		adiw r24,7
 2160 004e 9A83      		std Y+2,r25
 2161 0050 8983      		std Y+1,r24
 2162 0052 1C82      		std Y+4,__zero_reg__
 2163 0054 1B82      		std Y+3,__zero_reg__
 2164               	.L167:
 2165 0056 B601      		movw r22,r12
 2166 0058 C801      		movw r24,r16
 2167 005a 0E94 0000 		call strstr
 2168 005e 3C01      		movw r6,r24
 2169 0060 892B      		or r24,r25
 2170 0062 01F0      		breq .L169
 2171 0064 A301      		movw r20,r6
 2172 0066 401B      		sub r20,r16
 2173 0068 510B      		sbc r21,r17
 2174 006a B801      		movw r22,r16
 2175 006c CE01      		movw r24,r28
 2176 006e 0196      		adiw r24,1
GAS LISTING /tmp/ccug8R7j.s 			page 40


 2177 0070 0E94 0000 		call luaL_addlstring
 2178 0074 B401      		movw r22,r8
 2179 0076 CE01      		movw r24,r28
 2180 0078 0196      		adiw r24,1
 2181 007a 0E94 0000 		call luaL_addstring
 2182 007e 8301      		movw r16,r6
 2183 0080 0E0D      		add r16,r14
 2184 0082 1F1D      		adc r17,r15
 2185 0084 00C0      		rjmp .L167
 2186               	.L169:
 2187 0086 B801      		movw r22,r16
 2188 0088 CE01      		movw r24,r28
 2189 008a 0196      		adiw r24,1
 2190 008c 0E94 0000 		call luaL_addstring
 2191 0090 CE01      		movw r24,r28
 2192 0092 0196      		adiw r24,1
 2193 0094 0E94 0000 		call luaL_pushresult
 2194 0098 40E0      		ldi r20,0
 2195 009a 50E0      		ldi r21,0
 2196 009c 6FEF      		ldi r22,lo8(-1)
 2197 009e 7FEF      		ldi r23,lo8(-1)
 2198 00a0 C501      		movw r24,r10
 2199 00a2 0E94 0000 		call lua_tolstring
 2200               	/* epilogue start */
 2201 00a6 CA5F      		subi r28,-6
 2202 00a8 DB4F      		sbci r29,-5
 2203 00aa 0FB6      		in __tmp_reg__,__SREG__
 2204 00ac F894      		cli
 2205 00ae DEBF      		out __SP_H__,r29
 2206 00b0 0FBE      		out __SREG__,__tmp_reg__
 2207 00b2 CDBF      		out __SP_L__,r28
 2208 00b4 DF91      		pop r29
 2209 00b6 CF91      		pop r28
 2210 00b8 1F91      		pop r17
 2211 00ba 0F91      		pop r16
 2212 00bc FF90      		pop r15
 2213 00be EF90      		pop r14
 2214 00c0 DF90      		pop r13
 2215 00c2 CF90      		pop r12
 2216 00c4 BF90      		pop r11
 2217 00c6 AF90      		pop r10
 2218 00c8 9F90      		pop r9
 2219 00ca 8F90      		pop r8
 2220 00cc 7F90      		pop r7
 2221 00ce 6F90      		pop r6
 2222 00d0 0895      		ret
 2223               		.size	luaL_gsub, .-luaL_gsub
 2224               		.section	.text.luaL_addvalue,"ax",@progbits
 2225               	.global	luaL_addvalue
 2226               		.type	luaL_addvalue, @function
 2227               	luaL_addvalue:
 2228 0000 EF92      		push r14
 2229 0002 FF92      		push r15
 2230 0004 0F93      		push r16
 2231 0006 1F93      		push r17
 2232 0008 CF93      		push r28
 2233 000a DF93      		push r29
GAS LISTING /tmp/ccug8R7j.s 			page 41


 2234 000c 1F92      		push __zero_reg__
 2235 000e 1F92      		push __zero_reg__
 2236 0010 CDB7      		in r28,__SP_L__
 2237 0012 DEB7      		in r29,__SP_H__
 2238               	/* prologue: function */
 2239               	/* frame size = 2 */
 2240               	/* stack size = 8 */
 2241               	.L__stack_usage = 8
 2242 0014 8C01      		movw r16,r24
 2243 0016 FC01      		movw r30,r24
 2244 0018 E480      		ldd r14,Z+4
 2245 001a F580      		ldd r15,Z+5
 2246 001c AE01      		movw r20,r28
 2247 001e 4F5F      		subi r20,-1
 2248 0020 5F4F      		sbci r21,-1
 2249 0022 6FEF      		ldi r22,lo8(-1)
 2250 0024 7FEF      		ldi r23,lo8(-1)
 2251 0026 C701      		movw r24,r14
 2252 0028 0E94 0000 		call lua_tolstring
 2253 002c BC01      		movw r22,r24
 2254 002e F801      		movw r30,r16
 2255 0030 8081      		ld r24,Z
 2256 0032 9181      		ldd r25,Z+1
 2257 0034 4981      		ldd r20,Y+1
 2258 0036 5A81      		ldd r21,Y+2
 2259 0038 9801      		movw r18,r16
 2260 003a 281B      		sub r18,r24
 2261 003c 390B      		sbc r19,r25
 2262 003e 2A5F      		subi r18,-6
 2263 0040 3B4F      		sbci r19,-5
 2264 0042 2417      		cp r18,r20
 2265 0044 3507      		cpc r19,r21
 2266 0046 00F0      		brlo .L171
 2267 0048 0E94 0000 		call memcpy
 2268 004c F801      		movw r30,r16
 2269 004e 2081      		ld r18,Z
 2270 0050 3181      		ldd r19,Z+1
 2271 0052 8981      		ldd r24,Y+1
 2272 0054 9A81      		ldd r25,Y+2
 2273 0056 820F      		add r24,r18
 2274 0058 931F      		adc r25,r19
 2275 005a 9183      		std Z+1,r25
 2276 005c 8083      		st Z,r24
 2277 005e 6EEF      		ldi r22,lo8(-2)
 2278 0060 7FEF      		ldi r23,lo8(-1)
 2279 0062 C701      		movw r24,r14
 2280 0064 0E94 0000 		call lua_settop
 2281 0068 00C0      		rjmp .L170
 2282               	.L171:
 2283 006a C801      		movw r24,r16
 2284 006c 0E94 0000 		call emptybuffer
 2285 0070 892B      		or r24,r25
 2286 0072 01F0      		breq .L173
 2287 0074 6EEF      		ldi r22,lo8(-2)
 2288 0076 7FEF      		ldi r23,lo8(-1)
 2289 0078 C701      		movw r24,r14
 2290 007a 0E94 0000 		call lua_insert
GAS LISTING /tmp/ccug8R7j.s 			page 42


 2291               	.L173:
 2292 007e F801      		movw r30,r16
 2293 0080 8281      		ldd r24,Z+2
 2294 0082 9381      		ldd r25,Z+3
 2295 0084 0196      		adiw r24,1
 2296 0086 9383      		std Z+3,r25
 2297 0088 8283      		std Z+2,r24
 2298 008a 0297      		sbiw r24,2
 2299 008c 04F0      		brlt .L170
 2300 008e C801      		movw r24,r16
 2301 0090 0E94 0000 		call adjuststack.part.0
 2302               	.L170:
 2303               	/* epilogue start */
 2304 0094 0F90      		pop __tmp_reg__
 2305 0096 0F90      		pop __tmp_reg__
 2306 0098 DF91      		pop r29
 2307 009a CF91      		pop r28
 2308 009c 1F91      		pop r17
 2309 009e 0F91      		pop r16
 2310 00a0 FF90      		pop r15
 2311 00a2 EF90      		pop r14
 2312 00a4 0895      		ret
 2313               		.size	luaL_addvalue, .-luaL_addvalue
 2314               		.section	.text.luaL_buffinit,"ax",@progbits
 2315               	.global	luaL_buffinit
 2316               		.type	luaL_buffinit, @function
 2317               	luaL_buffinit:
 2318               	/* prologue: function */
 2319               	/* frame size = 0 */
 2320               	/* stack size = 0 */
 2321               	.L__stack_usage = 0
 2322 0000 FB01      		movw r30,r22
 2323 0002 9583      		std Z+5,r25
 2324 0004 8483      		std Z+4,r24
 2325 0006 CB01      		movw r24,r22
 2326 0008 0696      		adiw r24,6
 2327 000a 9183      		std Z+1,r25
 2328 000c 8083      		st Z,r24
 2329 000e 1382      		std Z+3,__zero_reg__
 2330 0010 1282      		std Z+2,__zero_reg__
 2331 0012 0895      		ret
 2332               		.size	luaL_buffinit, .-luaL_buffinit
 2333               		.section	.text.luaL_ref,"ax",@progbits
 2334               	.global	luaL_ref
 2335               		.type	luaL_ref, @function
 2336               	luaL_ref:
 2337 0000 EF92      		push r14
 2338 0002 FF92      		push r15
 2339 0004 0F93      		push r16
 2340 0006 1F93      		push r17
 2341 0008 CF93      		push r28
 2342 000a DF93      		push r29
 2343               	/* prologue: function */
 2344               	/* frame size = 0 */
 2345               	/* stack size = 6 */
 2346               	.L__stack_usage = 6
 2347 000c EC01      		movw r28,r24
GAS LISTING /tmp/ccug8R7j.s 			page 43


 2348 000e 8B01      		movw r16,r22
 2349 0010 CB01      		movw r24,r22
 2350 0012 815F      		subi r24,-15
 2351 0014 984D      		sbci r25,-40
 2352 0016 8031      		cpi r24,16
 2353 0018 9742      		sbci r25,39
 2354 001a 00F4      		brsh .L179
 2355 001c CE01      		movw r24,r28
 2356 001e 0E94 0000 		call lua_gettop
 2357 0022 800F      		add r24,r16
 2358 0024 911F      		adc r25,r17
 2359 0026 8C01      		movw r16,r24
 2360 0028 0F5F      		subi r16,-1
 2361 002a 1F4F      		sbci r17,-1
 2362               	.L179:
 2363 002c 6FEF      		ldi r22,lo8(-1)
 2364 002e 7FEF      		ldi r23,lo8(-1)
 2365 0030 CE01      		movw r24,r28
 2366 0032 0E94 0000 		call lua_type
 2367 0036 892B      		or r24,r25
 2368 0038 01F4      		brne .L180
 2369 003a 6EEF      		ldi r22,lo8(-2)
 2370 003c 7FEF      		ldi r23,lo8(-1)
 2371 003e CE01      		movw r24,r28
 2372 0040 0E94 0000 		call lua_settop
 2373 0044 8FEF      		ldi r24,lo8(-1)
 2374 0046 9FEF      		ldi r25,lo8(-1)
 2375 0048 00C0      		rjmp .L181
 2376               	.L180:
 2377 004a 40E0      		ldi r20,0
 2378 004c 50E0      		ldi r21,0
 2379 004e B801      		movw r22,r16
 2380 0050 CE01      		movw r24,r28
 2381 0052 0E94 0000 		call lua_rawgeti
 2382 0056 6FEF      		ldi r22,lo8(-1)
 2383 0058 7FEF      		ldi r23,lo8(-1)
 2384 005a CE01      		movw r24,r28
 2385 005c 0E94 0000 		call lua_tointeger
 2386 0060 7C01      		movw r14,r24
 2387 0062 6EEF      		ldi r22,lo8(-2)
 2388 0064 7FEF      		ldi r23,lo8(-1)
 2389 0066 CE01      		movw r24,r28
 2390 0068 0E94 0000 		call lua_settop
 2391 006c E114      		cp r14,__zero_reg__
 2392 006e F104      		cpc r15,__zero_reg__
 2393 0070 01F0      		breq .L182
 2394 0072 A701      		movw r20,r14
 2395 0074 B801      		movw r22,r16
 2396 0076 CE01      		movw r24,r28
 2397 0078 0E94 0000 		call lua_rawgeti
 2398 007c 40E0      		ldi r20,0
 2399 007e 50E0      		ldi r21,0
 2400 0080 B801      		movw r22,r16
 2401 0082 CE01      		movw r24,r28
 2402 0084 0E94 0000 		call lua_rawseti
 2403 0088 00C0      		rjmp .L183
 2404               	.L182:
GAS LISTING /tmp/ccug8R7j.s 			page 44


 2405 008a B801      		movw r22,r16
 2406 008c CE01      		movw r24,r28
 2407 008e 0E94 0000 		call lua_objlen
 2408 0092 0196      		adiw r24,1
 2409 0094 7C01      		movw r14,r24
 2410               	.L183:
 2411 0096 A701      		movw r20,r14
 2412 0098 B801      		movw r22,r16
 2413 009a CE01      		movw r24,r28
 2414 009c 0E94 0000 		call lua_rawseti
 2415 00a0 C701      		movw r24,r14
 2416               	.L181:
 2417               	/* epilogue start */
 2418 00a2 DF91      		pop r29
 2419 00a4 CF91      		pop r28
 2420 00a6 1F91      		pop r17
 2421 00a8 0F91      		pop r16
 2422 00aa FF90      		pop r15
 2423 00ac EF90      		pop r14
 2424 00ae 0895      		ret
 2425               		.size	luaL_ref, .-luaL_ref
 2426               		.section	.text.luaL_unref,"ax",@progbits
 2427               	.global	luaL_unref
 2428               		.type	luaL_unref, @function
 2429               	luaL_unref:
 2430 0000 EF92      		push r14
 2431 0002 FF92      		push r15
 2432 0004 0F93      		push r16
 2433 0006 1F93      		push r17
 2434 0008 CF93      		push r28
 2435 000a DF93      		push r29
 2436               	/* prologue: function */
 2437               	/* frame size = 0 */
 2438               	/* stack size = 6 */
 2439               	.L__stack_usage = 6
 2440 000c 8C01      		movw r16,r24
 2441 000e EB01      		movw r28,r22
 2442 0010 7A01      		movw r14,r20
 2443 0012 57FD      		sbrc r21,7
 2444 0014 00C0      		rjmp .L184
 2445 0016 CB01      		movw r24,r22
 2446 0018 815F      		subi r24,-15
 2447 001a 984D      		sbci r25,-40
 2448 001c 8031      		cpi r24,16
 2449 001e 9742      		sbci r25,39
 2450 0020 00F4      		brsh .L186
 2451 0022 C801      		movw r24,r16
 2452 0024 0E94 0000 		call lua_gettop
 2453 0028 8C0F      		add r24,r28
 2454 002a 9D1F      		adc r25,r29
 2455 002c EC01      		movw r28,r24
 2456 002e 2196      		adiw r28,1
 2457               	.L186:
 2458 0030 40E0      		ldi r20,0
 2459 0032 50E0      		ldi r21,0
 2460 0034 BE01      		movw r22,r28
 2461 0036 C801      		movw r24,r16
GAS LISTING /tmp/ccug8R7j.s 			page 45


 2462 0038 0E94 0000 		call lua_rawgeti
 2463 003c A701      		movw r20,r14
 2464 003e BE01      		movw r22,r28
 2465 0040 C801      		movw r24,r16
 2466 0042 0E94 0000 		call lua_rawseti
 2467 0046 B701      		movw r22,r14
 2468 0048 C801      		movw r24,r16
 2469 004a 0E94 0000 		call lua_pushinteger
 2470 004e 40E0      		ldi r20,0
 2471 0050 50E0      		ldi r21,0
 2472 0052 BE01      		movw r22,r28
 2473 0054 C801      		movw r24,r16
 2474               	/* epilogue start */
 2475 0056 DF91      		pop r29
 2476 0058 CF91      		pop r28
 2477 005a 1F91      		pop r17
 2478 005c 0F91      		pop r16
 2479 005e FF90      		pop r15
 2480 0060 EF90      		pop r14
 2481 0062 0C94 0000 		jmp lua_rawseti
 2482               	.L184:
 2483               	/* epilogue start */
 2484 0066 DF91      		pop r29
 2485 0068 CF91      		pop r28
 2486 006a 1F91      		pop r17
 2487 006c 0F91      		pop r16
 2488 006e FF90      		pop r15
 2489 0070 EF90      		pop r14
 2490 0072 0895      		ret
 2491               		.size	luaL_unref, .-luaL_unref
 2492               		.section	.rodata.str1.1
 2493               	.LC20:
 2494 0150 3D73 7464 		.string	"=stdin"
 2494      696E 00
 2495               	.LC21:
 2496 0157 4025 7300 		.string	"@%s"
 2497               	.LC22:
 2498 015b 7200      		.string	"r"
 2499               	.LC23:
 2500 015d 6F70 656E 		.string	"open"
 2500      00
 2501               	.LC24:
 2502 0162 7262 00   		.string	"rb"
 2503               	.LC25:
 2504 0165 7265 6F70 		.string	"reopen"
 2504      656E 00
 2505               	.LC26:
 2506 016c 7265 6164 		.string	"read"
 2506      00
 2507               		.section	.text.luaL_loadfile,"ax",@progbits
 2508               	.global	luaL_loadfile
 2509               		.type	luaL_loadfile, @function
 2510               	luaL_loadfile:
 2511 0000 8F92      		push r8
 2512 0002 9F92      		push r9
 2513 0004 AF92      		push r10
 2514 0006 BF92      		push r11
GAS LISTING /tmp/ccug8R7j.s 			page 46


 2515 0008 CF92      		push r12
 2516 000a DF92      		push r13
 2517 000c EF92      		push r14
 2518 000e FF92      		push r15
 2519 0010 0F93      		push r16
 2520 0012 1F93      		push r17
 2521 0014 CF93      		push r28
 2522 0016 DF93      		push r29
 2523 0018 CDB7      		in r28,__SP_L__
 2524 001a DEB7      		in r29,__SP_H__
 2525 001c C450      		subi r28,4
 2526 001e D440      		sbci r29,4
 2527 0020 0FB6      		in __tmp_reg__,__SREG__
 2528 0022 F894      		cli
 2529 0024 DEBF      		out __SP_H__,r29
 2530 0026 0FBE      		out __SREG__,__tmp_reg__
 2531 0028 CDBF      		out __SP_L__,r28
 2532               	/* prologue: function */
 2533               	/* frame size = 1028 */
 2534               	/* stack size = 1040 */
 2535               	.L__stack_usage = 1040
 2536 002a 182F      		mov r17,r24
 2537 002c 092F      		mov r16,r25
 2538 002e 7B01      		movw r14,r22
 2539 0030 0E94 0000 		call lua_gettop
 2540 0034 0196      		adiw r24,1
 2541 0036 5C01      		movw r10,r24
 2542 0038 1A82      		std Y+2,__zero_reg__
 2543 003a 1982      		std Y+1,__zero_reg__
 2544 003c E114      		cp r14,__zero_reg__
 2545 003e F104      		cpc r15,__zero_reg__
 2546 0040 01F4      		brne .L188
 2547 0042 46E0      		ldi r20,lo8(6)
 2548 0044 50E0      		ldi r21,0
 2549 0046 60E0      		ldi r22,lo8(.LC20)
 2550 0048 70E0      		ldi r23,hi8(.LC20)
 2551 004a 812F      		mov r24,r17
 2552 004c 902F      		mov r25,r16
 2553 004e 0E94 0000 		call lua_pushlstring
 2554 0052 8091 0000 		lds r24,__iob
 2555 0056 9091 0000 		lds r25,__iob+1
 2556 005a 9C83      		std Y+4,r25
 2557 005c 8B83      		std Y+3,r24
 2558 005e 00C0      		rjmp .L189
 2559               	.L188:
 2560 0060 FF92      		push r15
 2561 0062 EF92      		push r14
 2562 0064 80E0      		ldi r24,lo8(.LC21)
 2563 0066 90E0      		ldi r25,hi8(.LC21)
 2564 0068 9F93      		push r25
 2565 006a 8F93      		push r24
 2566 006c 0F93      		push r16
 2567 006e 1F93      		push r17
 2568 0070 0E94 0000 		call lua_pushfstring
 2569 0074 60E0      		ldi r22,lo8(.LC22)
 2570 0076 70E0      		ldi r23,hi8(.LC22)
 2571 0078 C701      		movw r24,r14
GAS LISTING /tmp/ccug8R7j.s 			page 47


 2572 007a 0E94 0000 		call fopen
 2573 007e 9C83      		std Y+4,r25
 2574 0080 8B83      		std Y+3,r24
 2575 0082 0F90      		pop __tmp_reg__
 2576 0084 0F90      		pop __tmp_reg__
 2577 0086 0F90      		pop __tmp_reg__
 2578 0088 0F90      		pop __tmp_reg__
 2579 008a 0F90      		pop __tmp_reg__
 2580 008c 0F90      		pop __tmp_reg__
 2581 008e 892B      		or r24,r25
 2582 0090 01F4      		brne .L189
 2583 0092 A501      		movw r20,r10
 2584 0094 60E0      		ldi r22,lo8(.LC23)
 2585 0096 70E0      		ldi r23,hi8(.LC23)
 2586 0098 00C0      		rjmp .L216
 2587               	.L189:
 2588 009a 8B81      		ldd r24,Y+3
 2589 009c 9C81      		ldd r25,Y+4
 2590 009e 0E94 0000 		call getc
 2591 00a2 8332      		cpi r24,35
 2592 00a4 9105      		cpc r25,__zero_reg__
 2593 00a6 01F4      		brne .L191
 2594 00a8 81E0      		ldi r24,lo8(1)
 2595 00aa 90E0      		ldi r25,0
 2596 00ac 9A83      		std Y+2,r25
 2597 00ae 8983      		std Y+1,r24
 2598               	.L193:
 2599 00b0 8B81      		ldd r24,Y+3
 2600 00b2 9C81      		ldd r25,Y+4
 2601 00b4 0E94 0000 		call getc
 2602 00b8 8F3F      		cpi r24,-1
 2603 00ba 2FEF      		ldi r18,-1
 2604 00bc 9207      		cpc r25,r18
 2605 00be 01F0      		breq .L192
 2606 00c0 0A97      		sbiw r24,10
 2607 00c2 01F4      		brne .L193
 2608 00c4 8B81      		ldd r24,Y+3
 2609 00c6 9C81      		ldd r25,Y+4
 2610 00c8 0E94 0000 		call getc
 2611               	.L191:
 2612 00cc 8B31      		cpi r24,27
 2613 00ce 9105      		cpc r25,__zero_reg__
 2614 00d0 01F4      		brne .L192
 2615 00d2 E114      		cp r14,__zero_reg__
 2616 00d4 F104      		cpc r15,__zero_reg__
 2617 00d6 01F0      		breq .L192
 2618 00d8 4B81      		ldd r20,Y+3
 2619 00da 5C81      		ldd r21,Y+4
 2620 00dc 60E0      		ldi r22,lo8(.LC24)
 2621 00de 70E0      		ldi r23,hi8(.LC24)
 2622 00e0 C701      		movw r24,r14
 2623 00e2 0E94 0000 		call freopen
 2624 00e6 9C83      		std Y+4,r25
 2625 00e8 8B83      		std Y+3,r24
 2626 00ea 892B      		or r24,r25
 2627 00ec 01F4      		brne .L207
 2628 00ee A501      		movw r20,r10
GAS LISTING /tmp/ccug8R7j.s 			page 48


 2629 00f0 60E0      		ldi r22,lo8(.LC25)
 2630 00f2 70E0      		ldi r23,hi8(.LC25)
 2631 00f4 00C0      		rjmp .L216
 2632               	.L217:
 2633 00f6 8B31      		cpi r24,27
 2634 00f8 9105      		cpc r25,__zero_reg__
 2635 00fa 01F0      		breq .L196
 2636               	.L207:
 2637 00fc 8B81      		ldd r24,Y+3
 2638 00fe 9C81      		ldd r25,Y+4
 2639 0100 0E94 0000 		call getc
 2640 0104 8F3F      		cpi r24,-1
 2641 0106 2FEF      		ldi r18,-1
 2642 0108 9207      		cpc r25,r18
 2643 010a 01F4      		brne .L217
 2644               	.L196:
 2645 010c 1A82      		std Y+2,__zero_reg__
 2646 010e 1982      		std Y+1,__zero_reg__
 2647               	.L192:
 2648 0110 6B81      		ldd r22,Y+3
 2649 0112 7C81      		ldd r23,Y+4
 2650 0114 0E94 0000 		call ungetc
 2651 0118 40E0      		ldi r20,0
 2652 011a 50E0      		ldi r21,0
 2653 011c 6FEF      		ldi r22,lo8(-1)
 2654 011e 7FEF      		ldi r23,lo8(-1)
 2655 0120 812F      		mov r24,r17
 2656 0122 902F      		mov r25,r16
 2657 0124 0E94 0000 		call lua_tolstring
 2658 0128 9C01      		movw r18,r24
 2659 012a AE01      		movw r20,r28
 2660 012c 4F5F      		subi r20,-1
 2661 012e 5F4F      		sbci r21,-1
 2662 0130 60E0      		ldi r22,lo8(gs(getF))
 2663 0132 70E0      		ldi r23,hi8(gs(getF))
 2664 0134 812F      		mov r24,r17
 2665 0136 902F      		mov r25,r16
 2666 0138 0E94 0000 		call lua_load
 2667 013c 6C01      		movw r12,r24
 2668 013e 8B81      		ldd r24,Y+3
 2669 0140 9C81      		ldd r25,Y+4
 2670 0142 0E94 0000 		call ferror
 2671 0146 4C01      		movw r8,r24
 2672 0148 EF28      		or r14,r15
 2673 014a 01F0      		breq .L197
 2674 014c 8B81      		ldd r24,Y+3
 2675 014e 9C81      		ldd r25,Y+4
 2676 0150 0E94 0000 		call fclose
 2677               	.L197:
 2678 0154 B501      		movw r22,r10
 2679 0156 812F      		mov r24,r17
 2680 0158 902F      		mov r25,r16
 2681 015a 8928      		or r8,r9
 2682 015c 01F0      		breq .L198
 2683 015e 0E94 0000 		call lua_settop
 2684 0162 A501      		movw r20,r10
 2685 0164 60E0      		ldi r22,lo8(.LC26)
GAS LISTING /tmp/ccug8R7j.s 			page 49


 2686 0166 70E0      		ldi r23,hi8(.LC26)
 2687               	.L216:
 2688 0168 812F      		mov r24,r17
 2689 016a 902F      		mov r25,r16
 2690 016c 0E94 0000 		call errfile
 2691 0170 00C0      		rjmp .L214
 2692               	.L198:
 2693 0172 0E94 0000 		call lua_remove
 2694 0176 C601      		movw r24,r12
 2695               	.L214:
 2696               	/* epilogue start */
 2697 0178 CC5F      		subi r28,-4
 2698 017a DB4F      		sbci r29,-5
 2699 017c 0FB6      		in __tmp_reg__,__SREG__
 2700 017e F894      		cli
 2701 0180 DEBF      		out __SP_H__,r29
 2702 0182 0FBE      		out __SREG__,__tmp_reg__
 2703 0184 CDBF      		out __SP_L__,r28
 2704 0186 DF91      		pop r29
 2705 0188 CF91      		pop r28
 2706 018a 1F91      		pop r17
 2707 018c 0F91      		pop r16
 2708 018e FF90      		pop r15
 2709 0190 EF90      		pop r14
 2710 0192 DF90      		pop r13
 2711 0194 CF90      		pop r12
 2712 0196 BF90      		pop r11
 2713 0198 AF90      		pop r10
 2714 019a 9F90      		pop r9
 2715 019c 8F90      		pop r8
 2716 019e 0895      		ret
 2717               		.size	luaL_loadfile, .-luaL_loadfile
 2718               		.section	.text.luaL_loadbuffer,"ax",@progbits
 2719               	.global	luaL_loadbuffer
 2720               		.type	luaL_loadbuffer, @function
 2721               	luaL_loadbuffer:
 2722 0000 CF93      		push r28
 2723 0002 DF93      		push r29
 2724 0004 00D0      		rcall .
 2725 0006 1F92      		push __zero_reg__
 2726 0008 CDB7      		in r28,__SP_L__
 2727 000a DEB7      		in r29,__SP_H__
 2728               	/* prologue: function */
 2729               	/* frame size = 4 */
 2730               	/* stack size = 6 */
 2731               	.L__stack_usage = 6
 2732 000c 7A83      		std Y+2,r23
 2733 000e 6983      		std Y+1,r22
 2734 0010 5C83      		std Y+4,r21
 2735 0012 4B83      		std Y+3,r20
 2736 0014 AE01      		movw r20,r28
 2737 0016 4F5F      		subi r20,-1
 2738 0018 5F4F      		sbci r21,-1
 2739 001a 60E0      		ldi r22,lo8(gs(getS))
 2740 001c 70E0      		ldi r23,hi8(gs(getS))
 2741 001e 0E94 0000 		call lua_load
 2742               	/* epilogue start */
GAS LISTING /tmp/ccug8R7j.s 			page 50


 2743 0022 0F90      		pop __tmp_reg__
 2744 0024 0F90      		pop __tmp_reg__
 2745 0026 0F90      		pop __tmp_reg__
 2746 0028 0F90      		pop __tmp_reg__
 2747 002a DF91      		pop r29
 2748 002c CF91      		pop r28
 2749 002e 0895      		ret
 2750               		.size	luaL_loadbuffer, .-luaL_loadbuffer
 2751               		.section	.text.luaL_loadstring,"ax",@progbits
 2752               	.global	luaL_loadstring
 2753               		.type	luaL_loadstring, @function
 2754               	luaL_loadstring:
 2755               	/* prologue: function */
 2756               	/* frame size = 0 */
 2757               	/* stack size = 0 */
 2758               	.L__stack_usage = 0
 2759 0000 FB01      		movw r30,r22
 2760               		0:
 2761 0002 0190      		ld __tmp_reg__,Z+
 2762 0004 0020      		tst __tmp_reg__
 2763 0006 01F4      		brne 0b
 2764 0008 3197      		sbiw r30,1
 2765 000a AF01      		movw r20,r30
 2766 000c 461B      		sub r20,r22
 2767 000e 570B      		sbc r21,r23
 2768 0010 9B01      		movw r18,r22
 2769 0012 0C94 0000 		jmp luaL_loadbuffer
 2770               		.size	luaL_loadstring, .-luaL_loadstring
 2771               		.section	.text.luaL_newstate,"ax",@progbits
 2772               	.global	luaL_newstate
 2773               		.type	luaL_newstate, @function
 2774               	luaL_newstate:
 2775 0000 CF93      		push r28
 2776 0002 DF93      		push r29
 2777               	/* prologue: function */
 2778               	/* frame size = 0 */
 2779               	/* stack size = 2 */
 2780               	.L__stack_usage = 2
 2781 0004 60E0      		ldi r22,0
 2782 0006 70E0      		ldi r23,0
 2783 0008 80E0      		ldi r24,lo8(gs(l_alloc))
 2784 000a 90E0      		ldi r25,hi8(gs(l_alloc))
 2785 000c 0E94 0000 		call lua_newstate
 2786 0010 EC01      		movw r28,r24
 2787 0012 0097      		sbiw r24,0
 2788 0014 01F0      		breq .L221
 2789 0016 60E0      		ldi r22,lo8(gs(panic))
 2790 0018 70E0      		ldi r23,hi8(gs(panic))
 2791 001a 0E94 0000 		call lua_atpanic
 2792               	.L221:
 2793 001e CE01      		movw r24,r28
 2794               	/* epilogue start */
 2795 0020 DF91      		pop r29
 2796 0022 CF91      		pop r28
 2797 0024 0895      		ret
 2798               		.size	luaL_newstate, .-luaL_newstate
 2799               		.ident	"GCC: (GNU) 5.3.0"
GAS LISTING /tmp/ccug8R7j.s 			page 51


 2800               	.global __do_copy_data
GAS LISTING /tmp/ccug8R7j.s 			page 52


DEFINED SYMBOLS
                            *ABS*:0000000000000000 lauxlib.c
     /tmp/ccug8R7j.s:2      *ABS*:000000000000003e __SP_H__
     /tmp/ccug8R7j.s:3      *ABS*:000000000000003d __SP_L__
     /tmp/ccug8R7j.s:4      *ABS*:000000000000003f __SREG__
     /tmp/ccug8R7j.s:5      *ABS*:000000000000003b __RAMPZ__
     /tmp/ccug8R7j.s:6      *ABS*:0000000000000000 __tmp_reg__
     /tmp/ccug8R7j.s:7      *ABS*:0000000000000001 __zero_reg__
     /tmp/ccug8R7j.s:10     .text.getS:0000000000000000 getS
     /tmp/ccug8R7j.s:35     .text.emptybuffer:0000000000000000 emptybuffer
     /tmp/ccug8R7j.s:85     .text.errfile:0000000000000000 errfile
     /tmp/ccug8R7j.s:149    .text.panic:0000000000000000 panic
     /tmp/ccug8R7j.s:184    .text.l_alloc:0000000000000000 l_alloc
     /tmp/ccug8R7j.s:203    .text.adjuststack.part.0:0000000000000000 adjuststack.part.0
     /tmp/ccug8R7j.s:280    .text.getF:0000000000000000 getF
     /tmp/ccug8R7j.s:357    .text.luaL_where:0000000000000000 luaL_where
     /tmp/ccug8R7j.s:438    .text.luaL_error:0000000000000000 luaL_error
     /tmp/ccug8R7j.s:491    .text.luaL_argerror:0000000000000000 luaL_argerror
     /tmp/ccug8R7j.s:622    .text.luaL_typerror:0000000000000000 luaL_typerror
     /tmp/ccug8R7j.s:682    .text.tag_error:0000000000000000 tag_error
     /tmp/ccug8R7j.s:708    .text.luaL_newmetatable:0000000000000000 luaL_newmetatable
     /tmp/ccug8R7j.s:765    .text.luaL_checkudata:0000000000000000 luaL_checkudata
     /tmp/ccug8R7j.s:834    .text.luaL_checkstack:0000000000000000 luaL_checkstack
     /tmp/ccug8R7j.s:884    .text.luaL_checktype:0000000000000000 luaL_checktype
     /tmp/ccug8R7j.s:939    .text.luaL_checkanyfunction:0000000000000000 luaL_checkanyfunction
     /tmp/ccug8R7j.s:1007   .text.luaL_checkany:0000000000000000 luaL_checkany
     /tmp/ccug8R7j.s:1042   .text.luaL_checklstring:0000000000000000 luaL_checklstring
     /tmp/ccug8R7j.s:1078   .text.luaL_optlstring:0000000000000000 luaL_optlstring
     /tmp/ccug8R7j.s:1154   .text.luaL_checkoption:0000000000000000 luaL_checkoption
     /tmp/ccug8R7j.s:1256   .text.luaL_checknumber:0000000000000000 luaL_checknumber
     /tmp/ccug8R7j.s:1305   .text.luaL_optnumber:0000000000000000 luaL_optnumber
     /tmp/ccug8R7j.s:1367   .text.luaL_checkinteger:0000000000000000 luaL_checkinteger
     /tmp/ccug8R7j.s:1408   .text.luaL_optinteger:0000000000000000 luaL_optinteger
     /tmp/ccug8R7j.s:1450   .text.luaL_getmetafield:0000000000000000 luaL_getmetafield
     /tmp/ccug8R7j.s:1507   .text.luaL_callmeta:0000000000000000 luaL_callmeta
     /tmp/ccug8R7j.s:1574   .text.luaL_findtable:0000000000000000 luaL_findtable
     /tmp/ccug8R7j.s:1739   .text.luaL_openlib:0000000000000000 luaL_openlib
     /tmp/ccug8R7j.s:1950   .text.luaL_register_light:0000000000000000 luaL_register_light
     /tmp/ccug8R7j.s:1970   .text.luaL_register:0000000000000000 luaL_register
     /tmp/ccug8R7j.s:1980   .text.luaL_prepbuffer:0000000000000000 luaL_prepbuffer
     /tmp/ccug8R7j.s:2008   .text.luaL_addlstring:0000000000000000 luaL_addlstring
     /tmp/ccug8R7j.s:2070   .text.luaL_addstring:0000000000000000 luaL_addstring
     /tmp/ccug8R7j.s:2089   .text.luaL_pushresult:0000000000000000 luaL_pushresult
     /tmp/ccug8R7j.s:2115   .text.luaL_gsub:0000000000000000 luaL_gsub
     /tmp/ccug8R7j.s:2227   .text.luaL_addvalue:0000000000000000 luaL_addvalue
     /tmp/ccug8R7j.s:2317   .text.luaL_buffinit:0000000000000000 luaL_buffinit
     /tmp/ccug8R7j.s:2336   .text.luaL_ref:0000000000000000 luaL_ref
     /tmp/ccug8R7j.s:2429   .text.luaL_unref:0000000000000000 luaL_unref
     /tmp/ccug8R7j.s:2510   .text.luaL_loadfile:0000000000000000 luaL_loadfile
     /tmp/ccug8R7j.s:2721   .text.luaL_loadbuffer:0000000000000000 luaL_loadbuffer
     /tmp/ccug8R7j.s:2754   .text.luaL_loadstring:0000000000000000 luaL_loadstring
     /tmp/ccug8R7j.s:2774   .text.luaL_newstate:0000000000000000 luaL_newstate

UNDEFINED SYMBOLS
lua_pushlstring
lua_tolstring
lua_pushfstring
GAS LISTING /tmp/ccug8R7j.s 			page 53


lua_remove
__iob
fprintf
realloc
free
lua_objlen
lua_concat
feof
fread
lua_getstack
lua_getinfo
lua_pushvfstring
lua_error
strcmp
lua_type
lua_typename
lua_getfield
lua_settop
lua_createtable
lua_pushvalue
lua_setfield
lua_touserdata
lua_getmetatable
lua_rawequal
lua_checkstack
lua_tonumber
lua_isnumber
lua_tointeger
lua_pushstring
lua_rawget
lua_gettop
lua_call
strchr
luaR_findglobal
lua_settable
lua_insert
lua_pushlightfunction
lua_pushcclosure
strstr
memcpy
lua_rawgeti
lua_rawseti
lua_pushinteger
fopen
getc
freopen
ungetc
lua_load
ferror
fclose
lua_newstate
lua_atpanic
__do_copy_data
