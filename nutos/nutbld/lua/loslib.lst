GAS LISTING /tmp/ccA223jX.s 			page 1


   1               		.file	"loslib.c"
   2               	__SP_H__ = 0x3e
   3               	__SP_L__ = 0x3d
   4               	__SREG__ = 0x3f
   5               	__RAMPZ__ = 0x3b
   6               	__tmp_reg__ = 0
   7               	__zero_reg__ = 1
   8               		.section	.text.os_getenv,"ax",@progbits
   9               		.type	os_getenv, @function
  10               	os_getenv:
  11 0000 CF93      		push r28
  12 0002 DF93      		push r29
  13               	/* prologue: function */
  14               	/* frame size = 0 */
  15               	/* stack size = 2 */
  16               	.L__stack_usage = 2
  17 0004 EC01      		movw r28,r24
  18 0006 40E0      		ldi r20,0
  19 0008 50E0      		ldi r21,0
  20 000a 61E0      		ldi r22,lo8(1)
  21 000c 70E0      		ldi r23,0
  22 000e 0E94 0000 		call luaL_checklstring
  23 0012 0E94 0000 		call getenv
  24 0016 BC01      		movw r22,r24
  25 0018 CE01      		movw r24,r28
  26 001a 0E94 0000 		call lua_pushstring
  27 001e 81E0      		ldi r24,lo8(1)
  28 0020 90E0      		ldi r25,0
  29               	/* epilogue start */
  30 0022 DF91      		pop r29
  31 0024 CF91      		pop r28
  32 0026 0895      		ret
  33               		.size	os_getenv, .-os_getenv
  34               		.section	.text.setfield,"ax",@progbits
  35               		.type	setfield, @function
  36               	setfield:
  37 0000 0F93      		push r16
  38 0002 1F93      		push r17
  39 0004 CF93      		push r28
  40 0006 DF93      		push r29
  41               	/* prologue: function */
  42               	/* frame size = 0 */
  43               	/* stack size = 4 */
  44               	.L__stack_usage = 4
  45 0008 EC01      		movw r28,r24
  46 000a 8B01      		movw r16,r22
  47 000c BA01      		movw r22,r20
  48 000e 0E94 0000 		call lua_pushinteger
  49 0012 A801      		movw r20,r16
  50 0014 6EEF      		ldi r22,lo8(-2)
  51 0016 7FEF      		ldi r23,lo8(-1)
  52 0018 CE01      		movw r24,r28
  53               	/* epilogue start */
  54 001a DF91      		pop r29
  55 001c CF91      		pop r28
  56 001e 1F91      		pop r17
  57 0020 0F91      		pop r16
GAS LISTING /tmp/ccA223jX.s 			page 2


  58 0022 0C94 0000 		jmp lua_setfield
  59               		.size	setfield, .-setfield
  60               		.section	.rodata.str1.1,"aMS",@progbits,1
  61               	.LC0:
  62 0000 6669 656C 		.string	"field '%s' missing in date table"
  62      6420 2725 
  62      7327 206D 
  62      6973 7369 
  62      6E67 2069 
  63               		.section	.text.getfield,"ax",@progbits
  64               		.type	getfield, @function
  65               	getfield:
  66 0000 EF92      		push r14
  67 0002 FF92      		push r15
  68 0004 0F93      		push r16
  69 0006 1F93      		push r17
  70 0008 CF93      		push r28
  71 000a DF93      		push r29
  72               	/* prologue: function */
  73               	/* frame size = 0 */
  74               	/* stack size = 6 */
  75               	.L__stack_usage = 6
  76 000c D82F      		mov r29,r24
  77 000e C92F      		mov r28,r25
  78 0010 F62E      		mov r15,r22
  79 0012 E72E      		mov r14,r23
  80 0014 8A01      		movw r16,r20
  81 0016 462F      		mov r20,r22
  82 0018 572F      		mov r21,r23
  83 001a 6FEF      		ldi r22,lo8(-1)
  84 001c 7FEF      		ldi r23,lo8(-1)
  85 001e 0E94 0000 		call lua_getfield
  86 0022 6FEF      		ldi r22,lo8(-1)
  87 0024 7FEF      		ldi r23,lo8(-1)
  88 0026 8D2F      		mov r24,r29
  89 0028 9C2F      		mov r25,r28
  90 002a 0E94 0000 		call lua_isnumber
  91 002e 892B      		or r24,r25
  92 0030 01F0      		breq .L4
  93 0032 6FEF      		ldi r22,lo8(-1)
  94 0034 7FEF      		ldi r23,lo8(-1)
  95 0036 8D2F      		mov r24,r29
  96 0038 9C2F      		mov r25,r28
  97 003a 0E94 0000 		call lua_tointeger
  98 003e 8C01      		movw r16,r24
  99 0040 00C0      		rjmp .L5
 100               	.L4:
 101 0042 17FF      		sbrs r17,7
 102 0044 00C0      		rjmp .L5
 103 0046 EF92      		push r14
 104 0048 FF92      		push r15
 105 004a 80E0      		ldi r24,lo8(.LC0)
 106 004c 90E0      		ldi r25,hi8(.LC0)
 107 004e 9F93      		push r25
 108 0050 8F93      		push r24
 109 0052 CF93      		push r28
 110 0054 DF93      		push r29
GAS LISTING /tmp/ccA223jX.s 			page 3


 111 0056 0E94 0000 		call luaL_error
 112 005a 0F90      		pop __tmp_reg__
 113 005c 0F90      		pop __tmp_reg__
 114 005e 0F90      		pop __tmp_reg__
 115 0060 0F90      		pop __tmp_reg__
 116 0062 0F90      		pop __tmp_reg__
 117 0064 0F90      		pop __tmp_reg__
 118 0066 00C0      		rjmp .L6
 119               	.L5:
 120 0068 6EEF      		ldi r22,lo8(-2)
 121 006a 7FEF      		ldi r23,lo8(-1)
 122 006c 8D2F      		mov r24,r29
 123 006e 9C2F      		mov r25,r28
 124 0070 0E94 0000 		call lua_settop
 125 0074 C801      		movw r24,r16
 126               	.L6:
 127               	/* epilogue start */
 128 0076 DF91      		pop r29
 129 0078 CF91      		pop r28
 130 007a 1F91      		pop r17
 131 007c 0F91      		pop r16
 132 007e FF90      		pop r15
 133 0080 EF90      		pop r14
 134 0082 0895      		ret
 135               		.size	getfield, .-getfield
 136               		.section	.rodata.str1.1
 137               	.LC1:
 138 0021 7365 6300 		.string	"sec"
 139               	.LC2:
 140 0025 6D69 6E00 		.string	"min"
 141               	.LC3:
 142 0029 686F 7572 		.string	"hour"
 142      00
 143               	.LC4:
 144 002e 6461 7900 		.string	"day"
 145               	.LC5:
 146 0032 6D6F 6E74 		.string	"month"
 146      6800 
 147               	.LC6:
 148 0038 7965 6172 		.string	"year"
 148      00
 149               	.LC7:
 150 003d 6973 6473 		.string	"isdst"
 150      7400 
 151               		.section	.text.os_time,"ax",@progbits
 152               		.type	os_time, @function
 153               	os_time:
 154 0000 EF92      		push r14
 155 0002 FF92      		push r15
 156 0004 0F93      		push r16
 157 0006 1F93      		push r17
 158 0008 CF93      		push r28
 159 000a DF93      		push r29
 160 000c CDB7      		in r28,__SP_L__
 161 000e DEB7      		in r29,__SP_H__
 162 0010 6297      		sbiw r28,18
 163 0012 0FB6      		in __tmp_reg__,__SREG__
GAS LISTING /tmp/ccA223jX.s 			page 4


 164 0014 F894      		cli
 165 0016 DEBF      		out __SP_H__,r29
 166 0018 0FBE      		out __SREG__,__tmp_reg__
 167 001a CDBF      		out __SP_L__,r28
 168               	/* prologue: function */
 169               	/* frame size = 18 */
 170               	/* stack size = 24 */
 171               	.L__stack_usage = 24
 172 001c 8C01      		movw r16,r24
 173 001e 61E0      		ldi r22,lo8(1)
 174 0020 70E0      		ldi r23,0
 175 0022 0E94 0000 		call lua_type
 176 0026 1816      		cp __zero_reg__,r24
 177 0028 1906      		cpc __zero_reg__,r25
 178 002a 04F0      		brlt .L9
 179 002c 80E0      		ldi r24,0
 180 002e 90E0      		ldi r25,0
 181 0030 0E94 0000 		call time
 182 0034 00C0      		rjmp .L10
 183               	.L9:
 184 0036 47E0      		ldi r20,lo8(7)
 185 0038 50E0      		ldi r21,0
 186 003a 61E0      		ldi r22,lo8(1)
 187 003c 70E0      		ldi r23,0
 188 003e C801      		movw r24,r16
 189 0040 0E94 0000 		call luaL_checktype
 190 0044 61E0      		ldi r22,lo8(1)
 191 0046 70E0      		ldi r23,0
 192 0048 C801      		movw r24,r16
 193 004a 0E94 0000 		call lua_settop
 194 004e 40E0      		ldi r20,0
 195 0050 50E0      		ldi r21,0
 196 0052 60E0      		ldi r22,lo8(.LC1)
 197 0054 70E0      		ldi r23,hi8(.LC1)
 198 0056 C801      		movw r24,r16
 199 0058 0E94 0000 		call getfield
 200 005c 9A83      		std Y+2,r25
 201 005e 8983      		std Y+1,r24
 202 0060 40E0      		ldi r20,0
 203 0062 50E0      		ldi r21,0
 204 0064 60E0      		ldi r22,lo8(.LC2)
 205 0066 70E0      		ldi r23,hi8(.LC2)
 206 0068 C801      		movw r24,r16
 207 006a 0E94 0000 		call getfield
 208 006e 9C83      		std Y+4,r25
 209 0070 8B83      		std Y+3,r24
 210 0072 4CE0      		ldi r20,lo8(12)
 211 0074 50E0      		ldi r21,0
 212 0076 60E0      		ldi r22,lo8(.LC3)
 213 0078 70E0      		ldi r23,hi8(.LC3)
 214 007a C801      		movw r24,r16
 215 007c 0E94 0000 		call getfield
 216 0080 9E83      		std Y+6,r25
 217 0082 8D83      		std Y+5,r24
 218 0084 4FEF      		ldi r20,lo8(-1)
 219 0086 5FEF      		ldi r21,lo8(-1)
 220 0088 60E0      		ldi r22,lo8(.LC4)
GAS LISTING /tmp/ccA223jX.s 			page 5


 221 008a 70E0      		ldi r23,hi8(.LC4)
 222 008c C801      		movw r24,r16
 223 008e 0E94 0000 		call getfield
 224 0092 9887      		std Y+8,r25
 225 0094 8F83      		std Y+7,r24
 226 0096 4FEF      		ldi r20,lo8(-1)
 227 0098 5FEF      		ldi r21,lo8(-1)
 228 009a 60E0      		ldi r22,lo8(.LC5)
 229 009c 70E0      		ldi r23,hi8(.LC5)
 230 009e C801      		movw r24,r16
 231 00a0 0E94 0000 		call getfield
 232 00a4 0197      		sbiw r24,1
 233 00a6 9A87      		std Y+10,r25
 234 00a8 8987      		std Y+9,r24
 235 00aa 4FEF      		ldi r20,lo8(-1)
 236 00ac 5FEF      		ldi r21,lo8(-1)
 237 00ae 60E0      		ldi r22,lo8(.LC6)
 238 00b0 70E0      		ldi r23,hi8(.LC6)
 239 00b2 C801      		movw r24,r16
 240 00b4 0E94 0000 		call getfield
 241 00b8 8C56      		subi r24,108
 242 00ba 9740      		sbci r25,7
 243 00bc 9C87      		std Y+12,r25
 244 00be 8B87      		std Y+11,r24
 245 00c0 40E0      		ldi r20,lo8(.LC7)
 246 00c2 50E0      		ldi r21,hi8(.LC7)
 247 00c4 6FEF      		ldi r22,lo8(-1)
 248 00c6 7FEF      		ldi r23,lo8(-1)
 249 00c8 C801      		movw r24,r16
 250 00ca 0E94 0000 		call lua_getfield
 251 00ce 6FEF      		ldi r22,lo8(-1)
 252 00d0 7FEF      		ldi r23,lo8(-1)
 253 00d2 C801      		movw r24,r16
 254 00d4 0E94 0000 		call lua_type
 255 00d8 892B      		or r24,r25
 256 00da 01F0      		breq .L14
 257 00dc 6FEF      		ldi r22,lo8(-1)
 258 00de 7FEF      		ldi r23,lo8(-1)
 259 00e0 C801      		movw r24,r16
 260 00e2 0E94 0000 		call lua_toboolean
 261 00e6 7C01      		movw r14,r24
 262 00e8 00C0      		rjmp .L11
 263               	.L14:
 264 00ea EE24      		clr r14
 265 00ec EA94      		dec r14
 266 00ee FE2C      		mov r15,r14
 267               	.L11:
 268 00f0 6EEF      		ldi r22,lo8(-2)
 269 00f2 7FEF      		ldi r23,lo8(-1)
 270 00f4 C801      		movw r24,r16
 271 00f6 0E94 0000 		call lua_settop
 272 00fa FA8A      		std Y+18,r15
 273 00fc E98A      		std Y+17,r14
 274 00fe CE01      		movw r24,r28
 275 0100 0196      		adiw r24,1
 276 0102 0E94 0000 		call mktime
 277               	.L10:
GAS LISTING /tmp/ccA223jX.s 			page 6


 278 0106 6F3F      		cpi r22,-1
 279 0108 2FEF      		ldi r18,-1
 280 010a 7207      		cpc r23,r18
 281 010c 8207      		cpc r24,r18
 282 010e 9207      		cpc r25,r18
 283 0110 01F4      		brne .L12
 284 0112 C801      		movw r24,r16
 285 0114 0E94 0000 		call lua_pushnil
 286 0118 00C0      		rjmp .L13
 287               	.L12:
 288 011a AB01      		movw r20,r22
 289 011c BC01      		movw r22,r24
 290 011e C801      		movw r24,r16
 291 0120 0E94 0000 		call lua_pushnumber
 292               	.L13:
 293 0124 81E0      		ldi r24,lo8(1)
 294 0126 90E0      		ldi r25,0
 295               	/* epilogue start */
 296 0128 6296      		adiw r28,18
 297 012a 0FB6      		in __tmp_reg__,__SREG__
 298 012c F894      		cli
 299 012e DEBF      		out __SP_H__,r29
 300 0130 0FBE      		out __SREG__,__tmp_reg__
 301 0132 CDBF      		out __SP_L__,r28
 302 0134 DF91      		pop r29
 303 0136 CF91      		pop r28
 304 0138 1F91      		pop r17
 305 013a 0F91      		pop r16
 306 013c FF90      		pop r15
 307 013e EF90      		pop r14
 308 0140 0895      		ret
 309               		.size	os_time, .-os_time
 310               		.section	.rodata.str1.1
 311               	.LC8:
 312 0043 2563 00   		.string	"%c"
 313               	.LC9:
 314 0046 2A74 00   		.string	"*t"
 315               	.LC10:
 316 0049 7764 6179 		.string	"wday"
 316      00
 317               	.LC11:
 318 004e 7964 6179 		.string	"yday"
 318      00
 319               		.section	.text.os_date,"ax",@progbits
 320               		.type	os_date, @function
 321               	os_date:
 322 0000 CF92      		push r12
 323 0002 DF92      		push r13
 324 0004 EF92      		push r14
 325 0006 FF92      		push r15
 326 0008 0F93      		push r16
 327 000a 1F93      		push r17
 328 000c CF93      		push r28
 329 000e DF93      		push r29
 330 0010 00D0      		rcall .
 331 0012 1F92      		push __zero_reg__
 332 0014 CDB7      		in r28,__SP_L__
GAS LISTING /tmp/ccA223jX.s 			page 7


 333 0016 DEB7      		in r29,__SP_H__
 334               	/* prologue: function */
 335               	/* frame size = 4 */
 336               	/* stack size = 12 */
 337               	.L__stack_usage = 12
 338 0018 8C01      		movw r16,r24
 339 001a 20E0      		ldi r18,0
 340 001c 30E0      		ldi r19,0
 341 001e 40E0      		ldi r20,lo8(.LC8)
 342 0020 50E0      		ldi r21,hi8(.LC8)
 343 0022 61E0      		ldi r22,lo8(1)
 344 0024 70E0      		ldi r23,0
 345 0026 0E94 0000 		call luaL_optlstring
 346 002a 6C01      		movw r12,r24
 347 002c 62E0      		ldi r22,lo8(2)
 348 002e 70E0      		ldi r23,0
 349 0030 C801      		movw r24,r16
 350 0032 0E94 0000 		call lua_type
 351 0036 1816      		cp __zero_reg__,r24
 352 0038 1906      		cpc __zero_reg__,r25
 353 003a 04F0      		brlt .L16
 354 003c 80E0      		ldi r24,0
 355 003e 90E0      		ldi r25,0
 356 0040 0E94 0000 		call time
 357 0044 00C0      		rjmp .L17
 358               	.L16:
 359 0046 62E0      		ldi r22,lo8(2)
 360 0048 70E0      		ldi r23,0
 361 004a C801      		movw r24,r16
 362 004c 0E94 0000 		call luaL_checknumber
 363               	.L17:
 364 0050 6983      		std Y+1,r22
 365 0052 7A83      		std Y+2,r23
 366 0054 8B83      		std Y+3,r24
 367 0056 9C83      		std Y+4,r25
 368 0058 F601      		movw r30,r12
 369 005a 8081      		ld r24,Z
 370 005c 8132      		cpi r24,lo8(33)
 371 005e 01F4      		brne .L18
 372 0060 CE01      		movw r24,r28
 373 0062 0196      		adiw r24,1
 374 0064 0E94 0000 		call gmtime
 375 0068 7C01      		movw r14,r24
 376 006a FFEF      		ldi r31,-1
 377 006c CF1A      		sub r12,r31
 378 006e DF0A      		sbc r13,r31
 379 0070 00C0      		rjmp .L19
 380               	.L18:
 381 0072 CE01      		movw r24,r28
 382 0074 0196      		adiw r24,1
 383 0076 0E94 0000 		call localtime
 384 007a 7C01      		movw r14,r24
 385               	.L19:
 386 007c E114      		cp r14,__zero_reg__
 387 007e F104      		cpc r15,__zero_reg__
 388 0080 01F4      		brne .L20
 389               	.L22:
GAS LISTING /tmp/ccA223jX.s 			page 8


 390 0082 C801      		movw r24,r16
 391 0084 0E94 0000 		call lua_pushnil
 392 0088 00C0      		rjmp .L21
 393               	.L20:
 394 008a 60E0      		ldi r22,lo8(.LC9)
 395 008c 70E0      		ldi r23,hi8(.LC9)
 396 008e C601      		movw r24,r12
 397 0090 0E94 0000 		call strcmp
 398 0094 892B      		or r24,r25
 399 0096 01F4      		brne .L22
 400 0098 49E0      		ldi r20,lo8(9)
 401 009a 50E0      		ldi r21,0
 402 009c 60E0      		ldi r22,0
 403 009e 70E0      		ldi r23,0
 404 00a0 C801      		movw r24,r16
 405 00a2 0E94 0000 		call lua_createtable
 406 00a6 F701      		movw r30,r14
 407 00a8 4081      		ld r20,Z
 408 00aa 5181      		ldd r21,Z+1
 409 00ac 60E0      		ldi r22,lo8(.LC1)
 410 00ae 70E0      		ldi r23,hi8(.LC1)
 411 00b0 C801      		movw r24,r16
 412 00b2 0E94 0000 		call setfield
 413 00b6 F701      		movw r30,r14
 414 00b8 4281      		ldd r20,Z+2
 415 00ba 5381      		ldd r21,Z+3
 416 00bc 60E0      		ldi r22,lo8(.LC2)
 417 00be 70E0      		ldi r23,hi8(.LC2)
 418 00c0 C801      		movw r24,r16
 419 00c2 0E94 0000 		call setfield
 420 00c6 F701      		movw r30,r14
 421 00c8 4481      		ldd r20,Z+4
 422 00ca 5581      		ldd r21,Z+5
 423 00cc 60E0      		ldi r22,lo8(.LC3)
 424 00ce 70E0      		ldi r23,hi8(.LC3)
 425 00d0 C801      		movw r24,r16
 426 00d2 0E94 0000 		call setfield
 427 00d6 F701      		movw r30,r14
 428 00d8 4681      		ldd r20,Z+6
 429 00da 5781      		ldd r21,Z+7
 430 00dc 60E0      		ldi r22,lo8(.LC4)
 431 00de 70E0      		ldi r23,hi8(.LC4)
 432 00e0 C801      		movw r24,r16
 433 00e2 0E94 0000 		call setfield
 434 00e6 F701      		movw r30,r14
 435 00e8 4085      		ldd r20,Z+8
 436 00ea 5185      		ldd r21,Z+9
 437 00ec 4F5F      		subi r20,-1
 438 00ee 5F4F      		sbci r21,-1
 439 00f0 60E0      		ldi r22,lo8(.LC5)
 440 00f2 70E0      		ldi r23,hi8(.LC5)
 441 00f4 C801      		movw r24,r16
 442 00f6 0E94 0000 		call setfield
 443 00fa F701      		movw r30,r14
 444 00fc 4285      		ldd r20,Z+10
 445 00fe 5385      		ldd r21,Z+11
 446 0100 4459      		subi r20,-108
GAS LISTING /tmp/ccA223jX.s 			page 9


 447 0102 584F      		sbci r21,-8
 448 0104 60E0      		ldi r22,lo8(.LC6)
 449 0106 70E0      		ldi r23,hi8(.LC6)
 450 0108 C801      		movw r24,r16
 451 010a 0E94 0000 		call setfield
 452 010e F701      		movw r30,r14
 453 0110 4485      		ldd r20,Z+12
 454 0112 5585      		ldd r21,Z+13
 455 0114 4F5F      		subi r20,-1
 456 0116 5F4F      		sbci r21,-1
 457 0118 60E0      		ldi r22,lo8(.LC10)
 458 011a 70E0      		ldi r23,hi8(.LC10)
 459 011c C801      		movw r24,r16
 460 011e 0E94 0000 		call setfield
 461 0122 F701      		movw r30,r14
 462 0124 4685      		ldd r20,Z+14
 463 0126 5785      		ldd r21,Z+15
 464 0128 4F5F      		subi r20,-1
 465 012a 5F4F      		sbci r21,-1
 466 012c 60E0      		ldi r22,lo8(.LC11)
 467 012e 70E0      		ldi r23,hi8(.LC11)
 468 0130 C801      		movw r24,r16
 469 0132 0E94 0000 		call setfield
 470 0136 F701      		movw r30,r14
 471 0138 6089      		ldd r22,Z+16
 472 013a 7189      		ldd r23,Z+17
 473 013c 77FD      		sbrc r23,7
 474 013e 00C0      		rjmp .L21
 475 0140 C801      		movw r24,r16
 476 0142 0E94 0000 		call lua_pushboolean
 477 0146 40E0      		ldi r20,lo8(.LC7)
 478 0148 50E0      		ldi r21,hi8(.LC7)
 479 014a 6EEF      		ldi r22,lo8(-2)
 480 014c 7FEF      		ldi r23,lo8(-1)
 481 014e C801      		movw r24,r16
 482 0150 0E94 0000 		call lua_setfield
 483               	.L21:
 484 0154 81E0      		ldi r24,lo8(1)
 485 0156 90E0      		ldi r25,0
 486               	/* epilogue start */
 487 0158 0F90      		pop __tmp_reg__
 488 015a 0F90      		pop __tmp_reg__
 489 015c 0F90      		pop __tmp_reg__
 490 015e 0F90      		pop __tmp_reg__
 491 0160 DF91      		pop r29
 492 0162 CF91      		pop r28
 493 0164 1F91      		pop r17
 494 0166 0F91      		pop r16
 495 0168 FF90      		pop r15
 496 016a EF90      		pop r14
 497 016c DF90      		pop r13
 498 016e CF90      		pop r12
 499 0170 0895      		ret
 500               		.size	os_date, .-os_date
 501               		.section	.rodata.str1.1
 502               	.LC12:
 503 0053 6F73 00   		.string	"os"
GAS LISTING /tmp/ccA223jX.s 			page 10


 504               		.section	.text.luaopen_os,"ax",@progbits
 505               	.global	luaopen_os
 506               		.type	luaopen_os, @function
 507               	luaopen_os:
 508               	/* prologue: function */
 509               	/* frame size = 0 */
 510               	/* stack size = 0 */
 511               	.L__stack_usage = 0
 512 0000 40E0      		ldi r20,lo8(syslib)
 513 0002 50E0      		ldi r21,hi8(syslib)
 514 0004 60E0      		ldi r22,lo8(.LC12)
 515 0006 70E0      		ldi r23,hi8(.LC12)
 516 0008 0E94 0000 		call luaL_register
 517 000c 81E0      		ldi r24,lo8(1)
 518 000e 90E0      		ldi r25,0
 519 0010 0895      		ret
 520               		.size	luaopen_os, .-luaopen_os
 521               	.global	syslib
 522               		.section	.rodata.str1.1
 523               	.LC13:
 524 0056 6461 7465 		.string	"date"
 524      00
 525               	.LC14:
 526 005b 6765 7465 		.string	"getenv"
 526      6E76 00
 527               	.LC15:
 528 0062 7469 6D65 		.string	"time"
 528      00
 529               		.section	.rodata
 530               		.type	syslib, @object
 531               		.size	syslib, 16
 532               	syslib:
 533 0000 0000      		.word	.LC13
 534 0002 0000      		.word	gs(os_date)
 535 0004 0000      		.word	.LC14
 536 0006 0000      		.word	gs(os_getenv)
 537 0008 0000      		.word	.LC15
 538 000a 0000      		.word	gs(os_time)
 539 000c 0000      		.word	0
 540 000e 0000      		.word	0
 541               		.ident	"GCC: (GNU) 5.3.0"
 542               	.global __do_copy_data
GAS LISTING /tmp/ccA223jX.s 			page 11


DEFINED SYMBOLS
                            *ABS*:0000000000000000 loslib.c
     /tmp/ccA223jX.s:2      *ABS*:000000000000003e __SP_H__
     /tmp/ccA223jX.s:3      *ABS*:000000000000003d __SP_L__
     /tmp/ccA223jX.s:4      *ABS*:000000000000003f __SREG__
     /tmp/ccA223jX.s:5      *ABS*:000000000000003b __RAMPZ__
     /tmp/ccA223jX.s:6      *ABS*:0000000000000000 __tmp_reg__
     /tmp/ccA223jX.s:7      *ABS*:0000000000000001 __zero_reg__
     /tmp/ccA223jX.s:10     .text.os_getenv:0000000000000000 os_getenv
     /tmp/ccA223jX.s:36     .text.setfield:0000000000000000 setfield
     /tmp/ccA223jX.s:65     .text.getfield:0000000000000000 getfield
     /tmp/ccA223jX.s:153    .text.os_time:0000000000000000 os_time
     /tmp/ccA223jX.s:321    .text.os_date:0000000000000000 os_date
     /tmp/ccA223jX.s:507    .text.luaopen_os:0000000000000000 luaopen_os
     /tmp/ccA223jX.s:532    .rodata:0000000000000000 syslib

UNDEFINED SYMBOLS
luaL_checklstring
getenv
lua_pushstring
lua_pushinteger
lua_setfield
lua_getfield
lua_isnumber
lua_tointeger
luaL_error
lua_settop
lua_type
time
luaL_checktype
lua_toboolean
mktime
lua_pushnil
lua_pushnumber
luaL_optlstring
luaL_checknumber
gmtime
localtime
strcmp
lua_createtable
lua_pushboolean
luaL_register
__do_copy_data
