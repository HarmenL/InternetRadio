GAS LISTING /tmp/cc1ylUWc.s 			page 1


   1               		.file	"spibus.c"
   2               	__SP_H__ = 0x3e
   3               	__SP_L__ = 0x3d
   4               	__SREG__ = 0x3f
   5               	__RAMPZ__ = 0x3b
   6               	__tmp_reg__ = 0
   7               	__zero_reg__ = 1
   8               		.section	.text.NutRegisterSpiDevice,"ax",@progbits
   9               	.global	NutRegisterSpiDevice
  10               		.type	NutRegisterSpiDevice, @function
  11               	NutRegisterSpiDevice:
  12 0000 0F93      		push r16
  13 0002 1F93      		push r17
  14 0004 CF93      		push r28
  15 0006 DF93      		push r29
  16               	/* prologue: function */
  17               	/* frame size = 0 */
  18               	/* stack size = 4 */
  19               	.L__stack_usage = 4
  20 0008 8C01      		movw r16,r24
  21 000a EB01      		movw r28,r22
  22 000c FC01      		movw r30,r24
  23 000e 8785      		ldd r24,Z+15
  24 0010 9089      		ldd r25,Z+16
  25 0012 FC01      		movw r30,r24
  26 0014 7183      		std Z+1,r23
  27 0016 6083      		st Z,r22
  28 0018 4387      		std Z+11,r20
  29 001a E885      		ldd r30,Y+8
  30 001c F985      		ldd r31,Y+9
  31 001e 1995      		eicall
  32 0020 0097      		sbiw r24,0
  33 0022 01F4      		brne .L2
  34 0024 CE01      		movw r24,r28
  35 0026 0E94 0000 		call NutEventPost
  36 002a 40E0      		ldi r20,0
  37 002c 60E0      		ldi r22,0
  38 002e 70E0      		ldi r23,0
  39 0030 C801      		movw r24,r16
  40               	/* epilogue start */
  41 0032 DF91      		pop r29
  42 0034 CF91      		pop r28
  43 0036 1F91      		pop r17
  44 0038 0F91      		pop r16
  45 003a 0C94 0000 		jmp NutRegisterDevice
  46               	.L2:
  47               	/* epilogue start */
  48 003e DF91      		pop r29
  49 0040 CF91      		pop r28
  50 0042 1F91      		pop r17
  51 0044 0F91      		pop r16
  52 0046 0895      		ret
  53               		.size	NutRegisterSpiDevice, .-NutRegisterSpiDevice
  54               		.section	.text.NutSpiBusWait,"ax",@progbits
  55               	.global	NutSpiBusWait
  56               		.type	NutSpiBusWait, @function
  57               	NutSpiBusWait:
GAS LISTING /tmp/cc1ylUWc.s 			page 2


  58               	/* prologue: function */
  59               	/* frame size = 0 */
  60               	/* stack size = 0 */
  61               	.L__stack_usage = 0
  62 0000 80E0      		ldi r24,0
  63 0002 90E0      		ldi r25,0
  64 0004 0895      		ret
  65               		.size	NutSpiBusWait, .-NutSpiBusWait
  66               		.section	.text.NutSpiBusSetMode,"ax",@progbits
  67               	.global	NutSpiBusSetMode
  68               		.type	NutSpiBusSetMode, @function
  69               	NutSpiBusSetMode:
  70               	/* prologue: function */
  71               	/* frame size = 0 */
  72               	/* stack size = 0 */
  73               	.L__stack_usage = 0
  74 0000 FC01      		movw r30,r24
  75 0002 8085      		ldd r24,Z+8
  76 0004 9185      		ldd r25,Z+9
  77 0006 6F3F      		cpi r22,-1
  78 0008 2FEF      		ldi r18,-1
  79 000a 7207      		cpc r23,r18
  80 000c 01F0      		breq .L6
  81 000e 7068      		ori r23,128
  82 0010 7187      		std Z+9,r23
  83 0012 6087      		std Z+8,r22
  84               	.L6:
  85 0014 0895      		ret
  86               		.size	NutSpiBusSetMode, .-NutSpiBusSetMode
  87               		.section	.text.NutSpiBusSetRate,"ax",@progbits
  88               	.global	NutSpiBusSetRate
  89               		.type	NutSpiBusSetRate, @function
  90               	NutSpiBusSetRate:
  91 0000 0F93      		push r16
  92 0002 1F93      		push r17
  93               	/* prologue: function */
  94               	/* frame size = 0 */
  95               	/* stack size = 2 */
  96               	.L__stack_usage = 2
  97 0004 FC01      		movw r30,r24
  98 0006 0481      		ldd r16,Z+4
  99 0008 1581      		ldd r17,Z+5
 100 000a 2681      		ldd r18,Z+6
 101 000c 3781      		ldd r19,Z+7
 102 000e 4F3F      		cpi r20,-1
 103 0010 8FEF      		ldi r24,-1
 104 0012 5807      		cpc r21,r24
 105 0014 6807      		cpc r22,r24
 106 0016 7807      		cpc r23,r24
 107 0018 01F0      		breq .L11
 108 001a 4483      		std Z+4,r20
 109 001c 5583      		std Z+5,r21
 110 001e 6683      		std Z+6,r22
 111 0020 7783      		std Z+7,r23
 112 0022 8085      		ldd r24,Z+8
 113 0024 9185      		ldd r25,Z+9
 114 0026 9068      		ori r25,128
GAS LISTING /tmp/cc1ylUWc.s 			page 3


 115 0028 9187      		std Z+9,r25
 116 002a 8087      		std Z+8,r24
 117               	.L11:
 118 002c C901      		movw r24,r18
 119 002e B801      		movw r22,r16
 120               	/* epilogue start */
 121 0030 1F91      		pop r17
 122 0032 0F91      		pop r16
 123 0034 0895      		ret
 124               		.size	NutSpiBusSetRate, .-NutSpiBusSetRate
 125               		.section	.text.NutSpiBusHalfDuplex,"ax",@progbits
 126               	.global	NutSpiBusHalfDuplex
 127               		.type	NutSpiBusHalfDuplex, @function
 128               	NutSpiBusHalfDuplex:
 129               	/* prologue: function */
 130               	/* frame size = 0 */
 131               	/* stack size = 0 */
 132               	.L__stack_usage = 0
 133 0000 FC01      		movw r30,r24
 134 0002 2085      		ldd r18,Z+8
 135 0004 3185      		ldd r19,Z+9
 136 0006 6623      		tst r22
 137 0008 01F0      		breq .L16
 138 000a 3260      		ori r19,2
 139 000c 00C0      		rjmp .L18
 140               	.L16:
 141 000e 3D7F      		andi r19,253
 142               	.L18:
 143 0010 3187      		std Z+9,r19
 144 0012 2087      		std Z+8,r18
 145 0014 80E0      		ldi r24,0
 146 0016 0895      		ret
 147               		.size	NutSpiBusHalfDuplex, .-NutSpiBusHalfDuplex
 148               		.section	.text.NutSpiBusSetBits,"ax",@progbits
 149               	.global	NutSpiBusSetBits
 150               		.type	NutSpiBusSetBits, @function
 151               	NutSpiBusSetBits:
 152               	/* prologue: function */
 153               	/* frame size = 0 */
 154               	/* stack size = 0 */
 155               	.L__stack_usage = 0
 156 0000 FC01      		movw r30,r24
 157 0002 8285      		ldd r24,Z+10
 158 0004 6F3F      		cpi r22,lo8(-1)
 159 0006 01F0      		breq .L20
 160 0008 6287      		std Z+10,r22
 161 000a 2085      		ldd r18,Z+8
 162 000c 3185      		ldd r19,Z+9
 163 000e 3068      		ori r19,128
 164 0010 3187      		std Z+9,r19
 165 0012 2087      		std Z+8,r18
 166               	.L20:
 167 0014 0895      		ret
 168               		.size	NutSpiBusSetBits, .-NutSpiBusSetBits
 169               		.ident	"GCC: (GNU) 5.3.0"
GAS LISTING /tmp/cc1ylUWc.s 			page 4


DEFINED SYMBOLS
                            *ABS*:0000000000000000 spibus.c
     /tmp/cc1ylUWc.s:2      *ABS*:000000000000003e __SP_H__
     /tmp/cc1ylUWc.s:3      *ABS*:000000000000003d __SP_L__
     /tmp/cc1ylUWc.s:4      *ABS*:000000000000003f __SREG__
     /tmp/cc1ylUWc.s:5      *ABS*:000000000000003b __RAMPZ__
     /tmp/cc1ylUWc.s:6      *ABS*:0000000000000000 __tmp_reg__
     /tmp/cc1ylUWc.s:7      *ABS*:0000000000000001 __zero_reg__
     /tmp/cc1ylUWc.s:11     .text.NutRegisterSpiDevice:0000000000000000 NutRegisterSpiDevice
     /tmp/cc1ylUWc.s:57     .text.NutSpiBusWait:0000000000000000 NutSpiBusWait
     /tmp/cc1ylUWc.s:69     .text.NutSpiBusSetMode:0000000000000000 NutSpiBusSetMode
     /tmp/cc1ylUWc.s:90     .text.NutSpiBusSetRate:0000000000000000 NutSpiBusSetRate
     /tmp/cc1ylUWc.s:128    .text.NutSpiBusHalfDuplex:0000000000000000 NutSpiBusHalfDuplex
     /tmp/cc1ylUWc.s:151    .text.NutSpiBusSetBits:0000000000000000 NutSpiBusSetBits

UNDEFINED SYMBOLS
NutEventPost
NutRegisterDevice
