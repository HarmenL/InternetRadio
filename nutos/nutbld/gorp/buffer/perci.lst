GAS LISTING /tmp/ccyvamYW.s 			page 1


   1               		.file	"perci.c"
   2               	__SP_H__ = 0x3e
   3               	__SP_L__ = 0x3d
   4               	__SREG__ = 0x3f
   5               	__RAMPZ__ = 0x3b
   6               	__tmp_reg__ = 0
   7               	__zero_reg__ = 1
   8               		.section	.text.FindNextData,"ax",@progbits
   9               		.type	FindNextData, @function
  10               	FindNextData:
  11 0000 8F92      		push r8
  12 0002 9F92      		push r9
  13 0004 AF92      		push r10
  14 0006 BF92      		push r11
  15 0008 CF92      		push r12
  16 000a DF92      		push r13
  17 000c EF92      		push r14
  18 000e FF92      		push r15
  19 0010 0F93      		push r16
  20 0012 1F93      		push r17
  21 0014 CF93      		push r28
  22 0016 DF93      		push r29
  23 0018 1F92      		push __zero_reg__
  24 001a CDB7      		in r28,__SP_L__
  25 001c DEB7      		in r29,__SP_H__
  26               	/* prologue: function */
  27               	/* frame size = 1 */
  28               	/* stack size = 13 */
  29               	.L__stack_usage = 13
  30 001e 8C01      		movw r16,r24
  31 0020 5B01      		movw r10,r22
  32 0022 4C01      		movw r8,r24
  33 0024 86E0      		ldi r24,6
  34 0026 880E      		add r8,r24
  35 0028 911C      		adc r9,__zero_reg__
  36 002a 40E0      		ldi r20,0
  37 002c 50E0      		ldi r21,0
  38 002e BA01      		movw r22,r20
  39 0030 C401      		movw r24,r8
  40 0032 0E94 0000 		call NutEventWait
  41 0036 F501      		movw r30,r10
  42 0038 C080      		ld r12,Z
  43 003a D12C      		mov r13,__zero_reg__
  44 003c DC2C      		mov r13,r12
  45 003e CC24      		clr r12
  46 0040 0D2C      		mov __tmp_reg__,r13
  47 0042 000C      		lsl r0
  48 0044 EE08      		sbc r14,r14
  49 0046 FF08      		sbc r15,r15
  50               	.L6:
  51 0048 F801      		movw r30,r16
  52 004a 8281      		ldd r24,Z+2
  53 004c 9381      		ldd r25,Z+3
  54 004e A481      		ldd r26,Z+4
  55 0050 B581      		ldd r27,Z+5
  56 0052 C816      		cp r12,r24
  57 0054 D906      		cpc r13,r25
GAS LISTING /tmp/ccyvamYW.s 			page 2


  58 0056 EA06      		cpc r14,r26
  59 0058 FB06      		cpc r15,r27
  60 005a 04F0      		brlt .L2
  61 005c F501      		movw r30,r10
  62 005e 1082      		st Z,__zero_reg__
  63 0060 C12C      		mov r12,__zero_reg__
  64 0062 D12C      		mov r13,__zero_reg__
  65 0064 7601      		movw r14,r12
  66               	.L2:
  67 0066 F501      		movw r30,r10
  68 0068 9081      		ld r25,Z
  69 006a F801      		movw r30,r16
  70 006c 8085      		ldd r24,Z+8
  71 006e 9813      		cpse r25,r24
  72 0070 00C0      		rjmp .L3
  73 0072 8185      		ldd r24,Z+9
  74 0074 8983      		std Y+1,r24
  75 0076 00C0      		rjmp .L4
  76               	.L3:
  77 0078 20E0      		ldi r18,0
  78 007a 30E0      		ldi r19,0
  79 007c B701      		movw r22,r14
  80 007e A601      		movw r20,r12
  81 0080 F801      		movw r30,r16
  82 0082 8081      		ld r24,Z
  83 0084 9181      		ldd r25,Z+1
  84 0086 0E94 0000 		call _seek
  85 008a 41E0      		ldi r20,lo8(1)
  86 008c 50E0      		ldi r21,0
  87 008e BE01      		movw r22,r28
  88 0090 6F5F      		subi r22,-1
  89 0092 7F4F      		sbci r23,-1
  90 0094 F801      		movw r30,r16
  91 0096 8081      		ld r24,Z
  92 0098 9181      		ldd r25,Z+1
  93 009a 0E94 0000 		call _read
  94 009e 0197      		sbiw r24,1
  95 00a0 01F4      		brne .L5
  96 00a2 8981      		ldd r24,Y+1
  97 00a4 8111      		cpse r24,__zero_reg__
  98 00a6 00C0      		rjmp .L4
  99               	.L5:
 100 00a8 FFEF      		ldi r31,-1
 101 00aa DF1A      		sub r13,r31
 102 00ac EF0A      		sbc r14,r31
 103 00ae FF0A      		sbc r15,r31
 104 00b0 F501      		movw r30,r10
 105 00b2 8081      		ld r24,Z
 106 00b4 8F5F      		subi r24,lo8(-(1))
 107 00b6 8083      		st Z,r24
 108 00b8 00C0      		rjmp .L6
 109               	.L4:
 110 00ba C401      		movw r24,r8
 111 00bc 0E94 0000 		call NutEventPost
 112 00c0 8981      		ldd r24,Y+1
 113               	/* epilogue start */
 114 00c2 0F90      		pop __tmp_reg__
GAS LISTING /tmp/ccyvamYW.s 			page 3


 115 00c4 DF91      		pop r29
 116 00c6 CF91      		pop r28
 117 00c8 1F91      		pop r17
 118 00ca 0F91      		pop r16
 119 00cc FF90      		pop r15
 120 00ce EF90      		pop r14
 121 00d0 DF90      		pop r13
 122 00d2 CF90      		pop r12
 123 00d4 BF90      		pop r11
 124 00d6 AF90      		pop r10
 125 00d8 9F90      		pop r9
 126 00da 8F90      		pop r8
 127 00dc 0895      		ret
 128               		.size	FindNextData, .-FindNextData
 129               		.section	.text.PerCiDump,"ax",@progbits
 130               	.global	PerCiDump
 131               		.type	PerCiDump, @function
 132               	PerCiDump:
 133               	/* prologue: function */
 134               	/* frame size = 0 */
 135               	/* stack size = 0 */
 136               	.L__stack_usage = 0
 137 0000 0895      		ret
 138               		.size	PerCiDump, .-PerCiDump
 139               		.section	.text.PerCiInit,"ax",@progbits
 140               	.global	PerCiInit
 141               		.type	PerCiInit, @function
 142               	PerCiInit:
 143 0000 CF92      		push r12
 144 0002 DF92      		push r13
 145 0004 EF92      		push r14
 146 0006 FF92      		push r15
 147 0008 0F93      		push r16
 148 000a 1F93      		push r17
 149 000c CF93      		push r28
 150 000e DF93      		push r29
 151               	/* prologue: function */
 152               	/* frame size = 0 */
 153               	/* stack size = 8 */
 154               	.L__stack_usage = 8
 155 0010 6B01      		movw r12,r22
 156 0012 62E0      		ldi r22,lo8(2)
 157 0014 73E8      		ldi r23,lo8(-125)
 158 0016 0E94 0000 		call _open
 159 001a EC01      		movw r28,r24
 160 001c CF3F      		cpi r28,-1
 161 001e 8FEF      		ldi r24,-1
 162 0020 D807      		cpc r29,r24
 163 0022 01F0      		breq .L14
 164 0024 61E0      		ldi r22,lo8(1)
 165 0026 70E0      		ldi r23,0
 166 0028 80E0      		ldi r24,0
 167 002a 91E0      		ldi r25,lo8(1)
 168 002c 0E94 0000 		call calloc
 169 0030 8C01      		movw r16,r24
 170 0032 892B      		or r24,r25
 171 0034 01F0      		breq .L11
GAS LISTING /tmp/ccyvamYW.s 			page 4


 172 0036 E12C      		mov r14,__zero_reg__
 173 0038 F12C      		mov r15,__zero_reg__
 174               	.L12:
 175 003a EC14      		cp r14,r12
 176 003c FD04      		cpc r15,r13
 177 003e 04F4      		brge .L18
 178 0040 40E0      		ldi r20,0
 179 0042 51E0      		ldi r21,lo8(1)
 180 0044 B801      		movw r22,r16
 181 0046 CE01      		movw r24,r28
 182 0048 0E94 0000 		call _write
 183 004c 8FEF      		ldi r24,-1
 184 004e E81A      		sub r14,r24
 185 0050 F80A      		sbc r15,r24
 186 0052 00C0      		rjmp .L12
 187               	.L18:
 188 0054 41E0      		ldi r20,lo8(1)
 189 0056 50E0      		ldi r21,0
 190 0058 B801      		movw r22,r16
 191 005a CE01      		movw r24,r28
 192 005c 0E94 0000 		call _write
 193 0060 C801      		movw r24,r16
 194 0062 0E94 0000 		call free
 195               	.L11:
 196 0066 CE01      		movw r24,r28
 197 0068 0E94 0000 		call _close
 198 006c 80E0      		ldi r24,0
 199 006e 90E0      		ldi r25,0
 200 0070 00C0      		rjmp .L10
 201               	.L14:
 202 0072 8FEF      		ldi r24,lo8(-1)
 203 0074 9FEF      		ldi r25,lo8(-1)
 204               	.L10:
 205               	/* epilogue start */
 206 0076 DF91      		pop r29
 207 0078 CF91      		pop r28
 208 007a 1F91      		pop r17
 209 007c 0F91      		pop r16
 210 007e FF90      		pop r15
 211 0080 EF90      		pop r14
 212 0082 DF90      		pop r13
 213 0084 CF90      		pop r12
 214 0086 0895      		ret
 215               		.size	PerCiInit, .-PerCiInit
 216               		.section	.text.PerCiOpen,"ax",@progbits
 217               	.global	PerCiOpen
 218               		.type	PerCiOpen, @function
 219               	PerCiOpen:
 220 0000 EF92      		push r14
 221 0002 FF92      		push r15
 222 0004 0F93      		push r16
 223 0006 1F93      		push r17
 224 0008 CF93      		push r28
 225 000a DF93      		push r29
 226 000c 1F92      		push __zero_reg__
 227 000e CDB7      		in r28,__SP_L__
 228 0010 DEB7      		in r29,__SP_H__
GAS LISTING /tmp/ccyvamYW.s 			page 5


 229               	/* prologue: function */
 230               	/* frame size = 1 */
 231               	/* stack size = 7 */
 232               	.L__stack_usage = 7
 233 0012 7C01      		movw r14,r24
 234 0014 6AE0      		ldi r22,lo8(10)
 235 0016 71E0      		ldi r23,lo8(1)
 236 0018 81E0      		ldi r24,lo8(1)
 237 001a 90E0      		ldi r25,0
 238 001c 0E94 0000 		call calloc
 239 0020 8C01      		movw r16,r24
 240 0022 892B      		or r24,r25
 241 0024 01F4      		brne .+2
 242 0026 00C0      		rjmp .L31
 243 0028 62E0      		ldi r22,lo8(2)
 244 002a 70E8      		ldi r23,lo8(-128)
 245 002c C701      		movw r24,r14
 246 002e 0E94 0000 		call _open
 247 0032 F801      		movw r30,r16
 248 0034 9183      		std Z+1,r25
 249 0036 8083      		st Z,r24
 250 0038 8F3F      		cpi r24,-1
 251 003a FFEF      		ldi r31,-1
 252 003c 9F07      		cpc r25,r31
 253 003e 01F4      		brne .+2
 254 0040 00C0      		rjmp .L21
 255 0042 0E94 0000 		call _filelength
 256 0046 6130      		cpi r22,1
 257 0048 22E0      		ldi r18,2
 258 004a 7207      		cpc r23,r18
 259 004c 8105      		cpc r24,__zero_reg__
 260 004e 9105      		cpc r25,__zero_reg__
 261 0050 04F4      		brge .L22
 262 0052 F801      		movw r30,r16
 263 0054 6283      		std Z+2,r22
 264 0056 7383      		std Z+3,r23
 265 0058 8483      		std Z+4,r24
 266 005a 9583      		std Z+5,r25
 267 005c 00C0      		rjmp .L21
 268               	.L22:
 269 005e DC01      		movw r26,r24
 270 0060 CB01      		movw r24,r22
 271 0062 0197      		sbiw r24,1
 272 0064 A109      		sbc r26,__zero_reg__
 273 0066 B109      		sbc r27,__zero_reg__
 274 0068 F801      		movw r30,r16
 275 006a 8283      		std Z+2,r24
 276 006c 9383      		std Z+3,r25
 277 006e A483      		std Z+4,r26
 278 0070 B583      		std Z+5,r27
 279 0072 20E0      		ldi r18,0
 280 0074 30E0      		ldi r19,0
 281 0076 40E0      		ldi r20,0
 282 0078 50E0      		ldi r21,0
 283 007a BA01      		movw r22,r20
 284 007c 8081      		ld r24,Z
 285 007e 9181      		ldd r25,Z+1
GAS LISTING /tmp/ccyvamYW.s 			page 6


 286 0080 0E94 0000 		call _seek
 287 0084 F801      		movw r30,r16
 288 0086 1086      		std Z+8,__zero_reg__
 289               	.L26:
 290 0088 41E0      		ldi r20,lo8(1)
 291 008a 50E0      		ldi r21,0
 292 008c BE01      		movw r22,r28
 293 008e 6F5F      		subi r22,-1
 294 0090 7F4F      		sbci r23,-1
 295 0092 F801      		movw r30,r16
 296 0094 8081      		ld r24,Z
 297 0096 9181      		ldd r25,Z+1
 298 0098 0E94 0000 		call _read
 299 009c 0197      		sbiw r24,1
 300 009e 01F4      		brne .L21
 301 00a0 4981      		ldd r20,Y+1
 302 00a2 4F3F      		cpi r20,lo8(-1)
 303 00a4 01F0      		breq .L23
 304 00a6 F801      		movw r30,r16
 305 00a8 4187      		std Z+9,r20
 306 00aa 4111      		cpse r20,__zero_reg__
 307 00ac 00C0      		rjmp .L24
 308               	.L25:
 309 00ae C801      		movw r24,r16
 310 00b0 0696      		adiw r24,6
 311 00b2 0E94 0000 		call NutEventPost
 312 00b6 00C0      		rjmp .L31
 313               	.L24:
 314 00b8 50E0      		ldi r21,0
 315 00ba B801      		movw r22,r16
 316 00bc 665F      		subi r22,-10
 317 00be 7F4F      		sbci r23,-1
 318 00c0 F801      		movw r30,r16
 319 00c2 8081      		ld r24,Z
 320 00c4 9181      		ldd r25,Z+1
 321 00c6 0E94 0000 		call _read
 322 00ca 2981      		ldd r18,Y+1
 323 00cc 30E0      		ldi r19,0
 324 00ce 8217      		cp r24,r18
 325 00d0 9307      		cpc r25,r19
 326 00d2 01F4      		brne .L21
 327 00d4 00C0      		rjmp .L25
 328               	.L23:
 329 00d6 21E0      		ldi r18,lo8(1)
 330 00d8 30E0      		ldi r19,0
 331 00da 4FEF      		ldi r20,lo8(-1)
 332 00dc 50E0      		ldi r21,0
 333 00de 60E0      		ldi r22,0
 334 00e0 70E0      		ldi r23,0
 335 00e2 F801      		movw r30,r16
 336 00e4 8081      		ld r24,Z
 337 00e6 9181      		ldd r25,Z+1
 338 00e8 0E94 0000 		call _seek
 339 00ec F801      		movw r30,r16
 340 00ee 8085      		ldd r24,Z+8
 341 00f0 8F5F      		subi r24,lo8(-(1))
 342 00f2 8087      		std Z+8,r24
GAS LISTING /tmp/ccyvamYW.s 			page 7


 343 00f4 00C0      		rjmp .L26
 344               	.L21:
 345 00f6 F801      		movw r30,r16
 346 00f8 8081      		ld r24,Z
 347 00fa 9181      		ldd r25,Z+1
 348 00fc 8F3F      		cpi r24,-1
 349 00fe FFEF      		ldi r31,-1
 350 0100 9F07      		cpc r25,r31
 351 0102 01F0      		breq .L28
 352 0104 0E94 0000 		call _close
 353               	.L28:
 354 0108 C801      		movw r24,r16
 355 010a 0E94 0000 		call free
 356 010e 00E0      		ldi r16,0
 357 0110 10E0      		ldi r17,0
 358               	.L31:
 359 0112 C801      		movw r24,r16
 360               	/* epilogue start */
 361 0114 0F90      		pop __tmp_reg__
 362 0116 DF91      		pop r29
 363 0118 CF91      		pop r28
 364 011a 1F91      		pop r17
 365 011c 0F91      		pop r16
 366 011e FF90      		pop r15
 367 0120 EF90      		pop r14
 368 0122 0895      		ret
 369               		.size	PerCiOpen, .-PerCiOpen
 370               		.section	.text.PerCiFlush,"ax",@progbits
 371               	.global	PerCiFlush
 372               		.type	PerCiFlush, @function
 373               	PerCiFlush:
 374 0000 CF93      		push r28
 375 0002 DF93      		push r29
 376               	/* prologue: function */
 377               	/* frame size = 0 */
 378               	/* stack size = 2 */
 379               	.L__stack_usage = 2
 380 0004 EC01      		movw r28,r24
 381 0006 4885      		ldd r20,Y+8
 382 0008 50E0      		ldi r21,0
 383 000a 542F      		mov r21,r20
 384 000c 4427      		clr r20
 385 000e 052E      		mov __tmp_reg__,r21
 386 0010 000C      		lsl r0
 387 0012 660B      		sbc r22,r22
 388 0014 770B      		sbc r23,r23
 389 0016 20E0      		ldi r18,0
 390 0018 30E0      		ldi r19,0
 391 001a 8881      		ld r24,Y
 392 001c 9981      		ldd r25,Y+1
 393 001e 0E94 0000 		call _seek
 394 0022 4985      		ldd r20,Y+9
 395 0024 50E0      		ldi r21,0
 396 0026 4F5F      		subi r20,-1
 397 0028 5F4F      		sbci r21,-1
 398 002a BE01      		movw r22,r28
 399 002c 675F      		subi r22,-9
GAS LISTING /tmp/ccyvamYW.s 			page 8


 400 002e 7F4F      		sbci r23,-1
 401 0030 8881      		ld r24,Y
 402 0032 9981      		ldd r25,Y+1
 403               	/* epilogue start */
 404 0034 DF91      		pop r29
 405 0036 CF91      		pop r28
 406 0038 0C94 0000 		jmp _write
 407               		.size	PerCiFlush, .-PerCiFlush
 408               		.section	.text.PerCiClose,"ax",@progbits
 409               	.global	PerCiClose
 410               		.type	PerCiClose, @function
 411               	PerCiClose:
 412 0000 CF93      		push r28
 413 0002 DF93      		push r29
 414               	/* prologue: function */
 415               	/* frame size = 0 */
 416               	/* stack size = 2 */
 417               	.L__stack_usage = 2
 418 0004 EC01      		movw r28,r24
 419 0006 8985      		ldd r24,Y+9
 420 0008 8823      		tst r24
 421 000a 01F0      		breq .L38
 422 000c CE01      		movw r24,r28
 423 000e 0E94 0000 		call PerCiFlush
 424               	.L38:
 425 0012 8881      		ld r24,Y
 426 0014 9981      		ldd r25,Y+1
 427 0016 0E94 0000 		call _close
 428 001a CE01      		movw r24,r28
 429               	/* epilogue start */
 430 001c DF91      		pop r29
 431 001e CF91      		pop r28
 432 0020 0C94 0000 		jmp free
 433               		.size	PerCiClose, .-PerCiClose
 434               		.section	.text.PerCiWrite,"ax",@progbits
 435               	.global	PerCiWrite
 436               		.type	PerCiWrite, @function
 437               	PerCiWrite:
 438 0000 2F92      		push r2
 439 0002 3F92      		push r3
 440 0004 4F92      		push r4
 441 0006 5F92      		push r5
 442 0008 6F92      		push r6
 443 000a 7F92      		push r7
 444 000c 8F92      		push r8
 445 000e 9F92      		push r9
 446 0010 AF92      		push r10
 447 0012 BF92      		push r11
 448 0014 CF92      		push r12
 449 0016 DF92      		push r13
 450 0018 EF92      		push r14
 451 001a FF92      		push r15
 452 001c 0F93      		push r16
 453 001e 1F93      		push r17
 454 0020 CF93      		push r28
 455 0022 DF93      		push r29
 456               	/* prologue: function */
GAS LISTING /tmp/ccyvamYW.s 			page 9


 457               	/* frame size = 0 */
 458               	/* stack size = 18 */
 459               	.L__stack_usage = 18
 460 0024 EC01      		movw r28,r24
 461 0026 7B01      		movw r14,r22
 462 0028 6A01      		movw r12,r20
 463 002a 8C01      		movw r16,r24
 464 002c 0A5F      		subi r16,-6
 465 002e 1F4F      		sbci r17,-1
 466 0030 40E0      		ldi r20,0
 467 0032 50E0      		ldi r21,0
 468 0034 BA01      		movw r22,r20
 469 0036 C801      		movw r24,r16
 470 0038 0E94 0000 		call NutEventWait
 471 003c 512C      		mov r5,__zero_reg__
 472 003e 3601      		movw r6,r12
 473 0040 7724      		clr r7
 474 0042 8824      		clr r8
 475 0044 8A94      		dec r8
 476 0046 912C      		mov r9,__zero_reg__
 477 0048 5E01      		movw r10,r28
 478 004a 29E0      		ldi r18,9
 479 004c A20E      		add r10,r18
 480 004e B11C      		adc r11,__zero_reg__
 481               	.L43:
 482 0050 252C      		mov r2,r5
 483 0052 312C      		mov r3,__zero_reg__
 484 0054 2614      		cp r2,r6
 485 0056 3704      		cpc r3,r7
 486 0058 04F0      		brlt .+2
 487 005a 00C0      		rjmp .L53
 488 005c 2985      		ldd r18,Y+9
 489 005e 4C2C      		mov r4,r12
 490 0060 4518      		sub r4,r5
 491 0062 642D      		mov r22,r4
 492 0064 70E0      		ldi r23,0
 493 0066 822F      		mov r24,r18
 494 0068 90E0      		ldi r25,0
 495 006a A401      		movw r20,r8
 496 006c 481B      		sub r20,r24
 497 006e 590B      		sbc r21,r25
 498 0070 4617      		cp r20,r22
 499 0072 5707      		cpc r21,r23
 500 0074 00F4      		brsh .L44
 501 0076 422E      		mov r4,r18
 502 0078 4094      		com r4
 503               	.L44:
 504 007a 242C      		mov r2,r4
 505 007c 312C      		mov r3,__zero_reg__
 506 007e 0A96      		adiw r24,10
 507 0080 A101      		movw r20,r2
 508 0082 B701      		movw r22,r14
 509 0084 8C0F      		add r24,r28
 510 0086 9D1F      		adc r25,r29
 511 0088 0E94 0000 		call memcpy
 512 008c 8985      		ldd r24,Y+9
 513 008e 840D      		add r24,r4
GAS LISTING /tmp/ccyvamYW.s 			page 10


 514 0090 8987      		std Y+9,r24
 515 0092 540C      		add r5,r4
 516 0094 E20C      		add r14,r2
 517 0096 F31C      		adc r15,r3
 518 0098 8F3F      		cpi r24,lo8(-1)
 519 009a 01F4      		brne .L43
 520 009c 4885      		ldd r20,Y+8
 521 009e 50E0      		ldi r21,0
 522 00a0 542F      		mov r21,r20
 523 00a2 4427      		clr r20
 524 00a4 052E      		mov __tmp_reg__,r21
 525 00a6 000C      		lsl r0
 526 00a8 660B      		sbc r22,r22
 527 00aa 770B      		sbc r23,r23
 528 00ac 20E0      		ldi r18,0
 529 00ae 30E0      		ldi r19,0
 530 00b0 8881      		ld r24,Y
 531 00b2 9981      		ldd r25,Y+1
 532 00b4 0E94 0000 		call _seek
 533 00b8 41E0      		ldi r20,lo8(1)
 534 00ba 51E0      		ldi r21,lo8(1)
 535 00bc B501      		movw r22,r10
 536 00be 8881      		ld r24,Y
 537 00c0 9981      		ldd r25,Y+1
 538 00c2 0E94 0000 		call _write
 539 00c6 8130      		cpi r24,1
 540 00c8 9140      		sbci r25,1
 541 00ca 01F4      		brne .L52
 542 00cc 1986      		std Y+9,__zero_reg__
 543 00ce 8885      		ldd r24,Y+8
 544 00d0 8F5F      		subi r24,lo8(-(1))
 545 00d2 8887      		std Y+8,r24
 546 00d4 90E0      		ldi r25,0
 547 00d6 982F      		mov r25,r24
 548 00d8 8827      		clr r24
 549 00da 092E      		mov __tmp_reg__,r25
 550 00dc 000C      		lsl r0
 551 00de AA0B      		sbc r26,r26
 552 00e0 BB0B      		sbc r27,r27
 553 00e2 4A81      		ldd r20,Y+2
 554 00e4 5B81      		ldd r21,Y+3
 555 00e6 6C81      		ldd r22,Y+4
 556 00e8 7D81      		ldd r23,Y+5
 557 00ea 8417      		cp r24,r20
 558 00ec 9507      		cpc r25,r21
 559 00ee A607      		cpc r26,r22
 560 00f0 B707      		cpc r27,r23
 561 00f2 04F4      		brge .+2
 562 00f4 00C0      		rjmp .L43
 563 00f6 1886      		std Y+8,__zero_reg__
 564 00f8 20E0      		ldi r18,0
 565 00fa 30E0      		ldi r19,0
 566 00fc 40E0      		ldi r20,0
 567 00fe 50E0      		ldi r21,0
 568 0100 BA01      		movw r22,r20
 569 0102 8881      		ld r24,Y
 570 0104 9981      		ldd r25,Y+1
GAS LISTING /tmp/ccyvamYW.s 			page 11


 571 0106 0E94 0000 		call _seek
 572 010a 41E0      		ldi r20,lo8(1)
 573 010c 50E0      		ldi r21,0
 574 010e B501      		movw r22,r10
 575 0110 8881      		ld r24,Y
 576 0112 9981      		ldd r25,Y+1
 577 0114 0E94 0000 		call _write
 578 0118 0197      		sbiw r24,1
 579 011a 01F4      		brne .+2
 580 011c 00C0      		rjmp .L43
 581               	.L52:
 582 011e C801      		movw r24,r16
 583 0120 0E94 0000 		call NutEventPost
 584 0124 2224      		clr r2
 585 0126 2A94      		dec r2
 586 0128 322C      		mov r3,r2
 587 012a 00C0      		rjmp .L47
 588               	.L53:
 589 012c C801      		movw r24,r16
 590 012e 0E94 0000 		call NutEventPost
 591               	.L47:
 592 0132 C101      		movw r24,r2
 593               	/* epilogue start */
 594 0134 DF91      		pop r29
 595 0136 CF91      		pop r28
 596 0138 1F91      		pop r17
 597 013a 0F91      		pop r16
 598 013c FF90      		pop r15
 599 013e EF90      		pop r14
 600 0140 DF90      		pop r13
 601 0142 CF90      		pop r12
 602 0144 BF90      		pop r11
 603 0146 AF90      		pop r10
 604 0148 9F90      		pop r9
 605 014a 8F90      		pop r8
 606 014c 7F90      		pop r7
 607 014e 6F90      		pop r6
 608 0150 5F90      		pop r5
 609 0152 4F90      		pop r4
 610 0154 3F90      		pop r3
 611 0156 2F90      		pop r2
 612 0158 0895      		ret
 613               		.size	PerCiWrite, .-PerCiWrite
 614               		.section	.text.PerCiWriteVarList,"ax",@progbits
 615               	.global	PerCiWriteVarList
 616               		.type	PerCiWriteVarList, @function
 617               	PerCiWriteVarList:
 618 0000 CF92      		push r12
 619 0002 DF92      		push r13
 620 0004 EF92      		push r14
 621 0006 FF92      		push r15
 622 0008 0F93      		push r16
 623 000a 1F93      		push r17
 624 000c CF93      		push r28
 625 000e DF93      		push r29
 626               	/* prologue: function */
 627               	/* frame size = 0 */
GAS LISTING /tmp/ccyvamYW.s 			page 12


 628               	/* stack size = 8 */
 629               	.L__stack_usage = 8
 630 0010 8C01      		movw r16,r24
 631 0012 7B01      		movw r14,r22
 632 0014 6A01      		movw r12,r20
 633 0016 8FEF      		ldi r24,lo8(-1)
 634 0018 90E0      		ldi r25,0
 635 001a 0E94 0000 		call malloc
 636 001e EC01      		movw r28,r24
 637 0020 0097      		sbiw r24,0
 638 0022 01F0      		breq .L56
 639 0024 9601      		movw r18,r12
 640 0026 A701      		movw r20,r14
 641 0028 6FEF      		ldi r22,lo8(-1)
 642 002a 70E0      		ldi r23,0
 643 002c 0E94 0000 		call vsnprintf
 644 0030 FE01      		movw r30,r28
 645               		0:
 646 0032 0190      		ld __tmp_reg__,Z+
 647 0034 0020      		tst __tmp_reg__
 648 0036 01F4      		brne 0b
 649 0038 3197      		sbiw r30,1
 650 003a AF01      		movw r20,r30
 651 003c 4C1B      		sub r20,r28
 652 003e 5D0B      		sbc r21,r29
 653 0040 BE01      		movw r22,r28
 654 0042 C801      		movw r24,r16
 655 0044 0E94 0000 		call PerCiWrite
 656 0048 8C01      		movw r16,r24
 657 004a CE01      		movw r24,r28
 658 004c 0E94 0000 		call free
 659 0050 00C0      		rjmp .L55
 660               	.L56:
 661 0052 0FEF      		ldi r16,lo8(-1)
 662 0054 1FEF      		ldi r17,lo8(-1)
 663               	.L55:
 664 0056 C801      		movw r24,r16
 665               	/* epilogue start */
 666 0058 DF91      		pop r29
 667 005a CF91      		pop r28
 668 005c 1F91      		pop r17
 669 005e 0F91      		pop r16
 670 0060 FF90      		pop r15
 671 0062 EF90      		pop r14
 672 0064 DF90      		pop r13
 673 0066 CF90      		pop r12
 674 0068 0895      		ret
 675               		.size	PerCiWriteVarList, .-PerCiWriteVarList
 676               		.section	.text.PerCiWriteFormat,"ax",@progbits
 677               	.global	PerCiWriteFormat
 678               		.type	PerCiWriteFormat, @function
 679               	PerCiWriteFormat:
 680 0000 CF93      		push r28
 681 0002 DF93      		push r29
 682 0004 CDB7      		in r28,__SP_L__
 683 0006 DEB7      		in r29,__SP_H__
 684               	/* prologue: function */
GAS LISTING /tmp/ccyvamYW.s 			page 13


 685               	/* frame size = 0 */
 686               	/* stack size = 2 */
 687               	.L__stack_usage = 2
 688 0008 AE01      		movw r20,r28
 689 000a 465F      		subi r20,-10
 690 000c 5F4F      		sbci r21,-1
 691 000e 6885      		ldd r22,Y+8
 692 0010 7985      		ldd r23,Y+9
 693 0012 8E81      		ldd r24,Y+6
 694 0014 9F81      		ldd r25,Y+7
 695 0016 0E94 0000 		call PerCiWriteVarList
 696               	/* epilogue start */
 697 001a DF91      		pop r29
 698 001c CF91      		pop r28
 699 001e 0895      		ret
 700               		.size	PerCiWriteFormat, .-PerCiWriteFormat
 701               		.section	.text.PerCiAttachReader,"ax",@progbits
 702               	.global	PerCiAttachReader
 703               		.type	PerCiAttachReader, @function
 704               	PerCiAttachReader:
 705 0000 0F93      		push r16
 706 0002 1F93      		push r17
 707 0004 CF93      		push r28
 708 0006 DF93      		push r29
 709               	/* prologue: function */
 710               	/* frame size = 0 */
 711               	/* stack size = 4 */
 712               	.L__stack_usage = 4
 713 0008 8C01      		movw r16,r24
 714 000a 85E0      		ldi r24,lo8(5)
 715 000c 90E0      		ldi r25,0
 716 000e 0E94 0000 		call malloc
 717 0012 EC01      		movw r28,r24
 718 0014 1983      		std Y+1,r17
 719 0016 0883      		st Y,r16
 720 0018 1C82      		std Y+4,__zero_reg__
 721 001a F801      		movw r30,r16
 722 001c 8085      		ldd r24,Z+8
 723 001e 8F5F      		subi r24,lo8(-(1))
 724 0020 8A83      		std Y+2,r24
 725 0022 BE01      		movw r22,r28
 726 0024 6E5F      		subi r22,-2
 727 0026 7F4F      		sbci r23,-1
 728 0028 C801      		movw r24,r16
 729 002a 0E94 0000 		call FindNextData
 730 002e 8B83      		std Y+3,r24
 731 0030 CE01      		movw r24,r28
 732               	/* epilogue start */
 733 0032 DF91      		pop r29
 734 0034 CF91      		pop r28
 735 0036 1F91      		pop r17
 736 0038 0F91      		pop r16
 737 003a 0895      		ret
 738               		.size	PerCiAttachReader, .-PerCiAttachReader
 739               		.section	.text.PerCiDetachReader,"ax",@progbits
 740               	.global	PerCiDetachReader
 741               		.type	PerCiDetachReader, @function
GAS LISTING /tmp/ccyvamYW.s 			page 14


 742               	PerCiDetachReader:
 743               	/* prologue: function */
 744               	/* frame size = 0 */
 745               	/* stack size = 0 */
 746               	.L__stack_usage = 0
 747 0000 0C94 0000 		jmp free
 748               		.size	PerCiDetachReader, .-PerCiDetachReader
 749               		.section	.text.PerCiRead,"ax",@progbits
 750               	.global	PerCiRead
 751               		.type	PerCiRead, @function
 752               	PerCiRead:
 753 0000 6F92      		push r6
 754 0002 7F92      		push r7
 755 0004 8F92      		push r8
 756 0006 9F92      		push r9
 757 0008 AF92      		push r10
 758 000a BF92      		push r11
 759 000c CF92      		push r12
 760 000e DF92      		push r13
 761 0010 EF92      		push r14
 762 0012 FF92      		push r15
 763 0014 1F93      		push r17
 764 0016 CF93      		push r28
 765 0018 DF93      		push r29
 766               	/* prologue: function */
 767               	/* frame size = 0 */
 768               	/* stack size = 13 */
 769               	.L__stack_usage = 13
 770 001a EC01      		movw r28,r24
 771 001c 4B01      		movw r8,r22
 772 001e 6A01      		movw r12,r20
 773 0020 E12C      		mov r14,__zero_reg__
 774 0022 F12C      		mov r15,__zero_reg__
 775 0024 5C01      		movw r10,r24
 776 0026 82E0      		ldi r24,2
 777 0028 A80E      		add r10,r24
 778 002a B11C      		adc r11,__zero_reg__
 779               	.L61:
 780 002c EC14      		cp r14,r12
 781 002e FD04      		cpc r15,r13
 782 0030 04F0      		brlt .+2
 783 0032 00C0      		rjmp .L70
 784 0034 1C2D      		mov r17,r12
 785 0036 1E19      		sub r17,r14
 786 0038 5B81      		ldd r21,Y+3
 787 003a 4C81      		ldd r20,Y+4
 788 003c 242F      		mov r18,r20
 789 003e 30E0      		ldi r19,0
 790 0040 612F      		mov r22,r17
 791 0042 70E0      		ldi r23,0
 792 0044 852F      		mov r24,r21
 793 0046 90E0      		ldi r25,0
 794 0048 821B      		sub r24,r18
 795 004a 930B      		sbc r25,r19
 796 004c 8617      		cp r24,r22
 797 004e 9707      		cpc r25,r23
 798 0050 04F4      		brge .L62
GAS LISTING /tmp/ccyvamYW.s 			page 15


 799 0052 152F      		mov r17,r21
 800 0054 141B      		sub r17,r20
 801               	.L62:
 802 0056 8A81      		ldd r24,Y+2
 803 0058 E881      		ld r30,Y
 804 005a F981      		ldd r31,Y+1
 805 005c 9085      		ldd r25,Z+8
 806 005e 8913      		cpse r24,r25
 807 0060 00C0      		rjmp .L63
 808 0062 1123      		tst r17
 809 0064 01F0      		breq .L70
 810 0066 612E      		mov r6,r17
 811 0068 712C      		mov r7,__zero_reg__
 812 006a B901      		movw r22,r18
 813 006c 665F      		subi r22,-10
 814 006e 7F4F      		sbci r23,-1
 815 0070 6E0F      		add r22,r30
 816 0072 7F1F      		adc r23,r31
 817 0074 A301      		movw r20,r6
 818 0076 C401      		movw r24,r8
 819 0078 0E94 0000 		call memcpy
 820 007c 860C      		add r8,r6
 821 007e 971C      		adc r9,r7
 822 0080 E60C      		add r14,r6
 823 0082 F71C      		adc r15,r7
 824 0084 00C0      		rjmp .L73
 825               	.L63:
 826 0086 1123      		tst r17
 827 0088 01F0      		breq .L66
 828 008a 612E      		mov r6,r17
 829 008c 712C      		mov r7,__zero_reg__
 830 008e A301      		movw r20,r6
 831 0090 B401      		movw r22,r8
 832 0092 8081      		ld r24,Z
 833 0094 9181      		ldd r25,Z+1
 834 0096 0E94 0000 		call _read
 835 009a 8615      		cp r24,r6
 836 009c 9705      		cpc r25,r7
 837 009e 01F4      		brne .L70
 838 00a0 880E      		add r8,r24
 839 00a2 991E      		adc r9,r25
 840 00a4 E80E      		add r14,r24
 841 00a6 F91E      		adc r15,r25
 842               	.L73:
 843 00a8 8C81      		ldd r24,Y+4
 844 00aa 180F      		add r17,r24
 845 00ac 1C83      		std Y+4,r17
 846 00ae 00C0      		rjmp .L61
 847               	.L66:
 848 00b0 8F5F      		subi r24,lo8(-(1))
 849 00b2 8A83      		std Y+2,r24
 850 00b4 1C82      		std Y+4,__zero_reg__
 851 00b6 B501      		movw r22,r10
 852 00b8 CF01      		movw r24,r30
 853 00ba 0E94 0000 		call FindNextData
 854 00be 8B83      		std Y+3,r24
 855 00c0 8111      		cpse r24,__zero_reg__
GAS LISTING /tmp/ccyvamYW.s 			page 16


 856 00c2 00C0      		rjmp .L61
 857               	.L70:
 858 00c4 C701      		movw r24,r14
 859               	/* epilogue start */
 860 00c6 DF91      		pop r29
 861 00c8 CF91      		pop r28
 862 00ca 1F91      		pop r17
 863 00cc FF90      		pop r15
 864 00ce EF90      		pop r14
 865 00d0 DF90      		pop r13
 866 00d2 CF90      		pop r12
 867 00d4 BF90      		pop r11
 868 00d6 AF90      		pop r10
 869 00d8 9F90      		pop r9
 870 00da 8F90      		pop r8
 871 00dc 7F90      		pop r7
 872 00de 6F90      		pop r6
 873 00e0 0895      		ret
 874               		.size	PerCiRead, .-PerCiRead
 875               		.section	.text.PerCiReadLine,"ax",@progbits
 876               	.global	PerCiReadLine
 877               		.type	PerCiReadLine, @function
 878               	PerCiReadLine:
 879 0000 CF92      		push r12
 880 0002 DF92      		push r13
 881 0004 EF92      		push r14
 882 0006 FF92      		push r15
 883 0008 0F93      		push r16
 884 000a 1F93      		push r17
 885 000c CF93      		push r28
 886 000e DF93      		push r29
 887               	/* prologue: function */
 888               	/* frame size = 0 */
 889               	/* stack size = 8 */
 890               	.L__stack_usage = 8
 891 0010 6C01      		movw r12,r24
 892 0012 EB01      		movw r28,r22
 893 0014 7A01      		movw r14,r20
 894 0016 00E0      		ldi r16,0
 895 0018 10E0      		ldi r17,0
 896               	.L75:
 897 001a 0E15      		cp r16,r14
 898 001c 1F05      		cpc r17,r15
 899 001e 04F4      		brge .L76
 900 0020 41E0      		ldi r20,lo8(1)
 901 0022 50E0      		ldi r21,0
 902 0024 BE01      		movw r22,r28
 903 0026 C601      		movw r24,r12
 904 0028 0E94 0000 		call PerCiRead
 905 002c 0197      		sbiw r24,1
 906 002e 01F4      		brne .L76
 907 0030 0F5F      		subi r16,-1
 908 0032 1F4F      		sbci r17,-1
 909 0034 2196      		adiw r28,1
 910 0036 FE01      		movw r30,r28
 911 0038 3197      		sbiw r30,1
 912 003a 8081      		ld r24,Z
GAS LISTING /tmp/ccyvamYW.s 			page 17


 913 003c 8A30      		cpi r24,lo8(10)
 914 003e 01F4      		brne .L75
 915               	.L76:
 916 0040 1882      		st Y,__zero_reg__
 917 0042 C801      		movw r24,r16
 918               	/* epilogue start */
 919 0044 DF91      		pop r29
 920 0046 CF91      		pop r28
 921 0048 1F91      		pop r17
 922 004a 0F91      		pop r16
 923 004c FF90      		pop r15
 924 004e EF90      		pop r14
 925 0050 DF90      		pop r13
 926 0052 CF90      		pop r12
 927 0054 0895      		ret
 928               		.size	PerCiReadLine, .-PerCiReadLine
 929               		.ident	"GCC: (GNU) 5.3.0"
GAS LISTING /tmp/ccyvamYW.s 			page 18


DEFINED SYMBOLS
                            *ABS*:0000000000000000 perci.c
     /tmp/ccyvamYW.s:2      *ABS*:000000000000003e __SP_H__
     /tmp/ccyvamYW.s:3      *ABS*:000000000000003d __SP_L__
     /tmp/ccyvamYW.s:4      *ABS*:000000000000003f __SREG__
     /tmp/ccyvamYW.s:5      *ABS*:000000000000003b __RAMPZ__
     /tmp/ccyvamYW.s:6      *ABS*:0000000000000000 __tmp_reg__
     /tmp/ccyvamYW.s:7      *ABS*:0000000000000001 __zero_reg__
     /tmp/ccyvamYW.s:10     .text.FindNextData:0000000000000000 FindNextData
     /tmp/ccyvamYW.s:132    .text.PerCiDump:0000000000000000 PerCiDump
     /tmp/ccyvamYW.s:142    .text.PerCiInit:0000000000000000 PerCiInit
     /tmp/ccyvamYW.s:219    .text.PerCiOpen:0000000000000000 PerCiOpen
     /tmp/ccyvamYW.s:373    .text.PerCiFlush:0000000000000000 PerCiFlush
     /tmp/ccyvamYW.s:411    .text.PerCiClose:0000000000000000 PerCiClose
     /tmp/ccyvamYW.s:437    .text.PerCiWrite:0000000000000000 PerCiWrite
     /tmp/ccyvamYW.s:617    .text.PerCiWriteVarList:0000000000000000 PerCiWriteVarList
     /tmp/ccyvamYW.s:679    .text.PerCiWriteFormat:0000000000000000 PerCiWriteFormat
     /tmp/ccyvamYW.s:704    .text.PerCiAttachReader:0000000000000000 PerCiAttachReader
     /tmp/ccyvamYW.s:742    .text.PerCiDetachReader:0000000000000000 PerCiDetachReader
     /tmp/ccyvamYW.s:752    .text.PerCiRead:0000000000000000 PerCiRead
     /tmp/ccyvamYW.s:878    .text.PerCiReadLine:0000000000000000 PerCiReadLine

UNDEFINED SYMBOLS
NutEventWait
_seek
_read
NutEventPost
_open
calloc
_write
free
_close
_filelength
memcpy
malloc
vsnprintf
